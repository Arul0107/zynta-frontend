const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-DpfnlTpU.js","assets/antd-CjRtIVzR.js","assets/react-DoC2WAmd.js","assets/icons-De3RWgvB.js","assets/utils-DutNer1L.js","assets/defaultLocale-BFAXwUKv.js","assets/Dashboard-DyEOVQUI.css","assets/EodReport-D9PnOatU.js","assets/generateCategoricalChart-VjRq7_4Q.js","assets/tiny-invariant-D6-PeG7m.js","assets/TimeSheetDashboard-By52bx3u.js","assets/TimeSheetDashboard-fdP6TyUk.css","assets/TaskBoard-TXJrW-HH.js","assets/moment-C5S46NFB.js","assets/TaskBoard-CHcgRi9X.css","assets/InvoiceDashboard-Be7MDUwD.js","assets/Login-C2MEkjFP.js","assets/Login-DR35TRT0.css","assets/Profile-BJYfF6JM.js","assets/Settings-CdQSrVwX.js","assets/CardMaster-DuT0HlD-.js","assets/CardMaster-Ci5DnP0a.css","assets/QuotationPage-CgBnCYt2.js","assets/QuotationForm-DQ_oiu0S.js","assets/QuotationList-HAmNDq3I.js","assets/html2canvas.esm-DBTO1nPv.js","assets/QuotationPage-Bp6m3VZ9.css","assets/InvoicePage-Bqe1l0r0.js","assets/InvoiceList-92xTWJQa.js","assets/InvoiceForm-DbSTVKKo.js","assets/Leads-Cl55JbNb.js","assets/FollowUpDrawer-Do9LnWUu.js","assets/Customers-DvWC6Wjg.js","assets/CustomerProfile-R-PDfdb8.js","assets/CustomerProfile-BvdvRMlM.css","assets/UserManagement-7MPzy6cR.js","assets/DepartmentManagement-BxIDu8Ce.js","assets/TeamManagement-BSuqYgYz.js","assets/CombinedManagement-DAHh4BQA.js","assets/BrandService-Dk55AMeI.js","assets/BrandService-D8AsgepD.css","assets/ZoneView-6TEsutd1.js","assets/WorkflowBuilder-CqZ6Dl38.js","assets/style-Cg-PNO07.js","assets/style-B5DZHykP.css","assets/WorkflowListPage-CQtpv0bn.js","assets/WorkflowViewPage-BlfWWoVm.js","assets/ProcessStepPage-CaA-AFKQ.js"])))=>i.map(i=>d[i]);
import{r as k,R as cP,T as sl,P as Xy,B as _t,L as os,C as Xt,d as Ze,a as gf,E as za,F as Je,b as Fp,M as uP,c as Zn,e as Et,S as td,f as RR,g as F0,h as DR,i as mx,j as Te,k as Ky,l as En,s as mt,D as Ui,m as pn,n as ot,o as kc,p as WS,q as mf,t as Da,u as OR,v as fP,w as GS,x as Qy,y as dP,z as cr,A as Up,G as vx,H as hP,J as kR,K as Zy,N as pP,O as kh,Q as gP,U as mP,V as Dv,W as YS,X as vP,Y as yP,Z as xP,$ as _P,a0 as U0,a1 as wP}from"./antd-CjRtIVzR.js";import{r as yx,a as bP,g as Hp,b as EP,c as Nh}from"./react-DoC2WAmd.js";import{R as zp,a as SP,b as TP,c as AP,d as NR,e as nd,f as CP,g as RP,h as XS,i as DP,j as Jy,k as OP,l as KS,m as QS,n as ZS,o as JS,p as kP,q as IR,r as NP,s as MR,t as IP,u as MP,v as Ov,w as eT,x as jP,y as PP,z as LP,A as BP,B as FP}from"./icons-De3RWgvB.js";function UP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var kv={exports:{}},Ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT;function HP(){if(tT)return Ku;tT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Ku.Fragment=e,Ku.jsx=n,Ku.jsxs=n,Ku}var nT;function zP(){return nT||(nT=1,kv.exports=HP()),kv.exports}var _=zP(),Nv={exports:{}},Qu={},Iv={exports:{}},Mv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT;function $P(){return rT||(rT=1,function(t){function e(B,re){var le=B.length;B.push(re);e:for(;0<le;){var ie=le-1>>>1,Q=B[ie];if(0<i(Q,re))B[ie]=re,B[le]=Q,le=ie;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var re=B[0],le=B.pop();if(le!==re){B[0]=le;e:for(var ie=0,Q=B.length,ae=Q>>>1;ie<ae;){var D=2*(ie+1)-1,q=B[D],z=D+1,F=B[z];if(0>i(q,le))z<Q&&0>i(F,q)?(B[ie]=F,B[z]=le,ie=z):(B[ie]=q,B[D]=le,ie=D);else if(z<Q&&0>i(F,le))B[ie]=F,B[z]=le,ie=z;else break e}}return re}function i(B,re){var le=B.sortIndex-re.sortIndex;return le!==0?le:B.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var f=[],d=[],h=1,g=null,m=3,v=!1,w=!1,x=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(B){for(var re=n(d);re!==null;){if(re.callback===null)r(d);else if(re.startTime<=B)r(d),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(d)}}function P(B){if(x=!1,C(B),!w)if(n(f)!==null)w=!0,V||(V=!0,X());else{var re=n(d);re!==null&&ee(P,re.startTime-B)}}var V=!1,I=-1,j=5,L=-1;function K(){return b?!0:!(t.unstable_now()-L<j)}function te(){if(b=!1,V){var B=t.unstable_now();L=B;var re=!0;try{e:{w=!1,x&&(x=!1,T(I),I=-1),v=!0;var le=m;try{t:{for(C(B),g=n(f);g!==null&&!(g.expirationTime>B&&K());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,m=g.priorityLevel;var Q=ie(g.expirationTime<=B);if(B=t.unstable_now(),typeof Q=="function"){g.callback=Q,C(B),re=!0;break t}g===n(f)&&r(f),C(B)}else r(f);g=n(f)}if(g!==null)re=!0;else{var ae=n(d);ae!==null&&ee(P,ae.startTime-B),re=!1}}break e}finally{g=null,m=le,v=!1}re=void 0}}finally{re?X():V=!1}}}var X;if(typeof A=="function")X=function(){A(te)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,N=ce.port2;ce.port1.onmessage=te,X=function(){N.postMessage(null)}}else X=function(){S(te,0)};function ee(B,re){I=S(function(){B(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var re=3;break;default:re=m}var le=m;m=re;try{return B()}finally{m=le}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(B,re){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=m;m=B;try{return re()}finally{m=le}},t.unstable_scheduleCallback=function(B,re,le){var ie=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ie+le:ie):le=ie,B){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=le+Q,B={id:h++,callback:re,priorityLevel:B,startTime:le,expirationTime:Q,sortIndex:-1},le>ie?(B.sortIndex=le,e(d,B),n(f)===null&&B===n(d)&&(x?(T(I),I=-1):x=!0,ee(P,le-ie))):(B.sortIndex=Q,e(f,B),w||v||(w=!0,V||(V=!0,X()))),B},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(B){var re=m;return function(){var le=m;m=re;try{return B.apply(this,arguments)}finally{m=le}}}}(Mv)),Mv}var iT;function VP(){return iT||(iT=1,Iv.exports=$P()),Iv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function qP(){if(sT)return Qu;sT=1;var t=VP(),e=yx(),n=bP();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var l=o,u=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(u=l.return),o=l.return;while(o)}return l.tag===3?u:null}function a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(s(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=s(o),l===null)throw Error(r(188));return l!==o?null:o}for(var u=o,p=l;;){var y=u.return;if(y===null)break;var E=y.alternate;if(E===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===u)return c(y),o;if(E===p)return c(y),l;E=E.sibling}throw Error(r(188))}if(u.return!==p.return)u=y,p=E;else{for(var R=!1,M=y.child;M;){if(M===u){R=!0,u=y,p=E;break}if(M===p){R=!0,p=y,u=E;break}M=M.sibling}if(!R){for(M=E.child;M;){if(M===u){R=!0,u=E,p=y;break}if(M===p){R=!0,p=E,u=y;break}M=M.sibling}if(!R)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?o:l}function d(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=d(o),l!==null)return l;o=o.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function X(o){return o===null||typeof o!="object"?null:(o=te&&o[te]||o["@@iterator"],typeof o=="function"?o:null)}var ce=Symbol.for("react.client.reference");function N(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ce?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case b:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case V:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case A:return(o.displayName||"Context")+".Provider";case T:return(o._context.displayName||"Context")+".Consumer";case C:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case I:return l=o.displayName||null,l!==null?l:N(o.type)||"Memo";case j:l=o._payload,o=o._init;try{return N(o(l))}catch{}}return null}var ee=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ie=[],Q=-1;function ae(o){return{current:o}}function D(o){0>Q||(o.current=ie[Q],ie[Q]=null,Q--)}function q(o,l){Q++,ie[Q]=o.current,o.current=l}var z=ae(null),F=ae(null),se=ae(null),be=ae(null);function ke(o,l){switch(q(se,l),q(F,o),q(z,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?_S(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=_S(l),o=wS(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}D(z),q(z,o)}function Ne(){D(z),D(F),D(se)}function Ce(o){o.memoizedState!==null&&q(be,o);var l=z.current,u=wS(l,o.type);l!==u&&(q(F,o),q(z,u))}function xe(o){F.current===o&&(D(z),D(F)),be.current===o&&(D(be),qu._currentValue=le)}var J=Object.prototype.hasOwnProperty,Ae=t.unstable_scheduleCallback,Pe=t.unstable_cancelCallback,We=t.unstable_shouldYield,qe=t.unstable_requestPaint,Oe=t.unstable_now,He=t.unstable_getCurrentPriorityLevel,Dt=t.unstable_ImmediatePriority,Nn=t.unstable_UserBlockingPriority,$n=t.unstable_NormalPriority,bi=t.unstable_LowPriority,Lr=t.unstable_IdlePriority,rn=t.log,Br=t.unstable_setDisableYieldValue,Vn=null,Gt=null;function Jt(o){if(typeof rn=="function"&&Br(o),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Vn,o)}catch{}}var sn=Math.clz32?Math.clz32:ir,qi=Math.log,fn=Math.LN2;function ir(o){return o>>>=0,o===0?32:31-(qi(o)/fn|0)|0}var gr=256,mr=4194304;function In(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function sr(o,l,u){var p=o.pendingLanes;if(p===0)return 0;var y=0,E=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var M=p&134217727;return M!==0?(p=M&~E,p!==0?y=In(p):(R&=M,R!==0?y=In(R):u||(u=M&~o,u!==0&&(y=In(u))))):(M=p&~E,M!==0?y=In(M):R!==0?y=In(R):u||(u=p&~o,u!==0&&(y=In(u)))),y===0?0:l!==0&&l!==y&&(l&E)===0&&(E=y&-y,u=l&-l,E>=u||E===32&&(u&4194048)!==0)?l:y}function Mn(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function Wi(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gs(){var o=gr;return gr<<=1,(gr&4194048)===0&&(gr=256),o}function Ei(){var o=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),o}function ms(o){for(var l=[],u=0;31>u;u++)l.push(o);return l}function Gi(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Er(o,l,u,p,y,E){var R=o.pendingLanes;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=u,o.entangledLanes&=u,o.errorRecoveryDisabledLanes&=u,o.shellSuspendCounter=0;var M=o.entanglements,Z=o.expirationTimes,he=o.hiddenUpdates;for(u=R&~u;0<u;){var Re=31-sn(u),Ie=1<<Re;M[Re]=0,Z[Re]=-1;var me=he[Re];if(me!==null)for(he[Re]=null,Re=0;Re<me.length;Re++){var ye=me[Re];ye!==null&&(ye.lane&=-536870913)}u&=~Ie}p!==0&&ml(o,p,0),E!==0&&y===0&&o.tag!==0&&(o.suspendedLanes|=E&~(R&~l))}function ml(o,l,u){o.pendingLanes|=l,o.suspendedLanes&=~l;var p=31-sn(l);o.entangledLanes|=l,o.entanglements[p]=o.entanglements[p]|1073741824|u&4194090}function vl(o,l){var u=o.entangledLanes|=l;for(o=o.entanglements;u;){var p=31-sn(u),y=1<<p;y&l|o[p]&l&&(o[p]|=l),u&=~y}}function eo(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function to(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function yl(){var o=re.p;return o!==0?o:(o=window.event,o===void 0?32:US(o.type))}function nu(o,l){var u=re.p;try{return re.p=o,l()}finally{re.p=u}}var si=Math.random().toString(36).slice(2),vn="__reactFiber$"+si,yn="__reactProps$"+si,Yi="__reactContainer$"+si,no="__reactEvents$"+si,ru="__reactListeners$"+si,O="__reactHandles$"+si,G="__reactResources$"+si,U="__reactMarker$"+si;function H(o){delete o[vn],delete o[yn],delete o[no],delete o[ru],delete o[O]}function W(o){var l=o[vn];if(l)return l;for(var u=o.parentNode;u;){if(l=u[Yi]||u[vn]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(o=TS(o);o!==null;){if(u=o[vn])return u;o=TS(o)}return l}o=u,u=o.parentNode}return null}function Y(o){if(o=o[vn]||o[Yi]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function pe(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function Ee(o){var l=o[G];return l||(l=o[G]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function fe(o){o[U]=!0}var ge=new Set,ve={};function je(o,l){Be(o,l),Be(o+"Capture",l)}function Be(o,l){for(ve[o]=l,o=0;o<l.length;o++)ge.add(l[o])}var $e=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Le={},ze={};function at(o){return J.call(ze,o)?!0:J.call(Le,o)?!1:$e.test(o)?ze[o]=!0:(Le[o]=!0,!1)}function At(o,l,u){if(at(l))if(u===null)o.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+u)}}function Ct(o,l,u){if(u===null)o.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+u)}}function Pt(o,l,u,p){if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttributeNS(l,u,""+p)}}var ai,Xi;function Sr(o){if(ai===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);ai=l&&l[1]||"",Xi=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ai+o+Xi}var Fr=!1;function Si(o,l){if(!o||Fr)return"";Fr=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(ye){var me=ye}Reflect.construct(o,[],Ie)}else{try{Ie.call()}catch(ye){me=ye}o.call(Ie.prototype)}}else{try{throw Error()}catch(ye){me=ye}(Ie=o())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(ye){if(ye&&me&&typeof ye.stack=="string")return[ye.stack,me.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=p.DetermineComponentFrameRoot(),R=E[0],M=E[1];if(R&&M){var Z=R.split(`
`),he=M.split(`
`);for(y=p=0;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;for(;y<he.length&&!he[y].includes("DetermineComponentFrameRoot");)y++;if(p===Z.length||y===he.length)for(p=Z.length-1,y=he.length-1;1<=p&&0<=y&&Z[p]!==he[y];)y--;for(;1<=p&&0<=y;p--,y--)if(Z[p]!==he[y]){if(p!==1||y!==1)do if(p--,y--,0>y||Z[p]!==he[y]){var Re=`
`+Z[p].replace(" at new "," at ");return o.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",o.displayName)),Re}while(1<=p&&0<=y);break}}}finally{Fr=!1,Error.prepareStackTrace=u}return(u=o?o.displayName||o.name:"")?Sr(u):""}function Ti(o){switch(o.tag){case 26:case 27:case 5:return Sr(o.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 15:return Si(o.type,!1);case 11:return Si(o.type.render,!1);case 1:return Si(o.type,!0);case 31:return Sr("Activity");default:return""}}function pw(o){try{var l="";do l+=Ti(o),o=o.return;while(o);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function oi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function gw(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function i3(o){var l=gw(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,E=u.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(R){p=""+R,E.call(this,R)}}),Object.defineProperty(o,l,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ed(o){o._valueTracker||(o._valueTracker=i3(o))}function mw(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var u=l.getValue(),p="";return o&&(p=gw(o)?o.checked?"true":"false":o.value),o=p,o!==u?(l.setValue(o),!0):!1}function Sd(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var s3=/[\n"\\]/g;function li(o){return o.replace(s3,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ag(o,l,u,p,y,E,R,M){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),l!=null?R==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+oi(l)):o.value!==""+oi(l)&&(o.value=""+oi(l)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),l!=null?Cg(o,R,oi(l)):u!=null?Cg(o,R,oi(u)):p!=null&&o.removeAttribute("value"),y==null&&E!=null&&(o.defaultChecked=!!E),y!=null&&(o.checked=y&&typeof y!="function"&&typeof y!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.name=""+oi(M):o.removeAttribute("name")}function vw(o,l,u,p,y,E,R,M){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.type=E),l!=null||u!=null){if(!(E!=="submit"&&E!=="reset"||l!=null))return;u=u!=null?""+oi(u):"",l=l!=null?""+oi(l):u,M||l===o.value||(o.value=l),o.defaultValue=l}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=M?o.checked:!!p,o.defaultChecked=!!p,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R)}function Cg(o,l,u){l==="number"&&Sd(o.ownerDocument)===o||o.defaultValue===""+u||(o.defaultValue=""+u)}function xl(o,l,u,p){if(o=o.options,l){l={};for(var y=0;y<u.length;y++)l["$"+u[y]]=!0;for(u=0;u<o.length;u++)y=l.hasOwnProperty("$"+o[u].value),o[u].selected!==y&&(o[u].selected=y),y&&p&&(o[u].defaultSelected=!0)}else{for(u=""+oi(u),l=null,y=0;y<o.length;y++){if(o[y].value===u){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function yw(o,l,u){if(l!=null&&(l=""+oi(l),l!==o.value&&(o.value=l),u==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=u!=null?""+oi(u):""}function xw(o,l,u,p){if(l==null){if(p!=null){if(u!=null)throw Error(r(92));if(ee(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),l=u}u=oi(l),o.defaultValue=u,p=o.textContent,p===u&&p!==""&&p!==null&&(o.value=p)}function _l(o,l){if(l){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=l;return}}o.textContent=l}var a3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _w(o,l,u){var p=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":p?o.setProperty(l,u):typeof u!="number"||u===0||a3.has(l)?l==="float"?o.cssFloat=u:o[l]=(""+u).trim():o[l]=u+"px"}function ww(o,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var y in l)p=l[y],l.hasOwnProperty(y)&&u[y]!==p&&_w(o,y,p)}else for(var E in l)l.hasOwnProperty(E)&&_w(o,E,l[E])}function Rg(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Td(o){return l3.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Dg=null;function Og(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var wl=null,bl=null;function bw(o){var l=Y(o);if(l&&(o=l.stateNode)){var u=o[yn]||null;e:switch(o=l.stateNode,l.type){case"input":if(Ag(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+li(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var p=u[l];if(p!==o&&p.form===o.form){var y=p[yn]||null;if(!y)throw Error(r(90));Ag(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<u.length;l++)p=u[l],p.form===o.form&&mw(p)}break e;case"textarea":yw(o,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&xl(o,!!u.multiple,l,!1)}}}var kg=!1;function Ew(o,l,u){if(kg)return o(l,u);kg=!0;try{var p=o(l);return p}finally{if(kg=!1,(wl!==null||bl!==null)&&(uh(),wl&&(l=wl,o=bl,bl=wl=null,bw(l),o)))for(l=0;l<o.length;l++)bw(o[l])}}function iu(o,l){var u=o.stateNode;if(u===null)return null;var p=u[yn]||null;if(p===null)return null;u=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ng=!1;if(vs)try{var su={};Object.defineProperty(su,"passive",{get:function(){Ng=!0}}),window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{Ng=!1}var Zs=null,Ig=null,Ad=null;function Sw(){if(Ad)return Ad;var o,l=Ig,u=l.length,p,y="value"in Zs?Zs.value:Zs.textContent,E=y.length;for(o=0;o<u&&l[o]===y[o];o++);var R=u-o;for(p=1;p<=R&&l[u-p]===y[E-p];p++);return Ad=y.slice(o,1<p?1-p:void 0)}function Cd(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Rd(){return!0}function Tw(){return!1}function Tr(o){function l(u,p,y,E,R){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var M in o)o.hasOwnProperty(M)&&(u=o[M],this[M]=u?u(E):E[M]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Rd:Tw,this.isPropagationStopped=Tw,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Rd)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Rd)},persist:function(){},isPersistent:Rd}),l}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dd=Tr(ro),au=h({},ro,{view:0,detail:0}),c3=Tr(au),Mg,jg,ou,Od=h({},au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lg,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ou&&(ou&&o.type==="mousemove"?(Mg=o.screenX-ou.screenX,jg=o.screenY-ou.screenY):jg=Mg=0,ou=o),Mg)},movementY:function(o){return"movementY"in o?o.movementY:jg}}),Aw=Tr(Od),u3=h({},Od,{dataTransfer:0}),f3=Tr(u3),d3=h({},au,{relatedTarget:0}),Pg=Tr(d3),h3=h({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),p3=Tr(h3),g3=h({},ro,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),m3=Tr(g3),v3=h({},ro,{data:0}),Cw=Tr(v3),y3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w3(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=_3[o])?!!l[o]:!1}function Lg(){return w3}var b3=h({},au,{key:function(o){if(o.key){var l=y3[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Cd(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?x3[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lg,charCode:function(o){return o.type==="keypress"?Cd(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Cd(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),E3=Tr(b3),S3=h({},Od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rw=Tr(S3),T3=h({},au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lg}),A3=Tr(T3),C3=h({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),R3=Tr(C3),D3=h({},Od,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),O3=Tr(D3),k3=h({},ro,{newState:0,oldState:0}),N3=Tr(k3),I3=[9,13,27,32],Bg=vs&&"CompositionEvent"in window,lu=null;vs&&"documentMode"in document&&(lu=document.documentMode);var M3=vs&&"TextEvent"in window&&!lu,Dw=vs&&(!Bg||lu&&8<lu&&11>=lu),Ow=" ",kw=!1;function Nw(o,l){switch(o){case"keyup":return I3.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var El=!1;function j3(o,l){switch(o){case"compositionend":return Iw(l);case"keypress":return l.which!==32?null:(kw=!0,Ow);case"textInput":return o=l.data,o===Ow&&kw?null:o;default:return null}}function P3(o,l){if(El)return o==="compositionend"||!Bg&&Nw(o,l)?(o=Sw(),Ad=Ig=Zs=null,El=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Dw&&l.locale!=="ko"?null:l.data;default:return null}}var L3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mw(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!L3[o.type]:l==="textarea"}function jw(o,l,u,p){wl?bl?bl.push(p):bl=[p]:wl=p,l=mh(l,"onChange"),0<l.length&&(u=new Dd("onChange","change",null,u,p),o.push({event:u,listeners:l}))}var cu=null,uu=null;function B3(o){gS(o,0)}function kd(o){var l=pe(o);if(mw(l))return o}function Pw(o,l){if(o==="change")return l}var Lw=!1;if(vs){var Fg;if(vs){var Ug="oninput"in document;if(!Ug){var Bw=document.createElement("div");Bw.setAttribute("oninput","return;"),Ug=typeof Bw.oninput=="function"}Fg=Ug}else Fg=!1;Lw=Fg&&(!document.documentMode||9<document.documentMode)}function Fw(){cu&&(cu.detachEvent("onpropertychange",Uw),uu=cu=null)}function Uw(o){if(o.propertyName==="value"&&kd(uu)){var l=[];jw(l,uu,o,Og(o)),Ew(B3,l)}}function F3(o,l,u){o==="focusin"?(Fw(),cu=l,uu=u,cu.attachEvent("onpropertychange",Uw)):o==="focusout"&&Fw()}function U3(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return kd(uu)}function H3(o,l){if(o==="click")return kd(l)}function z3(o,l){if(o==="input"||o==="change")return kd(l)}function $3(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Ur=typeof Object.is=="function"?Object.is:$3;function fu(o,l){if(Ur(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var u=Object.keys(o),p=Object.keys(l);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!J.call(l,y)||!Ur(o[y],l[y]))return!1}return!0}function Hw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function zw(o,l){var u=Hw(o);o=0;for(var p;u;){if(u.nodeType===3){if(p=o+u.textContent.length,o<=l&&p>=l)return{node:u,offset:l-o};o=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Hw(u)}}function $w(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?$w(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Vw(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Sd(o.document);l instanceof o.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)o=l.contentWindow;else break;l=Sd(o.document)}return l}function Hg(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var V3=vs&&"documentMode"in document&&11>=document.documentMode,Sl=null,zg=null,du=null,$g=!1;function qw(o,l,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;$g||Sl==null||Sl!==Sd(p)||(p=Sl,"selectionStart"in p&&Hg(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),du&&fu(du,p)||(du=p,p=mh(zg,"onSelect"),0<p.length&&(l=new Dd("onSelect","select",null,l,u),o.push({event:l,listeners:p}),l.target=Sl)))}function io(o,l){var u={};return u[o.toLowerCase()]=l.toLowerCase(),u["Webkit"+o]="webkit"+l,u["Moz"+o]="moz"+l,u}var Tl={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionrun:io("Transition","TransitionRun"),transitionstart:io("Transition","TransitionStart"),transitioncancel:io("Transition","TransitionCancel"),transitionend:io("Transition","TransitionEnd")},Vg={},Ww={};vs&&(Ww=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function so(o){if(Vg[o])return Vg[o];if(!Tl[o])return o;var l=Tl[o],u;for(u in l)if(l.hasOwnProperty(u)&&u in Ww)return Vg[o]=l[u];return o}var Gw=so("animationend"),Yw=so("animationiteration"),Xw=so("animationstart"),q3=so("transitionrun"),W3=so("transitionstart"),G3=so("transitioncancel"),Kw=so("transitionend"),Qw=new Map,qg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qg.push("scrollEnd");function Ai(o,l){Qw.set(o,l),je(l,[o])}var Zw=new WeakMap;function ci(o,l){if(typeof o=="object"&&o!==null){var u=Zw.get(o);return u!==void 0?u:(l={value:o,source:l,stack:pw(l)},Zw.set(o,l),l)}return{value:o,source:l,stack:pw(l)}}var ui=[],Al=0,Wg=0;function Nd(){for(var o=Al,l=Wg=Al=0;l<o;){var u=ui[l];ui[l++]=null;var p=ui[l];ui[l++]=null;var y=ui[l];ui[l++]=null;var E=ui[l];if(ui[l++]=null,p!==null&&y!==null){var R=p.pending;R===null?y.next=y:(y.next=R.next,R.next=y),p.pending=y}E!==0&&Jw(u,y,E)}}function Id(o,l,u,p){ui[Al++]=o,ui[Al++]=l,ui[Al++]=u,ui[Al++]=p,Wg|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function Gg(o,l,u,p){return Id(o,l,u,p),Md(o)}function Cl(o,l){return Id(o,null,null,l),Md(o)}function Jw(o,l,u){o.lanes|=u;var p=o.alternate;p!==null&&(p.lanes|=u);for(var y=!1,E=o.return;E!==null;)E.childLanes|=u,p=E.alternate,p!==null&&(p.childLanes|=u),E.tag===22&&(o=E.stateNode,o===null||o._visibility&1||(y=!0)),o=E,E=E.return;return o.tag===3?(E=o.stateNode,y&&l!==null&&(y=31-sn(u),o=E.hiddenUpdates,p=o[y],p===null?o[y]=[l]:p.push(l),l.lane=u|536870912),E):null}function Md(o){if(50<Lu)throw Lu=0,Jm=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Rl={};function Y3(o,l,u,p){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(o,l,u,p){return new Y3(o,l,u,p)}function Yg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ys(o,l){var u=o.alternate;return u===null?(u=Hr(o.tag,l,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=l,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&65011712,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,l=o.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u.refCleanup=o.refCleanup,u}function eb(o,l){o.flags&=65011714;var u=o.alternate;return u===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,l=u.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function jd(o,l,u,p,y,E){var R=0;if(p=o,typeof o=="function")Yg(o)&&(R=1);else if(typeof o=="string")R=Kj(o,u,z.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Hr(31,u,l,y),o.elementType=L,o.lanes=E,o;case w:return ao(u.children,y,E,l);case x:R=8,y|=24;break;case b:return o=Hr(12,u,l,y|2),o.elementType=b,o.lanes=E,o;case P:return o=Hr(13,u,l,y),o.elementType=P,o.lanes=E,o;case V:return o=Hr(19,u,l,y),o.elementType=V,o.lanes=E,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:case A:R=10;break e;case T:R=9;break e;case C:R=11;break e;case I:R=14;break e;case j:R=16,p=null;break e}R=29,u=Error(r(130,o===null?"null":typeof o,"")),p=null}return l=Hr(R,u,l,y),l.elementType=o,l.type=p,l.lanes=E,l}function ao(o,l,u,p){return o=Hr(7,o,p,l),o.lanes=u,o}function Xg(o,l,u){return o=Hr(6,o,null,l),o.lanes=u,o}function Kg(o,l,u){return l=Hr(4,o.children!==null?o.children:[],o.key,l),l.lanes=u,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var Dl=[],Ol=0,Pd=null,Ld=0,fi=[],di=0,oo=null,xs=1,_s="";function lo(o,l){Dl[Ol++]=Ld,Dl[Ol++]=Pd,Pd=o,Ld=l}function tb(o,l,u){fi[di++]=xs,fi[di++]=_s,fi[di++]=oo,oo=o;var p=xs;o=_s;var y=32-sn(p)-1;p&=~(1<<y),u+=1;var E=32-sn(l)+y;if(30<E){var R=y-y%5;E=(p&(1<<R)-1).toString(32),p>>=R,y-=R,xs=1<<32-sn(l)+y|u<<y|p,_s=E+o}else xs=1<<E|u<<y|p,_s=o}function Qg(o){o.return!==null&&(lo(o,1),tb(o,1,0))}function Zg(o){for(;o===Pd;)Pd=Dl[--Ol],Dl[Ol]=null,Ld=Dl[--Ol],Dl[Ol]=null;for(;o===oo;)oo=fi[--di],fi[di]=null,_s=fi[--di],fi[di]=null,xs=fi[--di],fi[di]=null}var vr=null,an=null,St=!1,co=null,Ki=!1,Jg=Error(r(519));function uo(o){var l=Error(r(418,""));throw gu(ci(l,o)),Jg}function nb(o){var l=o.stateNode,u=o.type,p=o.memoizedProps;switch(l[vn]=o,l[yn]=p,u){case"dialog":gt("cancel",l),gt("close",l);break;case"iframe":case"object":case"embed":gt("load",l);break;case"video":case"audio":for(u=0;u<Fu.length;u++)gt(Fu[u],l);break;case"source":gt("error",l);break;case"img":case"image":case"link":gt("error",l),gt("load",l);break;case"details":gt("toggle",l);break;case"input":gt("invalid",l),vw(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Ed(l);break;case"select":gt("invalid",l);break;case"textarea":gt("invalid",l),xw(l,p.value,p.defaultValue,p.children),Ed(l)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||p.suppressHydrationWarning===!0||xS(l.textContent,u)?(p.popover!=null&&(gt("beforetoggle",l),gt("toggle",l)),p.onScroll!=null&&gt("scroll",l),p.onScrollEnd!=null&&gt("scrollend",l),p.onClick!=null&&(l.onclick=vh),l=!0):l=!1,l||uo(o)}function rb(o){for(vr=o.return;vr;)switch(vr.tag){case 5:case 13:Ki=!1;return;case 27:case 3:Ki=!0;return;default:vr=vr.return}}function hu(o){if(o!==vr)return!1;if(!St)return rb(o),St=!0,!1;var l=o.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=o.type,u=!(u!=="form"&&u!=="button")||gv(o.type,o.memoizedProps)),u=!u),u&&an&&uo(o),rb(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(u=o.data,u==="/$"){if(l===0){an=Ri(o.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;o=o.nextSibling}an=null}}else l===27?(l=an,pa(o.type)?(o=xv,xv=null,an=o):an=l):an=vr?Ri(o.stateNode.nextSibling):null;return!0}function pu(){an=vr=null,St=!1}function ib(){var o=co;return o!==null&&(Rr===null?Rr=o:Rr.push.apply(Rr,o),co=null),o}function gu(o){co===null?co=[o]:co.push(o)}var em=ae(null),fo=null,ws=null;function Js(o,l,u){q(em,l._currentValue),l._currentValue=u}function bs(o){o._currentValue=em.current,D(em)}function tm(o,l,u){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===u)break;o=o.return}}function nm(o,l,u,p){var y=o.child;for(y!==null&&(y.return=o);y!==null;){var E=y.dependencies;if(E!==null){var R=y.child;E=E.firstContext;e:for(;E!==null;){var M=E;E=y;for(var Z=0;Z<l.length;Z++)if(M.context===l[Z]){E.lanes|=u,M=E.alternate,M!==null&&(M.lanes|=u),tm(E.return,u,o),p||(R=null);break e}E=M.next}}else if(y.tag===18){if(R=y.return,R===null)throw Error(r(341));R.lanes|=u,E=R.alternate,E!==null&&(E.lanes|=u),tm(R,u,o),R=null}else R=y.child;if(R!==null)R.return=y;else for(R=y;R!==null;){if(R===o){R=null;break}if(y=R.sibling,y!==null){y.return=R.return,R=y;break}R=R.return}y=R}}function mu(o,l,u,p){o=null;for(var y=l,E=!1;y!==null;){if(!E){if((y.flags&524288)!==0)E=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var R=y.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var M=y.type;Ur(y.pendingProps.value,R.value)||(o!==null?o.push(M):o=[M])}}else if(y===be.current){if(R=y.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(o!==null?o.push(qu):o=[qu])}y=y.return}o!==null&&nm(l,o,u,p),l.flags|=262144}function Bd(o){for(o=o.firstContext;o!==null;){if(!Ur(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ho(o){fo=o,ws=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ar(o){return sb(fo,o)}function Fd(o,l){return fo===null&&ho(o),sb(o,l)}function sb(o,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},ws===null){if(o===null)throw Error(r(308));ws=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else ws=ws.next=l;return u}var X3=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(u,p){o.push(p)}};this.abort=function(){l.aborted=!0,o.forEach(function(u){return u()})}},K3=t.unstable_scheduleCallback,Q3=t.unstable_NormalPriority,Rn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new X3,data:new Map,refCount:0}}function vu(o){o.refCount--,o.refCount===0&&K3(Q3,function(){o.controller.abort()})}var yu=null,im=0,kl=0,Nl=null;function Z3(o,l){if(yu===null){var u=yu=[];im=0,kl=av(),Nl={status:"pending",value:void 0,then:function(p){u.push(p)}}}return im++,l.then(ab,ab),l}function ab(){if(--im===0&&yu!==null){Nl!==null&&(Nl.status="fulfilled");var o=yu;yu=null,kl=0,Nl=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function J3(o,l){var u=[],p={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return o.then(function(){p.status="fulfilled",p.value=l;for(var y=0;y<u.length;y++)(0,u[y])(l)},function(y){for(p.status="rejected",p.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),p}var ob=B.S;B.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Z3(o,l),ob!==null&&ob(o,l)};var po=ae(null);function sm(){var o=po.current;return o!==null?o:$t.pooledCache}function Ud(o,l){l===null?q(po,po.current):q(po,l.pool)}function lb(){var o=sm();return o===null?null:{parent:Rn._currentValue,pool:o}}var xu=Error(r(460)),cb=Error(r(474)),Hd=Error(r(542)),am={then:function(){}};function ub(o){return o=o.status,o==="fulfilled"||o==="rejected"}function zd(){}function fb(o,l,u){switch(u=o[u],u===void 0?o.push(l):u!==l&&(l.then(zd,zd),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,hb(o),o;default:if(typeof l.status=="string")l.then(zd,zd);else{if(o=$t,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(p){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=p}},function(p){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,hb(o),o}throw _u=l,xu}}var _u=null;function db(){if(_u===null)throw Error(r(459));var o=_u;return _u=null,o}function hb(o){if(o===xu||o===Hd)throw Error(r(483))}var ea=!1;function om(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lm(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ta(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function na(o,l,u){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Ot&2)!==0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,l=Md(o),Jw(o,null,u),l}return Id(o,p,l,u),Md(o)}function wu(o,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var p=l.lanes;p&=o.pendingLanes,u|=p,l.lanes=u,vl(o,u)}}function cm(o,l){var u=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};E===null?y=E=R:E=E.next=R,u=u.next}while(u!==null);E===null?y=E=l:E=E.next=l}else y=E=l;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:p.shared,callbacks:p.callbacks},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=l}var um=!1;function bu(){if(um){var o=Nl;if(o!==null)throw o}}function Eu(o,l,u,p){um=!1;var y=o.updateQueue;ea=!1;var E=y.firstBaseUpdate,R=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var Z=M,he=Z.next;Z.next=null,R===null?E=he:R.next=he,R=Z;var Re=o.alternate;Re!==null&&(Re=Re.updateQueue,M=Re.lastBaseUpdate,M!==R&&(M===null?Re.firstBaseUpdate=he:M.next=he,Re.lastBaseUpdate=Z))}if(E!==null){var Ie=y.baseState;R=0,Re=he=Z=null,M=E;do{var me=M.lane&-536870913,ye=me!==M.lane;if(ye?(xt&me)===me:(p&me)===me){me!==0&&me===kl&&(um=!0),Re!==null&&(Re=Re.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var st=o,tt=M;me=l;var Ft=u;switch(tt.tag){case 1:if(st=tt.payload,typeof st=="function"){Ie=st.call(Ft,Ie,me);break e}Ie=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=tt.payload,me=typeof st=="function"?st.call(Ft,Ie,me):st,me==null)break e;Ie=h({},Ie,me);break e;case 2:ea=!0}}me=M.callback,me!==null&&(o.flags|=64,ye&&(o.flags|=8192),ye=y.callbacks,ye===null?y.callbacks=[me]:ye.push(me))}else ye={lane:me,tag:M.tag,payload:M.payload,callback:M.callback,next:null},Re===null?(he=Re=ye,Z=Ie):Re=Re.next=ye,R|=me;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;ye=M,M=ye.next,ye.next=null,y.lastBaseUpdate=ye,y.shared.pending=null}}while(!0);Re===null&&(Z=Ie),y.baseState=Z,y.firstBaseUpdate=he,y.lastBaseUpdate=Re,E===null&&(y.shared.lanes=0),ua|=R,o.lanes=R,o.memoizedState=Ie}}function pb(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function gb(o,l){var u=o.callbacks;if(u!==null)for(o.callbacks=null,o=0;o<u.length;o++)pb(u[o],l)}var Il=ae(null),$d=ae(0);function mb(o,l){o=Ds,q($d,o),q(Il,l),Ds=o|l.baseLanes}function fm(){q($d,Ds),q(Il,Il.current)}function dm(){Ds=$d.current,D(Il),D($d)}var ra=0,ut=null,Lt=null,xn=null,Vd=!1,Ml=!1,go=!1,qd=0,Su=0,jl=null,ej=0;function dn(){throw Error(r(321))}function hm(o,l){if(l===null)return!1;for(var u=0;u<l.length&&u<o.length;u++)if(!Ur(o[u],l[u]))return!1;return!0}function pm(o,l,u,p,y,E){return ra=E,ut=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,B.H=o===null||o.memoizedState===null?Jb:eE,go=!1,E=u(p,y),go=!1,Ml&&(E=yb(l,u,p,y)),vb(o),E}function vb(o){B.H=Qd;var l=Lt!==null&&Lt.next!==null;if(ra=0,xn=Lt=ut=null,Vd=!1,Su=0,jl=null,l)throw Error(r(300));o===null||jn||(o=o.dependencies,o!==null&&Bd(o)&&(jn=!0))}function yb(o,l,u,p){ut=o;var y=0;do{if(Ml&&(jl=null),Su=0,Ml=!1,25<=y)throw Error(r(301));if(y+=1,xn=Lt=null,o.updateQueue!=null){var E=o.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}B.H=oj,E=l(u,p)}while(Ml);return E}function tj(){var o=B.H,l=o.useState()[0];return l=typeof l.then=="function"?Tu(l):l,o=o.useState()[0],(Lt!==null?Lt.memoizedState:null)!==o&&(ut.flags|=1024),l}function gm(){var o=qd!==0;return qd=0,o}function mm(o,l,u){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~u}function vm(o){if(Vd){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Vd=!1}ra=0,xn=Lt=ut=null,Ml=!1,Su=qd=0,jl=null}function Ar(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?ut.memoizedState=xn=o:xn=xn.next=o,xn}function _n(){if(Lt===null){var o=ut.alternate;o=o!==null?o.memoizedState:null}else o=Lt.next;var l=xn===null?ut.memoizedState:xn.next;if(l!==null)xn=l,Lt=o;else{if(o===null)throw ut.alternate===null?Error(r(467)):Error(r(310));Lt=o,o={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},xn===null?ut.memoizedState=xn=o:xn=xn.next=o}return xn}function ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tu(o){var l=Su;return Su+=1,jl===null&&(jl=[]),o=fb(jl,o,l),l=ut,(xn===null?l.memoizedState:xn.next)===null&&(l=l.alternate,B.H=l===null||l.memoizedState===null?Jb:eE),o}function Wd(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Tu(o);if(o.$$typeof===A)return ar(o)}throw Error(r(438,String(o)))}function xm(o){var l=null,u=ut.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var p=ut.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=ym(),ut.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(o),p=0;p<o;p++)u[p]=K;return l.index++,u}function Es(o,l){return typeof l=="function"?l(o):l}function Gd(o){var l=_n();return _m(l,Lt,o)}function _m(o,l,u){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var y=o.baseQueue,E=p.pending;if(E!==null){if(y!==null){var R=y.next;y.next=E.next,E.next=R}l.baseQueue=y=E,p.pending=null}if(E=o.baseState,y===null)o.memoizedState=E;else{l=y.next;var M=R=null,Z=null,he=l,Re=!1;do{var Ie=he.lane&-536870913;if(Ie!==he.lane?(xt&Ie)===Ie:(ra&Ie)===Ie){var me=he.revertLane;if(me===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Ie===kl&&(Re=!0);else if((ra&me)===me){he=he.next,me===kl&&(Re=!0);continue}else Ie={lane:0,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},Z===null?(M=Z=Ie,R=E):Z=Z.next=Ie,ut.lanes|=me,ua|=me;Ie=he.action,go&&u(E,Ie),E=he.hasEagerState?he.eagerState:u(E,Ie)}else me={lane:Ie,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},Z===null?(M=Z=me,R=E):Z=Z.next=me,ut.lanes|=Ie,ua|=Ie;he=he.next}while(he!==null&&he!==l);if(Z===null?R=E:Z.next=M,!Ur(E,o.memoizedState)&&(jn=!0,Re&&(u=Nl,u!==null)))throw u;o.memoizedState=E,o.baseState=R,o.baseQueue=Z,p.lastRenderedState=E}return y===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function wm(o){var l=_n(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=u.dispatch,y=u.pending,E=l.memoizedState;if(y!==null){u.pending=null;var R=y=y.next;do E=o(E,R.action),R=R.next;while(R!==y);Ur(E,l.memoizedState)||(jn=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),u.lastRenderedState=E}return[E,p]}function xb(o,l,u){var p=ut,y=_n(),E=St;if(E){if(u===void 0)throw Error(r(407));u=u()}else u=l();var R=!Ur((Lt||y).memoizedState,u);R&&(y.memoizedState=u,jn=!0),y=y.queue;var M=bb.bind(null,p,y,o);if(Au(2048,8,M,[o]),y.getSnapshot!==l||R||xn!==null&&xn.memoizedState.tag&1){if(p.flags|=2048,Pl(9,Yd(),wb.bind(null,p,y,u,l),null),$t===null)throw Error(r(349));E||(ra&124)!==0||_b(p,l,u)}return u}function _b(o,l,u){o.flags|=16384,o={getSnapshot:l,value:u},l=ut.updateQueue,l===null?(l=ym(),ut.updateQueue=l,l.stores=[o]):(u=l.stores,u===null?l.stores=[o]:u.push(o))}function wb(o,l,u,p){l.value=u,l.getSnapshot=p,Eb(l)&&Sb(o)}function bb(o,l,u){return u(function(){Eb(l)&&Sb(o)})}function Eb(o){var l=o.getSnapshot;o=o.value;try{var u=l();return!Ur(o,u)}catch{return!0}}function Sb(o){var l=Cl(o,2);l!==null&&Wr(l,o,2)}function bm(o){var l=Ar();if(typeof o=="function"){var u=o;if(o=u(),go){Jt(!0);try{u()}finally{Jt(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:o},l}function Tb(o,l,u,p){return o.baseState=u,_m(o,Lt,typeof p=="function"?p:Es)}function nj(o,l,u,p,y){if(Kd(o))throw Error(r(485));if(o=l.action,o!==null){var E={payload:y,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){E.listeners.push(R)}};B.T!==null?u(!0):E.isTransition=!1,p(E),u=l.pending,u===null?(E.next=l.pending=E,Ab(l,E)):(E.next=u.next,l.pending=u.next=E)}}function Ab(o,l){var u=l.action,p=l.payload,y=o.state;if(l.isTransition){var E=B.T,R={};B.T=R;try{var M=u(y,p),Z=B.S;Z!==null&&Z(R,M),Cb(o,l,M)}catch(he){Em(o,l,he)}finally{B.T=E}}else try{E=u(y,p),Cb(o,l,E)}catch(he){Em(o,l,he)}}function Cb(o,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){Rb(o,l,p)},function(p){return Em(o,l,p)}):Rb(o,l,u)}function Rb(o,l,u){l.status="fulfilled",l.value=u,Db(l),o.state=u,l=o.pending,l!==null&&(u=l.next,u===l?o.pending=null:(u=u.next,l.next=u,Ab(o,u)))}function Em(o,l,u){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=u,Db(l),l=l.next;while(l!==p)}o.action=null}function Db(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function Ob(o,l){return l}function kb(o,l){if(St){var u=$t.formState;if(u!==null){e:{var p=ut;if(St){if(an){t:{for(var y=an,E=Ki;y.nodeType!==8;){if(!E){y=null;break t}if(y=Ri(y.nextSibling),y===null){y=null;break t}}E=y.data,y=E==="F!"||E==="F"?y:null}if(y){an=Ri(y.nextSibling),p=y.data==="F!";break e}}uo(p)}p=!1}p&&(l=u[0])}}return u=Ar(),u.memoizedState=u.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ob,lastRenderedState:l},u.queue=p,u=Kb.bind(null,ut,p),p.dispatch=u,p=bm(!1),E=Rm.bind(null,ut,!1,p.queue),p=Ar(),y={state:l,dispatch:null,action:o,pending:null},p.queue=y,u=nj.bind(null,ut,y,E,u),y.dispatch=u,p.memoizedState=o,[l,u,!1]}function Nb(o){var l=_n();return Ib(l,Lt,o)}function Ib(o,l,u){if(l=_m(o,l,Ob)[0],o=Gd(Es)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Tu(l)}catch(R){throw R===xu?Hd:R}else p=l;l=_n();var y=l.queue,E=y.dispatch;return u!==l.memoizedState&&(ut.flags|=2048,Pl(9,Yd(),rj.bind(null,y,u),null)),[p,E,o]}function rj(o,l){o.action=l}function Mb(o){var l=_n(),u=Lt;if(u!==null)return Ib(l,u,o);_n(),l=l.memoizedState,u=_n();var p=u.queue.dispatch;return u.memoizedState=o,[l,p,!1]}function Pl(o,l,u,p){return o={tag:o,create:u,deps:p,inst:l,next:null},l=ut.updateQueue,l===null&&(l=ym(),ut.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=o.next=o:(p=u.next,u.next=o,o.next=p,l.lastEffect=o),o}function Yd(){return{destroy:void 0,resource:void 0}}function jb(){return _n().memoizedState}function Xd(o,l,u,p){var y=Ar();p=p===void 0?null:p,ut.flags|=o,y.memoizedState=Pl(1|l,Yd(),u,p)}function Au(o,l,u,p){var y=_n();p=p===void 0?null:p;var E=y.memoizedState.inst;Lt!==null&&p!==null&&hm(p,Lt.memoizedState.deps)?y.memoizedState=Pl(l,E,u,p):(ut.flags|=o,y.memoizedState=Pl(1|l,E,u,p))}function Pb(o,l){Xd(8390656,8,o,l)}function Lb(o,l){Au(2048,8,o,l)}function Bb(o,l){return Au(4,2,o,l)}function Fb(o,l){return Au(4,4,o,l)}function Ub(o,l){if(typeof l=="function"){o=o();var u=l(o);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Hb(o,l,u){u=u!=null?u.concat([o]):null,Au(4,4,Ub.bind(null,l,o),u)}function Sm(){}function zb(o,l){var u=_n();l=l===void 0?null:l;var p=u.memoizedState;return l!==null&&hm(l,p[1])?p[0]:(u.memoizedState=[o,l],o)}function $b(o,l){var u=_n();l=l===void 0?null:l;var p=u.memoizedState;if(l!==null&&hm(l,p[1]))return p[0];if(p=o(),go){Jt(!0);try{o()}finally{Jt(!1)}}return u.memoizedState=[p,l],p}function Tm(o,l,u){return u===void 0||(ra&1073741824)!==0?o.memoizedState=l:(o.memoizedState=u,o=WE(),ut.lanes|=o,ua|=o,u)}function Vb(o,l,u,p){return Ur(u,l)?u:Il.current!==null?(o=Tm(o,u,p),Ur(o,l)||(jn=!0),o):(ra&42)===0?(jn=!0,o.memoizedState=u):(o=WE(),ut.lanes|=o,ua|=o,l)}function qb(o,l,u,p,y){var E=re.p;re.p=E!==0&&8>E?E:8;var R=B.T,M={};B.T=M,Rm(o,!1,l,u);try{var Z=y(),he=B.S;if(he!==null&&he(M,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Re=J3(Z,p);Cu(o,l,Re,qr(o))}else Cu(o,l,p,qr(o))}catch(Ie){Cu(o,l,{then:function(){},status:"rejected",reason:Ie},qr())}finally{re.p=E,B.T=R}}function ij(){}function Am(o,l,u,p){if(o.tag!==5)throw Error(r(476));var y=Wb(o).queue;qb(o,y,l,le,u===null?ij:function(){return Gb(o),u(p)})}function Wb(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:le},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:u},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function Gb(o){var l=Wb(o).next.queue;Cu(o,l,{},qr())}function Cm(){return ar(qu)}function Yb(){return _n().memoizedState}function Xb(){return _n().memoizedState}function sj(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var u=qr();o=ta(u);var p=na(l,o,u);p!==null&&(Wr(p,l,u),wu(p,l,u)),l={cache:rm()},o.payload=l;return}l=l.return}}function aj(o,l,u){var p=qr();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Kd(o)?Qb(l,u):(u=Gg(o,l,u,p),u!==null&&(Wr(u,o,p),Zb(u,l,p)))}function Kb(o,l,u){var p=qr();Cu(o,l,u,p)}function Cu(o,l,u,p){var y={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Kd(o))Qb(l,y);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var R=l.lastRenderedState,M=E(R,u);if(y.hasEagerState=!0,y.eagerState=M,Ur(M,R))return Id(o,l,y,0),$t===null&&Nd(),!1}catch{}finally{}if(u=Gg(o,l,y,p),u!==null)return Wr(u,o,p),Zb(u,l,p),!0}return!1}function Rm(o,l,u,p){if(p={lane:2,revertLane:av(),action:p,hasEagerState:!1,eagerState:null,next:null},Kd(o)){if(l)throw Error(r(479))}else l=Gg(o,u,p,2),l!==null&&Wr(l,o,2)}function Kd(o){var l=o.alternate;return o===ut||l!==null&&l===ut}function Qb(o,l){Ml=Vd=!0;var u=o.pending;u===null?l.next=l:(l.next=u.next,u.next=l),o.pending=l}function Zb(o,l,u){if((u&4194048)!==0){var p=l.lanes;p&=o.pendingLanes,u|=p,l.lanes=u,vl(o,u)}}var Qd={readContext:ar,use:Wd,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn},Jb={readContext:ar,use:Wd,useCallback:function(o,l){return Ar().memoizedState=[o,l===void 0?null:l],o},useContext:ar,useEffect:Pb,useImperativeHandle:function(o,l,u){u=u!=null?u.concat([o]):null,Xd(4194308,4,Ub.bind(null,l,o),u)},useLayoutEffect:function(o,l){return Xd(4194308,4,o,l)},useInsertionEffect:function(o,l){Xd(4,2,o,l)},useMemo:function(o,l){var u=Ar();l=l===void 0?null:l;var p=o();if(go){Jt(!0);try{o()}finally{Jt(!1)}}return u.memoizedState=[p,l],p},useReducer:function(o,l,u){var p=Ar();if(u!==void 0){var y=u(l);if(go){Jt(!0);try{u(l)}finally{Jt(!1)}}}else y=l;return p.memoizedState=p.baseState=y,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:y},p.queue=o,o=o.dispatch=aj.bind(null,ut,o),[p.memoizedState,o]},useRef:function(o){var l=Ar();return o={current:o},l.memoizedState=o},useState:function(o){o=bm(o);var l=o.queue,u=Kb.bind(null,ut,l);return l.dispatch=u,[o.memoizedState,u]},useDebugValue:Sm,useDeferredValue:function(o,l){var u=Ar();return Tm(u,o,l)},useTransition:function(){var o=bm(!1);return o=qb.bind(null,ut,o.queue,!0,!1),Ar().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,u){var p=ut,y=Ar();if(St){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),$t===null)throw Error(r(349));(xt&124)!==0||_b(p,l,u)}y.memoizedState=u;var E={value:u,getSnapshot:l};return y.queue=E,Pb(bb.bind(null,p,E,o),[o]),p.flags|=2048,Pl(9,Yd(),wb.bind(null,p,E,u,l),null),u},useId:function(){var o=Ar(),l=$t.identifierPrefix;if(St){var u=_s,p=xs;u=(p&~(1<<32-sn(p)-1)).toString(32)+u,l=""+l+"R"+u,u=qd++,0<u&&(l+="H"+u.toString(32)),l+=""}else u=ej++,l=""+l+"r"+u.toString(32)+"";return o.memoizedState=l},useHostTransitionStatus:Cm,useFormState:kb,useActionState:kb,useOptimistic:function(o){var l=Ar();l.memoizedState=l.baseState=o;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Rm.bind(null,ut,!0,u),u.dispatch=l,[o,l]},useMemoCache:xm,useCacheRefresh:function(){return Ar().memoizedState=sj.bind(null,ut)}},eE={readContext:ar,use:Wd,useCallback:zb,useContext:ar,useEffect:Lb,useImperativeHandle:Hb,useInsertionEffect:Bb,useLayoutEffect:Fb,useMemo:$b,useReducer:Gd,useRef:jb,useState:function(){return Gd(Es)},useDebugValue:Sm,useDeferredValue:function(o,l){var u=_n();return Vb(u,Lt.memoizedState,o,l)},useTransition:function(){var o=Gd(Es)[0],l=_n().memoizedState;return[typeof o=="boolean"?o:Tu(o),l]},useSyncExternalStore:xb,useId:Yb,useHostTransitionStatus:Cm,useFormState:Nb,useActionState:Nb,useOptimistic:function(o,l){var u=_n();return Tb(u,Lt,o,l)},useMemoCache:xm,useCacheRefresh:Xb},oj={readContext:ar,use:Wd,useCallback:zb,useContext:ar,useEffect:Lb,useImperativeHandle:Hb,useInsertionEffect:Bb,useLayoutEffect:Fb,useMemo:$b,useReducer:wm,useRef:jb,useState:function(){return wm(Es)},useDebugValue:Sm,useDeferredValue:function(o,l){var u=_n();return Lt===null?Tm(u,o,l):Vb(u,Lt.memoizedState,o,l)},useTransition:function(){var o=wm(Es)[0],l=_n().memoizedState;return[typeof o=="boolean"?o:Tu(o),l]},useSyncExternalStore:xb,useId:Yb,useHostTransitionStatus:Cm,useFormState:Mb,useActionState:Mb,useOptimistic:function(o,l){var u=_n();return Lt!==null?Tb(u,Lt,o,l):(u.baseState=o,[o,u.queue.dispatch])},useMemoCache:xm,useCacheRefresh:Xb},Ll=null,Ru=0;function Zd(o){var l=Ru;return Ru+=1,Ll===null&&(Ll=[]),fb(Ll,o,l)}function Du(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Jd(o,l){throw l.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function tE(o){var l=o._init;return l(o._payload)}function nE(o){function l(ue,oe){if(o){var de=ue.deletions;de===null?(ue.deletions=[oe],ue.flags|=16):de.push(oe)}}function u(ue,oe){if(!o)return null;for(;oe!==null;)l(ue,oe),oe=oe.sibling;return null}function p(ue){for(var oe=new Map;ue!==null;)ue.key!==null?oe.set(ue.key,ue):oe.set(ue.index,ue),ue=ue.sibling;return oe}function y(ue,oe){return ue=ys(ue,oe),ue.index=0,ue.sibling=null,ue}function E(ue,oe,de){return ue.index=de,o?(de=ue.alternate,de!==null?(de=de.index,de<oe?(ue.flags|=67108866,oe):de):(ue.flags|=67108866,oe)):(ue.flags|=1048576,oe)}function R(ue){return o&&ue.alternate===null&&(ue.flags|=67108866),ue}function M(ue,oe,de,De){return oe===null||oe.tag!==6?(oe=Xg(de,ue.mode,De),oe.return=ue,oe):(oe=y(oe,de),oe.return=ue,oe)}function Z(ue,oe,de,De){var Ge=de.type;return Ge===w?Re(ue,oe,de.props.children,De,de.key):oe!==null&&(oe.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===j&&tE(Ge)===oe.type)?(oe=y(oe,de.props),Du(oe,de),oe.return=ue,oe):(oe=jd(de.type,de.key,de.props,null,ue.mode,De),Du(oe,de),oe.return=ue,oe)}function he(ue,oe,de,De){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==de.containerInfo||oe.stateNode.implementation!==de.implementation?(oe=Kg(de,ue.mode,De),oe.return=ue,oe):(oe=y(oe,de.children||[]),oe.return=ue,oe)}function Re(ue,oe,de,De,Ge){return oe===null||oe.tag!==7?(oe=ao(de,ue.mode,De,Ge),oe.return=ue,oe):(oe=y(oe,de),oe.return=ue,oe)}function Ie(ue,oe,de){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=Xg(""+oe,ue.mode,de),oe.return=ue,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case m:return de=jd(oe.type,oe.key,oe.props,null,ue.mode,de),Du(de,oe),de.return=ue,de;case v:return oe=Kg(oe,ue.mode,de),oe.return=ue,oe;case j:var De=oe._init;return oe=De(oe._payload),Ie(ue,oe,de)}if(ee(oe)||X(oe))return oe=ao(oe,ue.mode,de,null),oe.return=ue,oe;if(typeof oe.then=="function")return Ie(ue,Zd(oe),de);if(oe.$$typeof===A)return Ie(ue,Fd(ue,oe),de);Jd(ue,oe)}return null}function me(ue,oe,de,De){var Ge=oe!==null?oe.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Ge!==null?null:M(ue,oe,""+de,De);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case m:return de.key===Ge?Z(ue,oe,de,De):null;case v:return de.key===Ge?he(ue,oe,de,De):null;case j:return Ge=de._init,de=Ge(de._payload),me(ue,oe,de,De)}if(ee(de)||X(de))return Ge!==null?null:Re(ue,oe,de,De,null);if(typeof de.then=="function")return me(ue,oe,Zd(de),De);if(de.$$typeof===A)return me(ue,oe,Fd(ue,de),De);Jd(ue,de)}return null}function ye(ue,oe,de,De,Ge){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return ue=ue.get(de)||null,M(oe,ue,""+De,Ge);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case m:return ue=ue.get(De.key===null?de:De.key)||null,Z(oe,ue,De,Ge);case v:return ue=ue.get(De.key===null?de:De.key)||null,he(oe,ue,De,Ge);case j:var ft=De._init;return De=ft(De._payload),ye(ue,oe,de,De,Ge)}if(ee(De)||X(De))return ue=ue.get(de)||null,Re(oe,ue,De,Ge,null);if(typeof De.then=="function")return ye(ue,oe,de,Zd(De),Ge);if(De.$$typeof===A)return ye(ue,oe,de,Fd(oe,De),Ge);Jd(oe,De)}return null}function st(ue,oe,de,De){for(var Ge=null,ft=null,Ke=oe,rt=oe=0,Ln=null;Ke!==null&&rt<de.length;rt++){Ke.index>rt?(Ln=Ke,Ke=null):Ln=Ke.sibling;var wt=me(ue,Ke,de[rt],De);if(wt===null){Ke===null&&(Ke=Ln);break}o&&Ke&&wt.alternate===null&&l(ue,Ke),oe=E(wt,oe,rt),ft===null?Ge=wt:ft.sibling=wt,ft=wt,Ke=Ln}if(rt===de.length)return u(ue,Ke),St&&lo(ue,rt),Ge;if(Ke===null){for(;rt<de.length;rt++)Ke=Ie(ue,de[rt],De),Ke!==null&&(oe=E(Ke,oe,rt),ft===null?Ge=Ke:ft.sibling=Ke,ft=Ke);return St&&lo(ue,rt),Ge}for(Ke=p(Ke);rt<de.length;rt++)Ln=ye(Ke,ue,rt,de[rt],De),Ln!==null&&(o&&Ln.alternate!==null&&Ke.delete(Ln.key===null?rt:Ln.key),oe=E(Ln,oe,rt),ft===null?Ge=Ln:ft.sibling=Ln,ft=Ln);return o&&Ke.forEach(function(xa){return l(ue,xa)}),St&&lo(ue,rt),Ge}function tt(ue,oe,de,De){if(de==null)throw Error(r(151));for(var Ge=null,ft=null,Ke=oe,rt=oe=0,Ln=null,wt=de.next();Ke!==null&&!wt.done;rt++,wt=de.next()){Ke.index>rt?(Ln=Ke,Ke=null):Ln=Ke.sibling;var xa=me(ue,Ke,wt.value,De);if(xa===null){Ke===null&&(Ke=Ln);break}o&&Ke&&xa.alternate===null&&l(ue,Ke),oe=E(xa,oe,rt),ft===null?Ge=xa:ft.sibling=xa,ft=xa,Ke=Ln}if(wt.done)return u(ue,Ke),St&&lo(ue,rt),Ge;if(Ke===null){for(;!wt.done;rt++,wt=de.next())wt=Ie(ue,wt.value,De),wt!==null&&(oe=E(wt,oe,rt),ft===null?Ge=wt:ft.sibling=wt,ft=wt);return St&&lo(ue,rt),Ge}for(Ke=p(Ke);!wt.done;rt++,wt=de.next())wt=ye(Ke,ue,rt,wt.value,De),wt!==null&&(o&&wt.alternate!==null&&Ke.delete(wt.key===null?rt:wt.key),oe=E(wt,oe,rt),ft===null?Ge=wt:ft.sibling=wt,ft=wt);return o&&Ke.forEach(function(lP){return l(ue,lP)}),St&&lo(ue,rt),Ge}function Ft(ue,oe,de,De){if(typeof de=="object"&&de!==null&&de.type===w&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case m:e:{for(var Ge=de.key;oe!==null;){if(oe.key===Ge){if(Ge=de.type,Ge===w){if(oe.tag===7){u(ue,oe.sibling),De=y(oe,de.props.children),De.return=ue,ue=De;break e}}else if(oe.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===j&&tE(Ge)===oe.type){u(ue,oe.sibling),De=y(oe,de.props),Du(De,de),De.return=ue,ue=De;break e}u(ue,oe);break}else l(ue,oe);oe=oe.sibling}de.type===w?(De=ao(de.props.children,ue.mode,De,de.key),De.return=ue,ue=De):(De=jd(de.type,de.key,de.props,null,ue.mode,De),Du(De,de),De.return=ue,ue=De)}return R(ue);case v:e:{for(Ge=de.key;oe!==null;){if(oe.key===Ge)if(oe.tag===4&&oe.stateNode.containerInfo===de.containerInfo&&oe.stateNode.implementation===de.implementation){u(ue,oe.sibling),De=y(oe,de.children||[]),De.return=ue,ue=De;break e}else{u(ue,oe);break}else l(ue,oe);oe=oe.sibling}De=Kg(de,ue.mode,De),De.return=ue,ue=De}return R(ue);case j:return Ge=de._init,de=Ge(de._payload),Ft(ue,oe,de,De)}if(ee(de))return st(ue,oe,de,De);if(X(de)){if(Ge=X(de),typeof Ge!="function")throw Error(r(150));return de=Ge.call(de),tt(ue,oe,de,De)}if(typeof de.then=="function")return Ft(ue,oe,Zd(de),De);if(de.$$typeof===A)return Ft(ue,oe,Fd(ue,de),De);Jd(ue,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,oe!==null&&oe.tag===6?(u(ue,oe.sibling),De=y(oe,de),De.return=ue,ue=De):(u(ue,oe),De=Xg(de,ue.mode,De),De.return=ue,ue=De),R(ue)):u(ue,oe)}return function(ue,oe,de,De){try{Ru=0;var Ge=Ft(ue,oe,de,De);return Ll=null,Ge}catch(Ke){if(Ke===xu||Ke===Hd)throw Ke;var ft=Hr(29,Ke,null,ue.mode);return ft.lanes=De,ft.return=ue,ft}finally{}}}var Bl=nE(!0),rE=nE(!1),hi=ae(null),Qi=null;function ia(o){var l=o.alternate;q(Dn,Dn.current&1),q(hi,o),Qi===null&&(l===null||Il.current!==null||l.memoizedState!==null)&&(Qi=o)}function iE(o){if(o.tag===22){if(q(Dn,Dn.current),q(hi,o),Qi===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Qi=o)}}else sa()}function sa(){q(Dn,Dn.current),q(hi,hi.current)}function Ss(o){D(hi),Qi===o&&(Qi=null),D(Dn)}var Dn=ae(0);function eh(o){for(var l=o;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||yv(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Dm(o,l,u,p){l=o.memoizedState,u=u(p,l),u=u==null?l:h({},l,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var Om={enqueueSetState:function(o,l,u){o=o._reactInternals;var p=qr(),y=ta(p);y.payload=l,u!=null&&(y.callback=u),l=na(o,y,p),l!==null&&(Wr(l,o,p),wu(l,o,p))},enqueueReplaceState:function(o,l,u){o=o._reactInternals;var p=qr(),y=ta(p);y.tag=1,y.payload=l,u!=null&&(y.callback=u),l=na(o,y,p),l!==null&&(Wr(l,o,p),wu(l,o,p))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var u=qr(),p=ta(u);p.tag=2,l!=null&&(p.callback=l),l=na(o,p,u),l!==null&&(Wr(l,o,u),wu(l,o,u))}};function sE(o,l,u,p,y,E,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,E,R):l.prototype&&l.prototype.isPureReactComponent?!fu(u,p)||!fu(y,E):!0}function aE(o,l,u,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,p),l.state!==o&&Om.enqueueReplaceState(l,l.state,null)}function mo(o,l){var u=l;if("ref"in l){u={};for(var p in l)p!=="ref"&&(u[p]=l[p])}if(o=o.defaultProps){u===l&&(u=h({},u));for(var y in o)u[y]===void 0&&(u[y]=o[y])}return u}var th=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function oE(o){th(o)}function lE(o){console.error(o)}function cE(o){th(o)}function nh(o,l){try{var u=o.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function uE(o,l,u){try{var p=o.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function km(o,l,u){return u=ta(u),u.tag=3,u.payload={element:null},u.callback=function(){nh(o,l)},u}function fE(o){return o=ta(o),o.tag=3,o}function dE(o,l,u,p){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var E=p.value;o.payload=function(){return y(E)},o.callback=function(){uE(l,u,p)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){uE(l,u,p),typeof y!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var M=p.stack;this.componentDidCatch(p.value,{componentStack:M!==null?M:""})})}function lj(o,l,u,p,y){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=u.alternate,l!==null&&mu(l,u,y,!0),u=hi.current,u!==null){switch(u.tag){case 13:return Qi===null?tv():u.alternate===null&&on===0&&(on=3),u.flags&=-257,u.flags|=65536,u.lanes=y,p===am?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([p]):l.add(p),rv(o,p,y)),!1;case 22:return u.flags|=65536,p===am?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([p]):u.add(p)),rv(o,p,y)),!1}throw Error(r(435,u.tag))}return rv(o,p,y),tv(),!1}if(St)return l=hi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,p!==Jg&&(o=Error(r(422),{cause:p}),gu(ci(o,u)))):(p!==Jg&&(l=Error(r(423),{cause:p}),gu(ci(l,u))),o=o.current.alternate,o.flags|=65536,y&=-y,o.lanes|=y,p=ci(p,u),y=km(o.stateNode,p,y),cm(o,y),on!==4&&(on=2)),!1;var E=Error(r(520),{cause:p});if(E=ci(E,u),Pu===null?Pu=[E]:Pu.push(E),on!==4&&(on=2),l===null)return!0;p=ci(p,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,o=y&-y,u.lanes|=o,o=km(u.stateNode,p,o),cm(u,o),!1;case 1:if(l=u.type,E=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(fa===null||!fa.has(E))))return u.flags|=65536,y&=-y,u.lanes|=y,y=fE(y),dE(y,o,u,p),cm(u,y),!1}u=u.return}while(u!==null);return!1}var hE=Error(r(461)),jn=!1;function qn(o,l,u,p){l.child=o===null?rE(l,null,u,p):Bl(l,o.child,u,p)}function pE(o,l,u,p,y){u=u.render;var E=l.ref;if("ref"in p){var R={};for(var M in p)M!=="ref"&&(R[M]=p[M])}else R=p;return ho(l),p=pm(o,l,u,R,E,y),M=gm(),o!==null&&!jn?(mm(o,l,y),Ts(o,l,y)):(St&&M&&Qg(l),l.flags|=1,qn(o,l,p,y),l.child)}function gE(o,l,u,p,y){if(o===null){var E=u.type;return typeof E=="function"&&!Yg(E)&&E.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=E,mE(o,l,E,p,y)):(o=jd(u.type,null,p,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(E=o.child,!Fm(o,y)){var R=E.memoizedProps;if(u=u.compare,u=u!==null?u:fu,u(R,p)&&o.ref===l.ref)return Ts(o,l,y)}return l.flags|=1,o=ys(E,p),o.ref=l.ref,o.return=l,l.child=o}function mE(o,l,u,p,y){if(o!==null){var E=o.memoizedProps;if(fu(E,p)&&o.ref===l.ref)if(jn=!1,l.pendingProps=p=E,Fm(o,y))(o.flags&131072)!==0&&(jn=!0);else return l.lanes=o.lanes,Ts(o,l,y)}return Nm(o,l,u,p,y)}function vE(o,l,u){var p=l.pendingProps,y=p.children,E=o!==null?o.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=E!==null?E.baseLanes|u:u,o!==null){for(y=l.child=o.child,E=0;y!==null;)E=E|y.lanes|y.childLanes,y=y.sibling;l.childLanes=E&~p}else l.childLanes=0,l.child=null;return yE(o,l,p,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Ud(l,E!==null?E.cachePool:null),E!==null?mb(l,E):fm(),iE(l);else return l.lanes=l.childLanes=536870912,yE(o,l,E!==null?E.baseLanes|u:u,u)}else E!==null?(Ud(l,E.cachePool),mb(l,E),sa(),l.memoizedState=null):(o!==null&&Ud(l,null),fm(),sa());return qn(o,l,y,u),l.child}function yE(o,l,u,p){var y=sm();return y=y===null?null:{parent:Rn._currentValue,pool:y},l.memoizedState={baseLanes:u,cachePool:y},o!==null&&Ud(l,null),fm(),iE(l),o!==null&&mu(o,l,p,!0),null}function rh(o,l){var u=l.ref;if(u===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(o===null||o.ref!==u)&&(l.flags|=4194816)}}function Nm(o,l,u,p,y){return ho(l),u=pm(o,l,u,p,void 0,y),p=gm(),o!==null&&!jn?(mm(o,l,y),Ts(o,l,y)):(St&&p&&Qg(l),l.flags|=1,qn(o,l,u,y),l.child)}function xE(o,l,u,p,y,E){return ho(l),l.updateQueue=null,u=yb(l,p,u,y),vb(o),p=gm(),o!==null&&!jn?(mm(o,l,E),Ts(o,l,E)):(St&&p&&Qg(l),l.flags|=1,qn(o,l,u,E),l.child)}function _E(o,l,u,p,y){if(ho(l),l.stateNode===null){var E=Rl,R=u.contextType;typeof R=="object"&&R!==null&&(E=ar(R)),E=new u(p,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Om,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=p,E.state=l.memoizedState,E.refs={},om(l),R=u.contextType,E.context=typeof R=="object"&&R!==null?ar(R):Rl,E.state=l.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(Dm(l,u,R,p),E.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(R=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),R!==E.state&&Om.enqueueReplaceState(E,E.state,null),Eu(l,p,E,y),bu(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(o===null){E=l.stateNode;var M=l.memoizedProps,Z=mo(u,M);E.props=Z;var he=E.context,Re=u.contextType;R=Rl,typeof Re=="object"&&Re!==null&&(R=ar(Re));var Ie=u.getDerivedStateFromProps;Re=typeof Ie=="function"||typeof E.getSnapshotBeforeUpdate=="function",M=l.pendingProps!==M,Re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(M||he!==R)&&aE(l,E,p,R),ea=!1;var me=l.memoizedState;E.state=me,Eu(l,p,E,y),bu(),he=l.memoizedState,M||me!==he||ea?(typeof Ie=="function"&&(Dm(l,u,Ie,p),he=l.memoizedState),(Z=ea||sE(l,u,Z,p,me,he,R))?(Re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=he),E.props=p,E.state=he,E.context=R,p=Z):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{E=l.stateNode,lm(o,l),R=l.memoizedProps,Re=mo(u,R),E.props=Re,Ie=l.pendingProps,me=E.context,he=u.contextType,Z=Rl,typeof he=="object"&&he!==null&&(Z=ar(he)),M=u.getDerivedStateFromProps,(he=typeof M=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==Ie||me!==Z)&&aE(l,E,p,Z),ea=!1,me=l.memoizedState,E.state=me,Eu(l,p,E,y),bu();var ye=l.memoizedState;R!==Ie||me!==ye||ea||o!==null&&o.dependencies!==null&&Bd(o.dependencies)?(typeof M=="function"&&(Dm(l,u,M,p),ye=l.memoizedState),(Re=ea||sE(l,u,Re,p,me,ye,Z)||o!==null&&o.dependencies!==null&&Bd(o.dependencies))?(he||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,ye,Z),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,ye,Z)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===o.memoizedProps&&me===o.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&me===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ye),E.props=p,E.state=ye,E.context=Z,p=Re):(typeof E.componentDidUpdate!="function"||R===o.memoizedProps&&me===o.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&me===o.memoizedState||(l.flags|=1024),p=!1)}return E=p,rh(o,l),p=(l.flags&128)!==0,E||p?(E=l.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,o!==null&&p?(l.child=Bl(l,o.child,null,y),l.child=Bl(l,null,u,y)):qn(o,l,u,y),l.memoizedState=E.state,o=l.child):o=Ts(o,l,y),o}function wE(o,l,u,p){return pu(),l.flags|=256,qn(o,l,u,p),l.child}var Im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mm(o){return{baseLanes:o,cachePool:lb()}}function jm(o,l,u){return o=o!==null?o.childLanes&~u:0,l&&(o|=pi),o}function bE(o,l,u){var p=l.pendingProps,y=!1,E=(l.flags&128)!==0,R;if((R=E)||(R=o!==null&&o.memoizedState===null?!1:(Dn.current&2)!==0),R&&(y=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,o===null){if(St){if(y?ia(l):sa(),St){var M=an,Z;if(Z=M){e:{for(Z=M,M=Ki;Z.nodeType!==8;){if(!M){M=null;break e}if(Z=Ri(Z.nextSibling),Z===null){M=null;break e}}M=Z}M!==null?(l.memoizedState={dehydrated:M,treeContext:oo!==null?{id:xs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},Z=Hr(18,null,null,0),Z.stateNode=M,Z.return=l,l.child=Z,vr=l,an=null,Z=!0):Z=!1}Z||uo(l)}if(M=l.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return yv(M)?l.lanes=32:l.lanes=536870912,null;Ss(l)}return M=p.children,p=p.fallback,y?(sa(),y=l.mode,M=ih({mode:"hidden",children:M},y),p=ao(p,y,u,null),M.return=l,p.return=l,M.sibling=p,l.child=M,y=l.child,y.memoizedState=Mm(u),y.childLanes=jm(o,R,u),l.memoizedState=Im,p):(ia(l),Pm(l,M))}if(Z=o.memoizedState,Z!==null&&(M=Z.dehydrated,M!==null)){if(E)l.flags&256?(ia(l),l.flags&=-257,l=Lm(o,l,u)):l.memoizedState!==null?(sa(),l.child=o.child,l.flags|=128,l=null):(sa(),y=p.fallback,M=l.mode,p=ih({mode:"visible",children:p.children},M),y=ao(y,M,u,null),y.flags|=2,p.return=l,y.return=l,p.sibling=y,l.child=p,Bl(l,o.child,null,u),p=l.child,p.memoizedState=Mm(u),p.childLanes=jm(o,R,u),l.memoizedState=Im,l=y);else if(ia(l),yv(M)){if(R=M.nextSibling&&M.nextSibling.dataset,R)var he=R.dgst;R=he,p=Error(r(419)),p.stack="",p.digest=R,gu({value:p,source:null,stack:null}),l=Lm(o,l,u)}else if(jn||mu(o,l,u,!1),R=(u&o.childLanes)!==0,jn||R){if(R=$t,R!==null&&(p=u&-u,p=(p&42)!==0?1:eo(p),p=(p&(R.suspendedLanes|u))!==0?0:p,p!==0&&p!==Z.retryLane))throw Z.retryLane=p,Cl(o,p),Wr(R,o,p),hE;M.data==="$?"||tv(),l=Lm(o,l,u)}else M.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=Z.treeContext,an=Ri(M.nextSibling),vr=l,St=!0,co=null,Ki=!1,o!==null&&(fi[di++]=xs,fi[di++]=_s,fi[di++]=oo,xs=o.id,_s=o.overflow,oo=l),l=Pm(l,p.children),l.flags|=4096);return l}return y?(sa(),y=p.fallback,M=l.mode,Z=o.child,he=Z.sibling,p=ys(Z,{mode:"hidden",children:p.children}),p.subtreeFlags=Z.subtreeFlags&65011712,he!==null?y=ys(he,y):(y=ao(y,M,u,null),y.flags|=2),y.return=l,p.return=l,p.sibling=y,l.child=p,p=y,y=l.child,M=o.child.memoizedState,M===null?M=Mm(u):(Z=M.cachePool,Z!==null?(he=Rn._currentValue,Z=Z.parent!==he?{parent:he,pool:he}:Z):Z=lb(),M={baseLanes:M.baseLanes|u,cachePool:Z}),y.memoizedState=M,y.childLanes=jm(o,R,u),l.memoizedState=Im,p):(ia(l),u=o.child,o=u.sibling,u=ys(u,{mode:"visible",children:p.children}),u.return=l,u.sibling=null,o!==null&&(R=l.deletions,R===null?(l.deletions=[o],l.flags|=16):R.push(o)),l.child=u,l.memoizedState=null,u)}function Pm(o,l){return l=ih({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function ih(o,l){return o=Hr(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Lm(o,l,u){return Bl(l,o.child,null,u),o=Pm(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function EE(o,l,u){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),tm(o.return,l,u)}function Bm(o,l,u,p,y){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=u,E.tailMode=y)}function SE(o,l,u){var p=l.pendingProps,y=p.revealOrder,E=p.tail;if(qn(o,l,p.children,u),p=Dn.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&EE(o,u,l);else if(o.tag===19)EE(o,u,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}switch(q(Dn,p),y){case"forwards":for(u=l.child,y=null;u!==null;)o=u.alternate,o!==null&&eh(o)===null&&(y=u),u=u.sibling;u=y,u===null?(y=l.child,l.child=null):(y=u.sibling,u.sibling=null),Bm(l,!1,y,u,E);break;case"backwards":for(u=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&eh(o)===null){l.child=y;break}o=y.sibling,y.sibling=u,u=y,y=o}Bm(l,!0,u,null,E);break;case"together":Bm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ts(o,l,u){if(o!==null&&(l.dependencies=o.dependencies),ua|=l.lanes,(u&l.childLanes)===0)if(o!==null){if(mu(o,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,u=ys(o,o.pendingProps),l.child=u,u.return=l;o.sibling!==null;)o=o.sibling,u=u.sibling=ys(o,o.pendingProps),u.return=l;u.sibling=null}return l.child}function Fm(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Bd(o)))}function cj(o,l,u){switch(l.tag){case 3:ke(l,l.stateNode.containerInfo),Js(l,Rn,o.memoizedState.cache),pu();break;case 27:case 5:Ce(l);break;case 4:ke(l,l.stateNode.containerInfo);break;case 10:Js(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(ia(l),l.flags|=128,null):(u&l.child.childLanes)!==0?bE(o,l,u):(ia(l),o=Ts(o,l,u),o!==null?o.sibling:null);ia(l);break;case 19:var y=(o.flags&128)!==0;if(p=(u&l.childLanes)!==0,p||(mu(o,l,u,!1),p=(u&l.childLanes)!==0),y){if(p)return SE(o,l,u);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),q(Dn,Dn.current),p)break;return null;case 22:case 23:return l.lanes=0,vE(o,l,u);case 24:Js(l,Rn,o.memoizedState.cache)}return Ts(o,l,u)}function TE(o,l,u){if(o!==null)if(o.memoizedProps!==l.pendingProps)jn=!0;else{if(!Fm(o,u)&&(l.flags&128)===0)return jn=!1,cj(o,l,u);jn=(o.flags&131072)!==0}else jn=!1,St&&(l.flags&1048576)!==0&&tb(l,Ld,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var p=l.elementType,y=p._init;if(p=y(p._payload),l.type=p,typeof p=="function")Yg(p)?(o=mo(p,o),l.tag=1,l=_E(null,l,p,o,u)):(l.tag=0,l=Nm(null,l,p,o,u));else{if(p!=null){if(y=p.$$typeof,y===C){l.tag=11,l=pE(null,l,p,o,u);break e}else if(y===I){l.tag=14,l=gE(null,l,p,o,u);break e}}throw l=N(p)||p,Error(r(306,l,""))}}return l;case 0:return Nm(o,l,l.type,l.pendingProps,u);case 1:return p=l.type,y=mo(p,l.pendingProps),_E(o,l,p,y,u);case 3:e:{if(ke(l,l.stateNode.containerInfo),o===null)throw Error(r(387));p=l.pendingProps;var E=l.memoizedState;y=E.element,lm(o,l),Eu(l,p,null,u);var R=l.memoizedState;if(p=R.cache,Js(l,Rn,p),p!==E.cache&&nm(l,[Rn],u,!0),bu(),p=R.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=wE(o,l,p,u);break e}else if(p!==y){y=ci(Error(r(424)),l),gu(y),l=wE(o,l,p,u);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(an=Ri(o.firstChild),vr=l,St=!0,co=null,Ki=!0,u=rE(l,null,p,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(pu(),p===y){l=Ts(o,l,u);break e}qn(o,l,p,u)}l=l.child}return l;case 26:return rh(o,l),o===null?(u=DS(l.type,null,l.pendingProps,null))?l.memoizedState=u:St||(u=l.type,o=l.pendingProps,p=yh(se.current).createElement(u),p[vn]=l,p[yn]=o,Gn(p,u,o),fe(p),l.stateNode=p):l.memoizedState=DS(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ce(l),o===null&&St&&(p=l.stateNode=AS(l.type,l.pendingProps,se.current),vr=l,Ki=!0,y=an,pa(l.type)?(xv=y,an=Ri(p.firstChild)):an=y),qn(o,l,l.pendingProps.children,u),rh(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&St&&((y=p=an)&&(p=Lj(p,l.type,l.pendingProps,Ki),p!==null?(l.stateNode=p,vr=l,an=Ri(p.firstChild),Ki=!1,y=!0):y=!1),y||uo(l)),Ce(l),y=l.type,E=l.pendingProps,R=o!==null?o.memoizedProps:null,p=E.children,gv(y,E)?p=null:R!==null&&gv(y,R)&&(l.flags|=32),l.memoizedState!==null&&(y=pm(o,l,tj,null,null,u),qu._currentValue=y),rh(o,l),qn(o,l,p,u),l.child;case 6:return o===null&&St&&((o=u=an)&&(u=Bj(u,l.pendingProps,Ki),u!==null?(l.stateNode=u,vr=l,an=null,o=!0):o=!1),o||uo(l)),null;case 13:return bE(o,l,u);case 4:return ke(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=Bl(l,null,p,u):qn(o,l,p,u),l.child;case 11:return pE(o,l,l.type,l.pendingProps,u);case 7:return qn(o,l,l.pendingProps,u),l.child;case 8:return qn(o,l,l.pendingProps.children,u),l.child;case 12:return qn(o,l,l.pendingProps.children,u),l.child;case 10:return p=l.pendingProps,Js(l,l.type,p.value),qn(o,l,p.children,u),l.child;case 9:return y=l.type._context,p=l.pendingProps.children,ho(l),y=ar(y),p=p(y),l.flags|=1,qn(o,l,p,u),l.child;case 14:return gE(o,l,l.type,l.pendingProps,u);case 15:return mE(o,l,l.type,l.pendingProps,u);case 19:return SE(o,l,u);case 31:return p=l.pendingProps,u=l.mode,p={mode:p.mode,children:p.children},o===null?(u=ih(p,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=ys(o.child,p),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return vE(o,l,u);case 24:return ho(l),p=ar(Rn),o===null?(y=sm(),y===null&&(y=$t,E=rm(),y.pooledCache=E,E.refCount++,E!==null&&(y.pooledCacheLanes|=u),y=E),l.memoizedState={parent:p,cache:y},om(l),Js(l,Rn,y)):((o.lanes&u)!==0&&(lm(o,l),Eu(l,null,null,u),bu()),y=o.memoizedState,E=l.memoizedState,y.parent!==p?(y={parent:p,cache:p},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),Js(l,Rn,p)):(p=E.cache,Js(l,Rn,p),p!==y.cache&&nm(l,[Rn],u,!0))),qn(o,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function As(o){o.flags|=4}function AE(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!MS(l)){if(l=hi.current,l!==null&&((xt&4194048)===xt?Qi!==null:(xt&62914560)!==xt&&(xt&536870912)===0||l!==Qi))throw _u=am,cb;o.flags|=8192}}function sh(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Ei():536870912,o.lanes|=l,zl|=l)}function Ou(o,l){if(!St)switch(o.tailMode){case"hidden":l=o.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function en(o){var l=o.alternate!==null&&o.alternate.child===o.child,u=0,p=0;if(l)for(var y=o.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=u,l}function uj(o,l,u){var p=l.pendingProps;switch(Zg(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(l),null;case 1:return en(l),null;case 3:return u=l.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),bs(Rn),Ne(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(hu(l)?As(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ib())),en(l),null;case 26:return u=l.memoizedState,o===null?(As(l),u!==null?(en(l),AE(l,u)):(en(l),l.flags&=-16777217)):u?u!==o.memoizedState?(As(l),en(l),AE(l,u)):(en(l),l.flags&=-16777217):(o.memoizedProps!==p&&As(l),en(l),l.flags&=-16777217),null;case 27:xe(l),u=se.current;var y=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==p&&As(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return en(l),null}o=z.current,hu(l)?nb(l):(o=AS(y,p,u),l.stateNode=o,As(l))}return en(l),null;case 5:if(xe(l),u=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&As(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return en(l),null}if(o=z.current,hu(l))nb(l);else{switch(y=yh(se.current),o){case 1:o=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=y.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof p.is=="string"?y.createElement("select",{is:p.is}):y.createElement("select"),p.multiple?o.multiple=!0:p.size&&(o.size=p.size);break;default:o=typeof p.is=="string"?y.createElement(u,{is:p.is}):y.createElement(u)}}o[vn]=l,o[yn]=p;e:for(y=l.child;y!==null;){if(y.tag===5||y.tag===6)o.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===l)break e;for(;y.sibling===null;){if(y.return===null||y.return===l)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}l.stateNode=o;e:switch(Gn(o,u,p),u){case"button":case"input":case"select":case"textarea":o=!!p.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&As(l)}}return en(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==p&&As(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(o=se.current,hu(l)){if(o=l.stateNode,u=l.memoizedProps,p=null,y=vr,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}o[vn]=l,o=!!(o.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||xS(o.nodeValue,u)),o||uo(l)}else o=yh(o).createTextNode(p),o[vn]=l,l.stateNode=o}return en(l),null;case 13:if(p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(y=hu(l),p!==null&&p.dehydrated!==null){if(o===null){if(!y)throw Error(r(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[vn]=l}else pu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;en(l),y=!1}else y=ib(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(Ss(l),l):(Ss(l),null)}if(Ss(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=p!==null,o=o!==null&&o.memoizedState!==null,u){p=l.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool);var E=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(E=p.memoizedState.cachePool.pool),E!==y&&(p.flags|=2048)}return u!==o&&u&&(l.child.flags|=8192),sh(l,l.updateQueue),en(l),null;case 4:return Ne(),o===null&&uv(l.stateNode.containerInfo),en(l),null;case 10:return bs(l.type),en(l),null;case 19:if(D(Dn),y=l.memoizedState,y===null)return en(l),null;if(p=(l.flags&128)!==0,E=y.rendering,E===null)if(p)Ou(y,!1);else{if(on!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(E=eh(o),E!==null){for(l.flags|=128,Ou(y,!1),o=E.updateQueue,l.updateQueue=o,sh(l,o),l.subtreeFlags=0,o=u,u=l.child;u!==null;)eb(u,o),u=u.sibling;return q(Dn,Dn.current&1|2),l.child}o=o.sibling}y.tail!==null&&Oe()>lh&&(l.flags|=128,p=!0,Ou(y,!1),l.lanes=4194304)}else{if(!p)if(o=eh(E),o!==null){if(l.flags|=128,p=!0,o=o.updateQueue,l.updateQueue=o,sh(l,o),Ou(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!St)return en(l),null}else 2*Oe()-y.renderingStartTime>lh&&u!==536870912&&(l.flags|=128,p=!0,Ou(y,!1),l.lanes=4194304);y.isBackwards?(E.sibling=l.child,l.child=E):(o=y.last,o!==null?o.sibling=E:l.child=E,y.last=E)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Oe(),l.sibling=null,o=Dn.current,q(Dn,p?o&1|2:o&1),l):(en(l),null);case 22:case 23:return Ss(l),dm(),p=l.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(u&536870912)!==0&&(l.flags&128)===0&&(en(l),l.subtreeFlags&6&&(l.flags|=8192)):en(l),u=l.updateQueue,u!==null&&sh(l,u.retryQueue),u=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==u&&(l.flags|=2048),o!==null&&D(po),null;case 24:return u=null,o!==null&&(u=o.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),bs(Rn),en(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function fj(o,l){switch(Zg(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return bs(Rn),Ne(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return xe(l),null;case 13:if(Ss(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));pu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return D(Dn),null;case 4:return Ne(),null;case 10:return bs(l.type),null;case 22:case 23:return Ss(l),dm(),o!==null&&D(po),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return bs(Rn),null;case 25:return null;default:return null}}function CE(o,l){switch(Zg(l),l.tag){case 3:bs(Rn),Ne();break;case 26:case 27:case 5:xe(l);break;case 4:Ne();break;case 13:Ss(l);break;case 19:D(Dn);break;case 10:bs(l.type);break;case 22:case 23:Ss(l),dm(),o!==null&&D(po);break;case 24:bs(Rn)}}function ku(o,l){try{var u=l.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&o)===o){p=void 0;var E=u.create,R=u.inst;p=E(),R.destroy=p}u=u.next}while(u!==y)}}catch(M){zt(l,l.return,M)}}function aa(o,l,u){try{var p=l.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var E=y.next;p=E;do{if((p.tag&o)===o){var R=p.inst,M=R.destroy;if(M!==void 0){R.destroy=void 0,y=l;var Z=u,he=M;try{he()}catch(Re){zt(y,Z,Re)}}}p=p.next}while(p!==E)}}catch(Re){zt(l,l.return,Re)}}function RE(o){var l=o.updateQueue;if(l!==null){var u=o.stateNode;try{gb(l,u)}catch(p){zt(o,o.return,p)}}}function DE(o,l,u){u.props=mo(o.type,o.memoizedProps),u.state=o.memoizedState;try{u.componentWillUnmount()}catch(p){zt(o,l,p)}}function Nu(o,l){try{var u=o.ref;if(u!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof u=="function"?o.refCleanup=u(p):u.current=p}}catch(y){zt(o,l,y)}}function Zi(o,l){var u=o.ref,p=o.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(y){zt(o,l,y)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){zt(o,l,y)}else u.current=null}function OE(o){var l=o.type,u=o.memoizedProps,p=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(y){zt(o,o.return,y)}}function Um(o,l,u){try{var p=o.stateNode;Nj(p,o.type,u,l),p[yn]=l}catch(y){zt(o,o.return,y)}}function kE(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&pa(o.type)||o.tag===4}function Hm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||kE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&pa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function zm(o,l,u){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(o,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(o),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=vh));else if(p!==4&&(p===27&&pa(o.type)&&(u=o.stateNode,l=null),o=o.child,o!==null))for(zm(o,l,u),o=o.sibling;o!==null;)zm(o,l,u),o=o.sibling}function ah(o,l,u){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?u.insertBefore(o,l):u.appendChild(o);else if(p!==4&&(p===27&&pa(o.type)&&(u=o.stateNode),o=o.child,o!==null))for(ah(o,l,u),o=o.sibling;o!==null;)ah(o,l,u),o=o.sibling}function NE(o){var l=o.stateNode,u=o.memoizedProps;try{for(var p=o.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);Gn(l,p,u),l[vn]=o,l[yn]=u}catch(E){zt(o,o.return,E)}}var Cs=!1,hn=!1,$m=!1,IE=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function dj(o,l){if(o=o.containerInfo,hv=Sh,o=Vw(o),Hg(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var R=0,M=-1,Z=-1,he=0,Re=0,Ie=o,me=null;t:for(;;){for(var ye;Ie!==u||y!==0&&Ie.nodeType!==3||(M=R+y),Ie!==E||p!==0&&Ie.nodeType!==3||(Z=R+p),Ie.nodeType===3&&(R+=Ie.nodeValue.length),(ye=Ie.firstChild)!==null;)me=Ie,Ie=ye;for(;;){if(Ie===o)break t;if(me===u&&++he===y&&(M=R),me===E&&++Re===p&&(Z=R),(ye=Ie.nextSibling)!==null)break;Ie=me,me=Ie.parentNode}Ie=ye}u=M===-1||Z===-1?null:{start:M,end:Z}}else u=null}u=u||{start:0,end:0}}else u=null;for(pv={focusedElem:o,selectionRange:u},Sh=!1,Pn=l;Pn!==null;)if(l=Pn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,Pn=o;else for(;Pn!==null;){switch(l=Pn,E=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&E!==null){o=void 0,u=l,y=E.memoizedProps,E=E.memoizedState,p=u.stateNode;try{var st=mo(u.type,y,u.elementType===u.type);o=p.getSnapshotBeforeUpdate(st,E),p.__reactInternalSnapshotBeforeUpdate=o}catch(tt){zt(u,u.return,tt)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,u=o.nodeType,u===9)vv(o);else if(u===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":vv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Pn=o;break}Pn=l.return}}function ME(o,l,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:oa(o,u),p&4&&ku(5,u);break;case 1:if(oa(o,u),p&4)if(o=u.stateNode,l===null)try{o.componentDidMount()}catch(R){zt(u,u.return,R)}else{var y=mo(u.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(y,l,o.__reactInternalSnapshotBeforeUpdate)}catch(R){zt(u,u.return,R)}}p&64&&RE(u),p&512&&Nu(u,u.return);break;case 3:if(oa(o,u),p&64&&(o=u.updateQueue,o!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{gb(o,l)}catch(R){zt(u,u.return,R)}}break;case 27:l===null&&p&4&&NE(u);case 26:case 5:oa(o,u),l===null&&p&4&&OE(u),p&512&&Nu(u,u.return);break;case 12:oa(o,u);break;case 13:oa(o,u),p&4&&LE(o,u),p&64&&(o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(u=wj.bind(null,u),Fj(o,u))));break;case 22:if(p=u.memoizedState!==null||Cs,!p){l=l!==null&&l.memoizedState!==null||hn,y=Cs;var E=hn;Cs=p,(hn=l)&&!E?la(o,u,(u.subtreeFlags&8772)!==0):oa(o,u),Cs=y,hn=E}break;case 30:break;default:oa(o,u)}}function jE(o){var l=o.alternate;l!==null&&(o.alternate=null,jE(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&H(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Qt=null,Cr=!1;function Rs(o,l,u){for(u=u.child;u!==null;)PE(o,l,u),u=u.sibling}function PE(o,l,u){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Vn,u)}catch{}switch(u.tag){case 26:hn||Zi(u,l),Rs(o,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:hn||Zi(u,l);var p=Qt,y=Cr;pa(u.type)&&(Qt=u.stateNode,Cr=!1),Rs(o,l,u),Hu(u.stateNode),Qt=p,Cr=y;break;case 5:hn||Zi(u,l);case 6:if(p=Qt,y=Cr,Qt=null,Rs(o,l,u),Qt=p,Cr=y,Qt!==null)if(Cr)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(u.stateNode)}catch(E){zt(u,l,E)}else try{Qt.removeChild(u.stateNode)}catch(E){zt(u,l,E)}break;case 18:Qt!==null&&(Cr?(o=Qt,SS(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,u.stateNode),Xu(o)):SS(Qt,u.stateNode));break;case 4:p=Qt,y=Cr,Qt=u.stateNode.containerInfo,Cr=!0,Rs(o,l,u),Qt=p,Cr=y;break;case 0:case 11:case 14:case 15:hn||aa(2,u,l),hn||aa(4,u,l),Rs(o,l,u);break;case 1:hn||(Zi(u,l),p=u.stateNode,typeof p.componentWillUnmount=="function"&&DE(u,l,p)),Rs(o,l,u);break;case 21:Rs(o,l,u);break;case 22:hn=(p=hn)||u.memoizedState!==null,Rs(o,l,u),hn=p;break;default:Rs(o,l,u)}}function LE(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Xu(o)}catch(u){zt(l,l.return,u)}}function hj(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new IE),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new IE),l;default:throw Error(r(435,o.tag))}}function Vm(o,l){var u=hj(o);l.forEach(function(p){var y=bj.bind(null,o,p);u.has(p)||(u.add(p),p.then(y,y))})}function zr(o,l){var u=l.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p],E=o,R=l,M=R;e:for(;M!==null;){switch(M.tag){case 27:if(pa(M.type)){Qt=M.stateNode,Cr=!1;break e}break;case 5:Qt=M.stateNode,Cr=!1;break e;case 3:case 4:Qt=M.stateNode.containerInfo,Cr=!0;break e}M=M.return}if(Qt===null)throw Error(r(160));PE(E,R,y),Qt=null,Cr=!1,E=y.alternate,E!==null&&(E.return=null),y.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)BE(l,o),l=l.sibling}var Ci=null;function BE(o,l){var u=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:zr(l,o),$r(o),p&4&&(aa(3,o,o.return),ku(3,o),aa(5,o,o.return));break;case 1:zr(l,o),$r(o),p&512&&(hn||u===null||Zi(u,u.return)),p&64&&Cs&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(u=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var y=Ci;if(zr(l,o),$r(o),p&512&&(hn||u===null||Zi(u,u.return)),p&4){var E=u!==null?u.memoizedState:null;if(p=o.memoizedState,u===null)if(p===null)if(o.stateNode===null){e:{p=o.type,u=o.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":E=y.getElementsByTagName("title")[0],(!E||E[U]||E[vn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=y.createElement(p),y.head.insertBefore(E,y.querySelector("head > title"))),Gn(E,p,u),E[vn]=o,fe(E),p=E;break e;case"link":var R=NS("link","href",y).get(p+(u.href||""));if(R){for(var M=0;M<R.length;M++)if(E=R[M],E.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&E.getAttribute("rel")===(u.rel==null?null:u.rel)&&E.getAttribute("title")===(u.title==null?null:u.title)&&E.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(M,1);break t}}E=y.createElement(p),Gn(E,p,u),y.head.appendChild(E);break;case"meta":if(R=NS("meta","content",y).get(p+(u.content||""))){for(M=0;M<R.length;M++)if(E=R[M],E.getAttribute("content")===(u.content==null?null:""+u.content)&&E.getAttribute("name")===(u.name==null?null:u.name)&&E.getAttribute("property")===(u.property==null?null:u.property)&&E.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&E.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(M,1);break t}}E=y.createElement(p),Gn(E,p,u),y.head.appendChild(E);break;default:throw Error(r(468,p))}E[vn]=o,fe(E),p=E}o.stateNode=p}else IS(y,o.type,o.stateNode);else o.stateNode=kS(y,p,o.memoizedProps);else E!==p?(E===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):E.count--,p===null?IS(y,o.type,o.stateNode):kS(y,p,o.memoizedProps)):p===null&&o.stateNode!==null&&Um(o,o.memoizedProps,u.memoizedProps)}break;case 27:zr(l,o),$r(o),p&512&&(hn||u===null||Zi(u,u.return)),u!==null&&p&4&&Um(o,o.memoizedProps,u.memoizedProps);break;case 5:if(zr(l,o),$r(o),p&512&&(hn||u===null||Zi(u,u.return)),o.flags&32){y=o.stateNode;try{_l(y,"")}catch(ye){zt(o,o.return,ye)}}p&4&&o.stateNode!=null&&(y=o.memoizedProps,Um(o,y,u!==null?u.memoizedProps:y)),p&1024&&($m=!0);break;case 6:if(zr(l,o),$r(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,u=o.stateNode;try{u.nodeValue=p}catch(ye){zt(o,o.return,ye)}}break;case 3:if(wh=null,y=Ci,Ci=xh(l.containerInfo),zr(l,o),Ci=y,$r(o),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Xu(l.containerInfo)}catch(ye){zt(o,o.return,ye)}$m&&($m=!1,FE(o));break;case 4:p=Ci,Ci=xh(o.stateNode.containerInfo),zr(l,o),$r(o),Ci=p;break;case 12:zr(l,o),$r(o);break;case 13:zr(l,o),$r(o),o.child.flags&8192&&o.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Km=Oe()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Vm(o,p)));break;case 22:y=o.memoizedState!==null;var Z=u!==null&&u.memoizedState!==null,he=Cs,Re=hn;if(Cs=he||y,hn=Re||Z,zr(l,o),hn=Re,Cs=he,$r(o),p&8192)e:for(l=o.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(u===null||Z||Cs||hn||vo(o)),u=null,l=o;;){if(l.tag===5||l.tag===26){if(u===null){Z=u=l;try{if(E=Z.stateNode,y)R=E.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{M=Z.stateNode;var Ie=Z.memoizedProps.style,me=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null;M.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(ye){zt(Z,Z.return,ye)}}}else if(l.tag===6){if(u===null){Z=l;try{Z.stateNode.nodeValue=y?"":Z.memoizedProps}catch(ye){zt(Z,Z.return,ye)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=o.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Vm(o,u))));break;case 19:zr(l,o),$r(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Vm(o,p)));break;case 30:break;case 21:break;default:zr(l,o),$r(o)}}function $r(o){var l=o.flags;if(l&2){try{for(var u,p=o.return;p!==null;){if(kE(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,E=Hm(o);ah(o,E,y);break;case 5:var R=u.stateNode;u.flags&32&&(_l(R,""),u.flags&=-33);var M=Hm(o);ah(o,M,R);break;case 3:case 4:var Z=u.stateNode.containerInfo,he=Hm(o);zm(o,he,Z);break;default:throw Error(r(161))}}catch(Re){zt(o,o.return,Re)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function FE(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;FE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function oa(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)ME(o,l.alternate,l),l=l.sibling}function vo(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:aa(4,l,l.return),vo(l);break;case 1:Zi(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&DE(l,l.return,u),vo(l);break;case 27:Hu(l.stateNode);case 26:case 5:Zi(l,l.return),vo(l);break;case 22:l.memoizedState===null&&vo(l);break;case 30:vo(l);break;default:vo(l)}o=o.sibling}}function la(o,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,y=o,E=l,R=E.flags;switch(E.tag){case 0:case 11:case 15:la(y,E,u),ku(4,E);break;case 1:if(la(y,E,u),p=E,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(he){zt(p,p.return,he)}if(p=E,y=p.updateQueue,y!==null){var M=p.stateNode;try{var Z=y.shared.hiddenCallbacks;if(Z!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Z.length;y++)pb(Z[y],M)}catch(he){zt(p,p.return,he)}}u&&R&64&&RE(E),Nu(E,E.return);break;case 27:NE(E);case 26:case 5:la(y,E,u),u&&p===null&&R&4&&OE(E),Nu(E,E.return);break;case 12:la(y,E,u);break;case 13:la(y,E,u),u&&R&4&&LE(y,E);break;case 22:E.memoizedState===null&&la(y,E,u),Nu(E,E.return);break;case 30:break;default:la(y,E,u)}l=l.sibling}}function qm(o,l){var u=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==u&&(o!=null&&o.refCount++,u!=null&&vu(u))}function Wm(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&vu(o))}function Ji(o,l,u,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)UE(o,l,u,p),l=l.sibling}function UE(o,l,u,p){var y=l.flags;switch(l.tag){case 0:case 11:case 15:Ji(o,l,u,p),y&2048&&ku(9,l);break;case 1:Ji(o,l,u,p);break;case 3:Ji(o,l,u,p),y&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&vu(o)));break;case 12:if(y&2048){Ji(o,l,u,p),o=l.stateNode;try{var E=l.memoizedProps,R=E.id,M=E.onPostCommit;typeof M=="function"&&M(R,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Z){zt(l,l.return,Z)}}else Ji(o,l,u,p);break;case 13:Ji(o,l,u,p);break;case 23:break;case 22:E=l.stateNode,R=l.alternate,l.memoizedState!==null?E._visibility&2?Ji(o,l,u,p):Iu(o,l):E._visibility&2?Ji(o,l,u,p):(E._visibility|=2,Fl(o,l,u,p,(l.subtreeFlags&10256)!==0)),y&2048&&qm(R,l);break;case 24:Ji(o,l,u,p),y&2048&&Wm(l.alternate,l);break;default:Ji(o,l,u,p)}}function Fl(o,l,u,p,y){for(y=y&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var E=o,R=l,M=u,Z=p,he=R.flags;switch(R.tag){case 0:case 11:case 15:Fl(E,R,M,Z,y),ku(8,R);break;case 23:break;case 22:var Re=R.stateNode;R.memoizedState!==null?Re._visibility&2?Fl(E,R,M,Z,y):Iu(E,R):(Re._visibility|=2,Fl(E,R,M,Z,y)),y&&he&2048&&qm(R.alternate,R);break;case 24:Fl(E,R,M,Z,y),y&&he&2048&&Wm(R.alternate,R);break;default:Fl(E,R,M,Z,y)}l=l.sibling}}function Iu(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=o,p=l,y=p.flags;switch(p.tag){case 22:Iu(u,p),y&2048&&qm(p.alternate,p);break;case 24:Iu(u,p),y&2048&&Wm(p.alternate,p);break;default:Iu(u,p)}l=l.sibling}}var Mu=8192;function Ul(o){if(o.subtreeFlags&Mu)for(o=o.child;o!==null;)HE(o),o=o.sibling}function HE(o){switch(o.tag){case 26:Ul(o),o.flags&Mu&&o.memoizedState!==null&&Zj(Ci,o.memoizedState,o.memoizedProps);break;case 5:Ul(o);break;case 3:case 4:var l=Ci;Ci=xh(o.stateNode.containerInfo),Ul(o),Ci=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=Mu,Mu=16777216,Ul(o),Mu=l):Ul(o));break;default:Ul(o)}}function zE(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function ju(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];Pn=p,VE(p,o)}zE(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)$E(o),o=o.sibling}function $E(o){switch(o.tag){case 0:case 11:case 15:ju(o),o.flags&2048&&aa(9,o,o.return);break;case 3:ju(o);break;case 12:ju(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,oh(o)):ju(o);break;default:ju(o)}}function oh(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];Pn=p,VE(p,o)}zE(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:aa(8,l,l.return),oh(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,oh(l));break;default:oh(l)}o=o.sibling}}function VE(o,l){for(;Pn!==null;){var u=Pn;switch(u.tag){case 0:case 11:case 15:aa(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:vu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Pn=p;else e:for(u=o;Pn!==null;){p=Pn;var y=p.sibling,E=p.return;if(jE(p),p===u){Pn=null;break e}if(y!==null){y.return=E,Pn=y;break e}Pn=E}}}var pj={getCacheForType:function(o){var l=ar(Rn),u=l.data.get(o);return u===void 0&&(u=o(),l.data.set(o,u)),u}},gj=typeof WeakMap=="function"?WeakMap:Map,Ot=0,$t=null,pt=null,xt=0,kt=0,Vr=null,ca=!1,Hl=!1,Gm=!1,Ds=0,on=0,ua=0,yo=0,Ym=0,pi=0,zl=0,Pu=null,Rr=null,Xm=!1,Km=0,lh=1/0,ch=null,fa=null,Wn=0,da=null,$l=null,Vl=0,Qm=0,Zm=null,qE=null,Lu=0,Jm=null;function qr(){if((Ot&2)!==0&&xt!==0)return xt&-xt;if(B.T!==null){var o=kl;return o!==0?o:av()}return yl()}function WE(){pi===0&&(pi=(xt&536870912)===0||St?gs():536870912);var o=hi.current;return o!==null&&(o.flags|=32),pi}function Wr(o,l,u){(o===$t&&(kt===2||kt===9)||o.cancelPendingCommit!==null)&&(ql(o,0),ha(o,xt,pi,!1)),Gi(o,u),((Ot&2)===0||o!==$t)&&(o===$t&&((Ot&2)===0&&(yo|=u),on===4&&ha(o,xt,pi,!1)),es(o))}function GE(o,l,u){if((Ot&6)!==0)throw Error(r(327));var p=!u&&(l&124)===0&&(l&o.expiredLanes)===0||Mn(o,l),y=p?yj(o,l):nv(o,l,!0),E=p;do{if(y===0){Hl&&!p&&ha(o,l,0,!1);break}else{if(u=o.current.alternate,E&&!mj(u)){y=nv(o,l,!1),E=!1;continue}if(y===2){if(E=l,o.errorRecoveryDisabledLanes&E)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var M=o;y=Pu;var Z=M.current.memoizedState.isDehydrated;if(Z&&(ql(M,R).flags|=256),R=nv(M,R,!1),R!==2){if(Gm&&!Z){M.errorRecoveryDisabledLanes|=E,yo|=E,y=4;break e}E=Rr,Rr=y,E!==null&&(Rr===null?Rr=E:Rr.push.apply(Rr,E))}y=R}if(E=!1,y!==2)continue}}if(y===1){ql(o,0),ha(o,l,0,!0);break}e:{switch(p=o,E=y,E){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ha(p,l,pi,!ca);break e;case 2:Rr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(y=Km+300-Oe(),10<y)){if(ha(p,l,pi,!ca),sr(p,0,!0)!==0)break e;p.timeoutHandle=bS(YE.bind(null,p,u,Rr,ch,Xm,l,pi,yo,zl,ca,E,2,-0,0),y);break e}YE(p,u,Rr,ch,Xm,l,pi,yo,zl,ca,E,0,-0,0)}}break}while(!0);es(o)}function YE(o,l,u,p,y,E,R,M,Z,he,Re,Ie,me,ye){if(o.timeoutHandle=-1,Ie=l.subtreeFlags,(Ie&8192||(Ie&16785408)===16785408)&&(Vu={stylesheets:null,count:0,unsuspend:Qj},HE(l),Ie=Jj(),Ie!==null)){o.cancelPendingCommit=Ie(tS.bind(null,o,l,E,u,p,y,R,M,Z,Re,1,me,ye)),ha(o,E,R,!he);return}tS(o,l,E,u,p,y,R,M,Z)}function mj(o){for(var l=o;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var y=u[p],E=y.getSnapshot;y=y.value;try{if(!Ur(E(),y))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ha(o,l,u,p){l&=~Ym,l&=~yo,o.suspendedLanes|=l,o.pingedLanes&=~l,p&&(o.warmLanes|=l),p=o.expirationTimes;for(var y=l;0<y;){var E=31-sn(y),R=1<<E;p[E]=-1,y&=~R}u!==0&&ml(o,u,l)}function uh(){return(Ot&6)===0?(Bu(0),!1):!0}function ev(){if(pt!==null){if(kt===0)var o=pt.return;else o=pt,ws=fo=null,vm(o),Ll=null,Ru=0,o=pt;for(;o!==null;)CE(o.alternate,o),o=o.return;pt=null}}function ql(o,l){var u=o.timeoutHandle;u!==-1&&(o.timeoutHandle=-1,Mj(u)),u=o.cancelPendingCommit,u!==null&&(o.cancelPendingCommit=null,u()),ev(),$t=o,pt=u=ys(o.current,null),xt=l,kt=0,Vr=null,ca=!1,Hl=Mn(o,l),Gm=!1,zl=pi=Ym=yo=ua=on=0,Rr=Pu=null,Xm=!1,(l&8)!==0&&(l|=l&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=l;0<p;){var y=31-sn(p),E=1<<y;l|=o[y],p&=~E}return Ds=l,Nd(),u}function XE(o,l){ut=null,B.H=Qd,l===xu||l===Hd?(l=db(),kt=3):l===cb?(l=db(),kt=4):kt=l===hE?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Vr=l,pt===null&&(on=1,nh(o,ci(l,o.current)))}function KE(){var o=B.H;return B.H=Qd,o===null?Qd:o}function QE(){var o=B.A;return B.A=pj,o}function tv(){on=4,ca||(xt&4194048)!==xt&&hi.current!==null||(Hl=!0),(ua&134217727)===0&&(yo&134217727)===0||$t===null||ha($t,xt,pi,!1)}function nv(o,l,u){var p=Ot;Ot|=2;var y=KE(),E=QE();($t!==o||xt!==l)&&(ch=null,ql(o,l)),l=!1;var R=on;e:do try{if(kt!==0&&pt!==null){var M=pt,Z=Vr;switch(kt){case 8:ev(),R=6;break e;case 3:case 2:case 9:case 6:hi.current===null&&(l=!0);var he=kt;if(kt=0,Vr=null,Wl(o,M,Z,he),u&&Hl){R=0;break e}break;default:he=kt,kt=0,Vr=null,Wl(o,M,Z,he)}}vj(),R=on;break}catch(Re){XE(o,Re)}while(!0);return l&&o.shellSuspendCounter++,ws=fo=null,Ot=p,B.H=y,B.A=E,pt===null&&($t=null,xt=0,Nd()),R}function vj(){for(;pt!==null;)ZE(pt)}function yj(o,l){var u=Ot;Ot|=2;var p=KE(),y=QE();$t!==o||xt!==l?(ch=null,lh=Oe()+500,ql(o,l)):Hl=Mn(o,l);e:do try{if(kt!==0&&pt!==null){l=pt;var E=Vr;t:switch(kt){case 1:kt=0,Vr=null,Wl(o,l,E,1);break;case 2:case 9:if(ub(E)){kt=0,Vr=null,JE(l);break}l=function(){kt!==2&&kt!==9||$t!==o||(kt=7),es(o)},E.then(l,l);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:ub(E)?(kt=0,Vr=null,JE(l)):(kt=0,Vr=null,Wl(o,l,E,7));break;case 5:var R=null;switch(pt.tag){case 26:R=pt.memoizedState;case 5:case 27:var M=pt;if(!R||MS(R)){kt=0,Vr=null;var Z=M.sibling;if(Z!==null)pt=Z;else{var he=M.return;he!==null?(pt=he,fh(he)):pt=null}break t}}kt=0,Vr=null,Wl(o,l,E,5);break;case 6:kt=0,Vr=null,Wl(o,l,E,6);break;case 8:ev(),on=6;break e;default:throw Error(r(462))}}xj();break}catch(Re){XE(o,Re)}while(!0);return ws=fo=null,B.H=p,B.A=y,Ot=u,pt!==null?0:($t=null,xt=0,Nd(),on)}function xj(){for(;pt!==null&&!We();)ZE(pt)}function ZE(o){var l=TE(o.alternate,o,Ds);o.memoizedProps=o.pendingProps,l===null?fh(o):pt=l}function JE(o){var l=o,u=l.alternate;switch(l.tag){case 15:case 0:l=xE(u,l,l.pendingProps,l.type,void 0,xt);break;case 11:l=xE(u,l,l.pendingProps,l.type.render,l.ref,xt);break;case 5:vm(l);default:CE(u,l),l=pt=eb(l,Ds),l=TE(u,l,Ds)}o.memoizedProps=o.pendingProps,l===null?fh(o):pt=l}function Wl(o,l,u,p){ws=fo=null,vm(l),Ll=null,Ru=0;var y=l.return;try{if(lj(o,y,l,u,xt)){on=1,nh(o,ci(u,o.current)),pt=null;return}}catch(E){if(y!==null)throw pt=y,E;on=1,nh(o,ci(u,o.current)),pt=null;return}l.flags&32768?(St||p===1?o=!0:Hl||(xt&536870912)!==0?o=!1:(ca=o=!0,(p===2||p===9||p===3||p===6)&&(p=hi.current,p!==null&&p.tag===13&&(p.flags|=16384))),eS(l,o)):fh(l)}function fh(o){var l=o;do{if((l.flags&32768)!==0){eS(l,ca);return}o=l.return;var u=uj(l.alternate,l,Ds);if(u!==null){pt=u;return}if(l=l.sibling,l!==null){pt=l;return}pt=l=o}while(l!==null);on===0&&(on=5)}function eS(o,l){do{var u=fj(o.alternate,o);if(u!==null){u.flags&=32767,pt=u;return}if(u=o.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(o=o.sibling,o!==null)){pt=o;return}pt=o=u}while(o!==null);on=6,pt=null}function tS(o,l,u,p,y,E,R,M,Z){o.cancelPendingCommit=null;do dh();while(Wn!==0);if((Ot&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(E=l.lanes|l.childLanes,E|=Wg,Er(o,u,E,R,M,Z),o===$t&&(pt=$t=null,xt=0),$l=l,da=o,Vl=u,Qm=E,Zm=y,qE=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Ej($n,function(){return aS(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=B.T,B.T=null,y=re.p,re.p=2,R=Ot,Ot|=4;try{dj(o,l,u)}finally{Ot=R,re.p=y,B.T=p}}Wn=1,nS(),rS(),iS()}}function nS(){if(Wn===1){Wn=0;var o=da,l=$l,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var p=re.p;re.p=2;var y=Ot;Ot|=4;try{BE(l,o);var E=pv,R=Vw(o.containerInfo),M=E.focusedElem,Z=E.selectionRange;if(R!==M&&M&&M.ownerDocument&&$w(M.ownerDocument.documentElement,M)){if(Z!==null&&Hg(M)){var he=Z.start,Re=Z.end;if(Re===void 0&&(Re=he),"selectionStart"in M)M.selectionStart=he,M.selectionEnd=Math.min(Re,M.value.length);else{var Ie=M.ownerDocument||document,me=Ie&&Ie.defaultView||window;if(me.getSelection){var ye=me.getSelection(),st=M.textContent.length,tt=Math.min(Z.start,st),Ft=Z.end===void 0?tt:Math.min(Z.end,st);!ye.extend&&tt>Ft&&(R=Ft,Ft=tt,tt=R);var ue=zw(M,tt),oe=zw(M,Ft);if(ue&&oe&&(ye.rangeCount!==1||ye.anchorNode!==ue.node||ye.anchorOffset!==ue.offset||ye.focusNode!==oe.node||ye.focusOffset!==oe.offset)){var de=Ie.createRange();de.setStart(ue.node,ue.offset),ye.removeAllRanges(),tt>Ft?(ye.addRange(de),ye.extend(oe.node,oe.offset)):(de.setEnd(oe.node,oe.offset),ye.addRange(de))}}}}for(Ie=[],ye=M;ye=ye.parentNode;)ye.nodeType===1&&Ie.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ie.length;M++){var De=Ie[M];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}Sh=!!hv,pv=hv=null}finally{Ot=y,re.p=p,B.T=u}}o.current=l,Wn=2}}function rS(){if(Wn===2){Wn=0;var o=da,l=$l,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var p=re.p;re.p=2;var y=Ot;Ot|=4;try{ME(o,l.alternate,l)}finally{Ot=y,re.p=p,B.T=u}}Wn=3}}function iS(){if(Wn===4||Wn===3){Wn=0,qe();var o=da,l=$l,u=Vl,p=qE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Wn=5:(Wn=0,$l=da=null,sS(o,o.pendingLanes));var y=o.pendingLanes;if(y===0&&(fa=null),to(u),l=l.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Vn,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=B.T,y=re.p,re.p=2,B.T=null;try{for(var E=o.onRecoverableError,R=0;R<p.length;R++){var M=p[R];E(M.value,{componentStack:M.stack})}}finally{B.T=l,re.p=y}}(Vl&3)!==0&&dh(),es(o),y=o.pendingLanes,(u&4194090)!==0&&(y&42)!==0?o===Jm?Lu++:(Lu=0,Jm=o):Lu=0,Bu(0)}}function sS(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,vu(l)))}function dh(o){return nS(),rS(),iS(),aS()}function aS(){if(Wn!==5)return!1;var o=da,l=Qm;Qm=0;var u=to(Vl),p=B.T,y=re.p;try{re.p=32>u?32:u,B.T=null,u=Zm,Zm=null;var E=da,R=Vl;if(Wn=0,$l=da=null,Vl=0,(Ot&6)!==0)throw Error(r(331));var M=Ot;if(Ot|=4,$E(E.current),UE(E,E.current,R,u),Ot=M,Bu(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Vn,E)}catch{}return!0}finally{re.p=y,B.T=p,sS(o,l)}}function oS(o,l,u){l=ci(u,l),l=km(o.stateNode,l,2),o=na(o,l,2),o!==null&&(Gi(o,2),es(o))}function zt(o,l,u){if(o.tag===3)oS(o,o,u);else for(;l!==null;){if(l.tag===3){oS(l,o,u);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(fa===null||!fa.has(p))){o=ci(u,o),u=fE(2),p=na(l,u,2),p!==null&&(dE(u,p,l,o),Gi(p,2),es(p));break}}l=l.return}}function rv(o,l,u){var p=o.pingCache;if(p===null){p=o.pingCache=new gj;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(u)||(Gm=!0,y.add(u),o=_j.bind(null,o,l,u),l.then(o,o))}function _j(o,l,u){var p=o.pingCache;p!==null&&p.delete(l),o.pingedLanes|=o.suspendedLanes&u,o.warmLanes&=~u,$t===o&&(xt&u)===u&&(on===4||on===3&&(xt&62914560)===xt&&300>Oe()-Km?(Ot&2)===0&&ql(o,0):Ym|=u,zl===xt&&(zl=0)),es(o)}function lS(o,l){l===0&&(l=Ei()),o=Cl(o,l),o!==null&&(Gi(o,l),es(o))}function wj(o){var l=o.memoizedState,u=0;l!==null&&(u=l.retryLane),lS(o,u)}function bj(o,l){var u=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),lS(o,u)}function Ej(o,l){return Ae(o,l)}var hh=null,Gl=null,iv=!1,ph=!1,sv=!1,xo=0;function es(o){o!==Gl&&o.next===null&&(Gl===null?hh=Gl=o:Gl=Gl.next=o),ph=!0,iv||(iv=!0,Tj())}function Bu(o,l){if(!sv&&ph){sv=!0;do for(var u=!1,p=hh;p!==null;){if(o!==0){var y=p.pendingLanes;if(y===0)var E=0;else{var R=p.suspendedLanes,M=p.pingedLanes;E=(1<<31-sn(42|o)+1)-1,E&=y&~(R&~M),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(u=!0,dS(p,E))}else E=xt,E=sr(p,p===$t?E:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(E&3)===0||Mn(p,E)||(u=!0,dS(p,E));p=p.next}while(u);sv=!1}}function Sj(){cS()}function cS(){ph=iv=!1;var o=0;xo!==0&&(Ij()&&(o=xo),xo=0);for(var l=Oe(),u=null,p=hh;p!==null;){var y=p.next,E=uS(p,l);E===0?(p.next=null,u===null?hh=y:u.next=y,y===null&&(Gl=u)):(u=p,(o!==0||(E&3)!==0)&&(ph=!0)),p=y}Bu(o)}function uS(o,l){for(var u=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,E=o.pendingLanes&-62914561;0<E;){var R=31-sn(E),M=1<<R,Z=y[R];Z===-1?((M&u)===0||(M&p)!==0)&&(y[R]=Wi(M,l)):Z<=l&&(o.expiredLanes|=M),E&=~M}if(l=$t,u=xt,u=sr(o,o===l?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,u===0||o===l&&(kt===2||kt===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Pe(p),o.callbackNode=null,o.callbackPriority=0;if((u&3)===0||Mn(o,u)){if(l=u&-u,l===o.callbackPriority)return l;switch(p!==null&&Pe(p),to(u)){case 2:case 8:u=Nn;break;case 32:u=$n;break;case 268435456:u=Lr;break;default:u=$n}return p=fS.bind(null,o),u=Ae(u,p),o.callbackPriority=l,o.callbackNode=u,l}return p!==null&&p!==null&&Pe(p),o.callbackPriority=2,o.callbackNode=null,2}function fS(o,l){if(Wn!==0&&Wn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var u=o.callbackNode;if(dh()&&o.callbackNode!==u)return null;var p=xt;return p=sr(o,o===$t?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(GE(o,p,l),uS(o,Oe()),o.callbackNode!=null&&o.callbackNode===u?fS.bind(null,o):null)}function dS(o,l){if(dh())return null;GE(o,l,!0)}function Tj(){jj(function(){(Ot&6)!==0?Ae(Dt,Sj):cS()})}function av(){return xo===0&&(xo=gs()),xo}function hS(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Td(""+o)}function pS(o,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,o.id&&u.setAttribute("form",o.id),l.parentNode.insertBefore(u,l),o=new FormData(o),u.parentNode.removeChild(u),o}function Aj(o,l,u,p,y){if(l==="submit"&&u&&u.stateNode===y){var E=hS((y[yn]||null).action),R=p.submitter;R&&(l=(l=R[yn]||null)?hS(l.formAction):R.getAttribute("formAction"),l!==null&&(E=l,R=null));var M=new Dd("action","action",null,p,y);o.push({event:M,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(xo!==0){var Z=R?pS(y,R):new FormData(y);Am(u,{pending:!0,data:Z,method:y.method,action:E},null,Z)}}else typeof E=="function"&&(M.preventDefault(),Z=R?pS(y,R):new FormData(y),Am(u,{pending:!0,data:Z,method:y.method,action:E},E,Z))},currentTarget:y}]})}}for(var ov=0;ov<qg.length;ov++){var lv=qg[ov],Cj=lv.toLowerCase(),Rj=lv[0].toUpperCase()+lv.slice(1);Ai(Cj,"on"+Rj)}Ai(Gw,"onAnimationEnd"),Ai(Yw,"onAnimationIteration"),Ai(Xw,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(q3,"onTransitionRun"),Ai(W3,"onTransitionStart"),Ai(G3,"onTransitionCancel"),Ai(Kw,"onTransitionEnd"),Be("onMouseEnter",["mouseout","mouseover"]),Be("onMouseLeave",["mouseout","mouseover"]),Be("onPointerEnter",["pointerout","pointerover"]),Be("onPointerLeave",["pointerout","pointerover"]),je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),je("onBeforeInput",["compositionend","keypress","textInput","paste"]),je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fu));function gS(o,l){l=(l&4)!==0;for(var u=0;u<o.length;u++){var p=o[u],y=p.event;p=p.listeners;e:{var E=void 0;if(l)for(var R=p.length-1;0<=R;R--){var M=p[R],Z=M.instance,he=M.currentTarget;if(M=M.listener,Z!==E&&y.isPropagationStopped())break e;E=M,y.currentTarget=he;try{E(y)}catch(Re){th(Re)}y.currentTarget=null,E=Z}else for(R=0;R<p.length;R++){if(M=p[R],Z=M.instance,he=M.currentTarget,M=M.listener,Z!==E&&y.isPropagationStopped())break e;E=M,y.currentTarget=he;try{E(y)}catch(Re){th(Re)}y.currentTarget=null,E=Z}}}}function gt(o,l){var u=l[no];u===void 0&&(u=l[no]=new Set);var p=o+"__bubble";u.has(p)||(mS(l,o,2,!1),u.add(p))}function cv(o,l,u){var p=0;l&&(p|=4),mS(u,o,p,l)}var gh="_reactListening"+Math.random().toString(36).slice(2);function uv(o){if(!o[gh]){o[gh]=!0,ge.forEach(function(u){u!=="selectionchange"&&(Dj.has(u)||cv(u,!1,o),cv(u,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[gh]||(l[gh]=!0,cv("selectionchange",!1,l))}}function mS(o,l,u,p){switch(US(l)){case 2:var y=nP;break;case 8:y=rP;break;default:y=Sv}u=y.bind(null,l,u,o),y=void 0,!Ng||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(l,u,{capture:!0,passive:y}):o.addEventListener(l,u,!0):y!==void 0?o.addEventListener(l,u,{passive:y}):o.addEventListener(l,u,!1)}function fv(o,l,u,p,y){var E=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var M=p.stateNode.containerInfo;if(M===y)break;if(R===4)for(R=p.return;R!==null;){var Z=R.tag;if((Z===3||Z===4)&&R.stateNode.containerInfo===y)return;R=R.return}for(;M!==null;){if(R=W(M),R===null)return;if(Z=R.tag,Z===5||Z===6||Z===26||Z===27){p=E=R;continue e}M=M.parentNode}}p=p.return}Ew(function(){var he=E,Re=Og(u),Ie=[];e:{var me=Qw.get(o);if(me!==void 0){var ye=Dd,st=o;switch(o){case"keypress":if(Cd(u)===0)break e;case"keydown":case"keyup":ye=E3;break;case"focusin":st="focus",ye=Pg;break;case"focusout":st="blur",ye=Pg;break;case"beforeblur":case"afterblur":ye=Pg;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Aw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=f3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=A3;break;case Gw:case Yw:case Xw:ye=p3;break;case Kw:ye=R3;break;case"scroll":case"scrollend":ye=c3;break;case"wheel":ye=O3;break;case"copy":case"cut":case"paste":ye=m3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Rw;break;case"toggle":case"beforetoggle":ye=N3}var tt=(l&4)!==0,Ft=!tt&&(o==="scroll"||o==="scrollend"),ue=tt?me!==null?me+"Capture":null:me;tt=[];for(var oe=he,de;oe!==null;){var De=oe;if(de=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||de===null||ue===null||(De=iu(oe,ue),De!=null&&tt.push(Uu(oe,De,de))),Ft)break;oe=oe.return}0<tt.length&&(me=new ye(me,st,null,u,Re),Ie.push({event:me,listeners:tt}))}}if((l&7)===0){e:{if(me=o==="mouseover"||o==="pointerover",ye=o==="mouseout"||o==="pointerout",me&&u!==Dg&&(st=u.relatedTarget||u.fromElement)&&(W(st)||st[Yi]))break e;if((ye||me)&&(me=Re.window===Re?Re:(me=Re.ownerDocument)?me.defaultView||me.parentWindow:window,ye?(st=u.relatedTarget||u.toElement,ye=he,st=st?W(st):null,st!==null&&(Ft=s(st),tt=st.tag,st!==Ft||tt!==5&&tt!==27&&tt!==6)&&(st=null)):(ye=null,st=he),ye!==st)){if(tt=Aw,De="onMouseLeave",ue="onMouseEnter",oe="mouse",(o==="pointerout"||o==="pointerover")&&(tt=Rw,De="onPointerLeave",ue="onPointerEnter",oe="pointer"),Ft=ye==null?me:pe(ye),de=st==null?me:pe(st),me=new tt(De,oe+"leave",ye,u,Re),me.target=Ft,me.relatedTarget=de,De=null,W(Re)===he&&(tt=new tt(ue,oe+"enter",st,u,Re),tt.target=de,tt.relatedTarget=Ft,De=tt),Ft=De,ye&&st)t:{for(tt=ye,ue=st,oe=0,de=tt;de;de=Yl(de))oe++;for(de=0,De=ue;De;De=Yl(De))de++;for(;0<oe-de;)tt=Yl(tt),oe--;for(;0<de-oe;)ue=Yl(ue),de--;for(;oe--;){if(tt===ue||ue!==null&&tt===ue.alternate)break t;tt=Yl(tt),ue=Yl(ue)}tt=null}else tt=null;ye!==null&&vS(Ie,me,ye,tt,!1),st!==null&&Ft!==null&&vS(Ie,Ft,st,tt,!0)}}e:{if(me=he?pe(he):window,ye=me.nodeName&&me.nodeName.toLowerCase(),ye==="select"||ye==="input"&&me.type==="file")var Ge=Pw;else if(Mw(me))if(Lw)Ge=z3;else{Ge=U3;var ft=F3}else ye=me.nodeName,!ye||ye.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?he&&Rg(he.elementType)&&(Ge=Pw):Ge=H3;if(Ge&&(Ge=Ge(o,he))){jw(Ie,Ge,u,Re);break e}ft&&ft(o,me,he),o==="focusout"&&he&&me.type==="number"&&he.memoizedProps.value!=null&&Cg(me,"number",me.value)}switch(ft=he?pe(he):window,o){case"focusin":(Mw(ft)||ft.contentEditable==="true")&&(Sl=ft,zg=he,du=null);break;case"focusout":du=zg=Sl=null;break;case"mousedown":$g=!0;break;case"contextmenu":case"mouseup":case"dragend":$g=!1,qw(Ie,u,Re);break;case"selectionchange":if(V3)break;case"keydown":case"keyup":qw(Ie,u,Re)}var Ke;if(Bg)e:{switch(o){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else El?Nw(o,u)&&(rt="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(rt="onCompositionStart");rt&&(Dw&&u.locale!=="ko"&&(El||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&El&&(Ke=Sw()):(Zs=Re,Ig="value"in Zs?Zs.value:Zs.textContent,El=!0)),ft=mh(he,rt),0<ft.length&&(rt=new Cw(rt,o,null,u,Re),Ie.push({event:rt,listeners:ft}),Ke?rt.data=Ke:(Ke=Iw(u),Ke!==null&&(rt.data=Ke)))),(Ke=M3?j3(o,u):P3(o,u))&&(rt=mh(he,"onBeforeInput"),0<rt.length&&(ft=new Cw("onBeforeInput","beforeinput",null,u,Re),Ie.push({event:ft,listeners:rt}),ft.data=Ke)),Aj(Ie,o,he,u,Re)}gS(Ie,l)})}function Uu(o,l,u){return{instance:o,listener:l,currentTarget:u}}function mh(o,l){for(var u=l+"Capture",p=[];o!==null;){var y=o,E=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||E===null||(y=iu(o,u),y!=null&&p.unshift(Uu(o,y,E)),y=iu(o,l),y!=null&&p.push(Uu(o,y,E))),o.tag===3)return p;o=o.return}return[]}function Yl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function vS(o,l,u,p,y){for(var E=l._reactName,R=[];u!==null&&u!==p;){var M=u,Z=M.alternate,he=M.stateNode;if(M=M.tag,Z!==null&&Z===p)break;M!==5&&M!==26&&M!==27||he===null||(Z=he,y?(he=iu(u,E),he!=null&&R.unshift(Uu(u,he,Z))):y||(he=iu(u,E),he!=null&&R.push(Uu(u,he,Z)))),u=u.return}R.length!==0&&o.push({event:l,listeners:R})}var Oj=/\r\n?/g,kj=/\u0000|\uFFFD/g;function yS(o){return(typeof o=="string"?o:""+o).replace(Oj,`
`).replace(kj,"")}function xS(o,l){return l=yS(l),yS(o)===l}function vh(){}function Bt(o,l,u,p,y,E){switch(u){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||_l(o,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&_l(o,""+p);break;case"className":Ct(o,"class",p);break;case"tabIndex":Ct(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ct(o,u,p);break;case"style":ww(o,p,E);break;case"data":if(l!=="object"){Ct(o,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||u!=="href")){o.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(u);break}p=Td(""+p),o.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(u==="formAction"?(l!=="input"&&Bt(o,l,"name",y.name,y,null),Bt(o,l,"formEncType",y.formEncType,y,null),Bt(o,l,"formMethod",y.formMethod,y,null),Bt(o,l,"formTarget",y.formTarget,y,null)):(Bt(o,l,"encType",y.encType,y,null),Bt(o,l,"method",y.method,y,null),Bt(o,l,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(u);break}p=Td(""+p),o.setAttribute(u,p);break;case"onClick":p!=null&&(o.onclick=vh);break;case"onScroll":p!=null&&gt("scroll",o);break;case"onScrollEnd":p!=null&&gt("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}u=Td(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(u,""+p):o.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(u,""):o.removeAttribute(u);break;case"capture":case"download":p===!0?o.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(u,p):o.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(u,p):o.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(u):o.setAttribute(u,p);break;case"popover":gt("beforetoggle",o),gt("toggle",o),At(o,"popover",p);break;case"xlinkActuate":Pt(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Pt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Pt(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Pt(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Pt(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Pt(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Pt(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Pt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Pt(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":At(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=o3.get(u)||u,At(o,u,p))}}function dv(o,l,u,p,y,E){switch(u){case"style":ww(o,p,E);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"children":typeof p=="string"?_l(o,p):(typeof p=="number"||typeof p=="bigint")&&_l(o,""+p);break;case"onScroll":p!=null&&gt("scroll",o);break;case"onScrollEnd":p!=null&&gt("scrollend",o);break;case"onClick":p!=null&&(o.onclick=vh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ve.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),l=u.slice(2,y?u.length-7:void 0),E=o[yn]||null,E=E!=null?E[u]:null,typeof E=="function"&&o.removeEventListener(l,E,y),typeof p=="function")){typeof E!="function"&&E!==null&&(u in o?o[u]=null:o.hasAttribute(u)&&o.removeAttribute(u)),o.addEventListener(l,p,y);break e}u in o?o[u]=p:p===!0?o.setAttribute(u,""):At(o,u,p)}}}function Gn(o,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",o),gt("load",o);var p=!1,y=!1,E;for(E in u)if(u.hasOwnProperty(E)){var R=u[E];if(R!=null)switch(E){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Bt(o,l,E,R,u,null)}}y&&Bt(o,l,"srcSet",u.srcSet,u,null),p&&Bt(o,l,"src",u.src,u,null);return;case"input":gt("invalid",o);var M=E=R=y=null,Z=null,he=null;for(p in u)if(u.hasOwnProperty(p)){var Re=u[p];if(Re!=null)switch(p){case"name":y=Re;break;case"type":R=Re;break;case"checked":Z=Re;break;case"defaultChecked":he=Re;break;case"value":E=Re;break;case"defaultValue":M=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(137,l));break;default:Bt(o,l,p,Re,u,null)}}vw(o,E,M,Z,he,R,y,!1),Ed(o);return;case"select":gt("invalid",o),p=R=E=null;for(y in u)if(u.hasOwnProperty(y)&&(M=u[y],M!=null))switch(y){case"value":E=M;break;case"defaultValue":R=M;break;case"multiple":p=M;default:Bt(o,l,y,M,u,null)}l=E,u=R,o.multiple=!!p,l!=null?xl(o,!!p,l,!1):u!=null&&xl(o,!!p,u,!0);return;case"textarea":gt("invalid",o),E=y=p=null;for(R in u)if(u.hasOwnProperty(R)&&(M=u[R],M!=null))switch(R){case"value":p=M;break;case"defaultValue":y=M;break;case"children":E=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:Bt(o,l,R,M,u,null)}xw(o,p,y,E),Ed(o);return;case"option":for(Z in u)if(u.hasOwnProperty(Z)&&(p=u[Z],p!=null))switch(Z){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Bt(o,l,Z,p,u,null)}return;case"dialog":gt("beforetoggle",o),gt("toggle",o),gt("cancel",o),gt("close",o);break;case"iframe":case"object":gt("load",o);break;case"video":case"audio":for(p=0;p<Fu.length;p++)gt(Fu[p],o);break;case"image":gt("error",o),gt("load",o);break;case"details":gt("toggle",o);break;case"embed":case"source":case"link":gt("error",o),gt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in u)if(u.hasOwnProperty(he)&&(p=u[he],p!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Bt(o,l,he,p,u,null)}return;default:if(Rg(l)){for(Re in u)u.hasOwnProperty(Re)&&(p=u[Re],p!==void 0&&dv(o,l,Re,p,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(p=u[M],p!=null&&Bt(o,l,M,p,u,null))}function Nj(o,l,u,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,E=null,R=null,M=null,Z=null,he=null,Re=null;for(ye in u){var Ie=u[ye];if(u.hasOwnProperty(ye)&&Ie!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":Z=Ie;default:p.hasOwnProperty(ye)||Bt(o,l,ye,null,p,Ie)}}for(var me in p){var ye=p[me];if(Ie=u[me],p.hasOwnProperty(me)&&(ye!=null||Ie!=null))switch(me){case"type":E=ye;break;case"name":y=ye;break;case"checked":he=ye;break;case"defaultChecked":Re=ye;break;case"value":R=ye;break;case"defaultValue":M=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,l));break;default:ye!==Ie&&Bt(o,l,me,ye,p,Ie)}}Ag(o,R,M,Z,he,Re,E,y);return;case"select":ye=R=M=me=null;for(E in u)if(Z=u[E],u.hasOwnProperty(E)&&Z!=null)switch(E){case"value":break;case"multiple":ye=Z;default:p.hasOwnProperty(E)||Bt(o,l,E,null,p,Z)}for(y in p)if(E=p[y],Z=u[y],p.hasOwnProperty(y)&&(E!=null||Z!=null))switch(y){case"value":me=E;break;case"defaultValue":M=E;break;case"multiple":R=E;default:E!==Z&&Bt(o,l,y,E,p,Z)}l=M,u=R,p=ye,me!=null?xl(o,!!u,me,!1):!!p!=!!u&&(l!=null?xl(o,!!u,l,!0):xl(o,!!u,u?[]:"",!1));return;case"textarea":ye=me=null;for(M in u)if(y=u[M],u.hasOwnProperty(M)&&y!=null&&!p.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Bt(o,l,M,null,p,y)}for(R in p)if(y=p[R],E=u[R],p.hasOwnProperty(R)&&(y!=null||E!=null))switch(R){case"value":me=y;break;case"defaultValue":ye=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==E&&Bt(o,l,R,y,p,E)}yw(o,me,ye);return;case"option":for(var st in u)if(me=u[st],u.hasOwnProperty(st)&&me!=null&&!p.hasOwnProperty(st))switch(st){case"selected":o.selected=!1;break;default:Bt(o,l,st,null,p,me)}for(Z in p)if(me=p[Z],ye=u[Z],p.hasOwnProperty(Z)&&me!==ye&&(me!=null||ye!=null))switch(Z){case"selected":o.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:Bt(o,l,Z,me,p,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in u)me=u[tt],u.hasOwnProperty(tt)&&me!=null&&!p.hasOwnProperty(tt)&&Bt(o,l,tt,null,p,me);for(he in p)if(me=p[he],ye=u[he],p.hasOwnProperty(he)&&me!==ye&&(me!=null||ye!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,l));break;default:Bt(o,l,he,me,p,ye)}return;default:if(Rg(l)){for(var Ft in u)me=u[Ft],u.hasOwnProperty(Ft)&&me!==void 0&&!p.hasOwnProperty(Ft)&&dv(o,l,Ft,void 0,p,me);for(Re in p)me=p[Re],ye=u[Re],!p.hasOwnProperty(Re)||me===ye||me===void 0&&ye===void 0||dv(o,l,Re,me,p,ye);return}}for(var ue in u)me=u[ue],u.hasOwnProperty(ue)&&me!=null&&!p.hasOwnProperty(ue)&&Bt(o,l,ue,null,p,me);for(Ie in p)me=p[Ie],ye=u[Ie],!p.hasOwnProperty(Ie)||me===ye||me==null&&ye==null||Bt(o,l,Ie,me,p,ye)}var hv=null,pv=null;function yh(o){return o.nodeType===9?o:o.ownerDocument}function _S(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wS(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function gv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var mv=null;function Ij(){var o=window.event;return o&&o.type==="popstate"?o===mv?!1:(mv=o,!0):(mv=null,!1)}var bS=typeof setTimeout=="function"?setTimeout:void 0,Mj=typeof clearTimeout=="function"?clearTimeout:void 0,ES=typeof Promise=="function"?Promise:void 0,jj=typeof queueMicrotask=="function"?queueMicrotask:typeof ES<"u"?function(o){return ES.resolve(null).then(o).catch(Pj)}:bS;function Pj(o){setTimeout(function(){throw o})}function pa(o){return o==="head"}function SS(o,l){var u=l,p=0,y=0;do{var E=u.nextSibling;if(o.removeChild(u),E&&E.nodeType===8)if(u=E.data,u==="/$"){if(0<p&&8>p){u=p;var R=o.ownerDocument;if(u&1&&Hu(R.documentElement),u&2&&Hu(R.body),u&4)for(u=R.head,Hu(u),R=u.firstChild;R;){var M=R.nextSibling,Z=R.nodeName;R[U]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&R.rel.toLowerCase()==="stylesheet"||u.removeChild(R),R=M}}if(y===0){o.removeChild(E),Xu(l);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:p=u.charCodeAt(0)-48;else p=0;u=E}while(u);Xu(l)}function vv(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":vv(u),H(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}o.removeChild(u)}}function Lj(o,l,u,p){for(;o.nodeType===1;){var y=u;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[U])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(E=o.getAttribute("rel"),E==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(E!==y.rel||o.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||o.getAttribute("title")!==(y.title==null?null:y.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(E=o.getAttribute("src"),(E!==(y.src==null?null:y.src)||o.getAttribute("type")!==(y.type==null?null:y.type)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&E&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var E=y.name==null?null:""+y.name;if(y.type==="hidden"&&o.getAttribute("name")===E)return o}else return o;if(o=Ri(o.nextSibling),o===null)break}return null}function Bj(o,l,u){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Ri(o.nextSibling),o===null))return null;return o}function yv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function Fj(o,l){var u=o.ownerDocument;if(o.data!=="$?"||u.readyState==="complete")l();else{var p=function(){l(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function Ri(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var xv=null;function TS(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return o;l--}else u==="/$"&&l++}o=o.previousSibling}return null}function AS(o,l,u){switch(l=yh(u),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Hu(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);H(o)}var gi=new Map,CS=new Set;function xh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Os=re.d;re.d={f:Uj,r:Hj,D:zj,C:$j,L:Vj,m:qj,X:Gj,S:Wj,M:Yj};function Uj(){var o=Os.f(),l=uh();return o||l}function Hj(o){var l=Y(o);l!==null&&l.tag===5&&l.type==="form"?Gb(l):Os.r(o)}var Xl=typeof document>"u"?null:document;function RS(o,l,u){var p=Xl;if(p&&typeof l=="string"&&l){var y=li(l);y='link[rel="'+o+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),CS.has(y)||(CS.add(y),o={rel:o,crossOrigin:u,href:l},p.querySelector(y)===null&&(l=p.createElement("link"),Gn(l,"link",o),fe(l),p.head.appendChild(l)))}}function zj(o){Os.D(o),RS("dns-prefetch",o,null)}function $j(o,l){Os.C(o,l),RS("preconnect",o,l)}function Vj(o,l,u){Os.L(o,l,u);var p=Xl;if(p&&o&&l){var y='link[rel="preload"][as="'+li(l)+'"]';l==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+li(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+li(u.imageSizes)+'"]')):y+='[href="'+li(o)+'"]';var E=y;switch(l){case"style":E=Kl(o);break;case"script":E=Ql(o)}gi.has(E)||(o=h({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:o,as:l},u),gi.set(E,o),p.querySelector(y)!==null||l==="style"&&p.querySelector(zu(E))||l==="script"&&p.querySelector($u(E))||(l=p.createElement("link"),Gn(l,"link",o),fe(l),p.head.appendChild(l)))}}function qj(o,l){Os.m(o,l);var u=Xl;if(u&&o){var p=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+li(p)+'"][href="'+li(o)+'"]',E=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Ql(o)}if(!gi.has(E)&&(o=h({rel:"modulepreload",href:o},l),gi.set(E,o),u.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector($u(E)))return}p=u.createElement("link"),Gn(p,"link",o),fe(p),u.head.appendChild(p)}}}function Wj(o,l,u){Os.S(o,l,u);var p=Xl;if(p&&o){var y=Ee(p).hoistableStyles,E=Kl(o);l=l||"default";var R=y.get(E);if(!R){var M={loading:0,preload:null};if(R=p.querySelector(zu(E)))M.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":l},u),(u=gi.get(E))&&_v(o,u);var Z=R=p.createElement("link");fe(Z),Gn(Z,"link",o),Z._p=new Promise(function(he,Re){Z.onload=he,Z.onerror=Re}),Z.addEventListener("load",function(){M.loading|=1}),Z.addEventListener("error",function(){M.loading|=2}),M.loading|=4,_h(R,l,p)}R={type:"stylesheet",instance:R,count:1,state:M},y.set(E,R)}}}function Gj(o,l){Os.X(o,l);var u=Xl;if(u&&o){var p=Ee(u).hoistableScripts,y=Ql(o),E=p.get(y);E||(E=u.querySelector($u(y)),E||(o=h({src:o,async:!0},l),(l=gi.get(y))&&wv(o,l),E=u.createElement("script"),fe(E),Gn(E,"link",o),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(y,E))}}function Yj(o,l){Os.M(o,l);var u=Xl;if(u&&o){var p=Ee(u).hoistableScripts,y=Ql(o),E=p.get(y);E||(E=u.querySelector($u(y)),E||(o=h({src:o,async:!0,type:"module"},l),(l=gi.get(y))&&wv(o,l),E=u.createElement("script"),fe(E),Gn(E,"link",o),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(y,E))}}function DS(o,l,u,p){var y=(y=se.current)?xh(y):null;if(!y)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Kl(u.href),u=Ee(y).hoistableStyles,p=u.get(l),p||(p={type:"style",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){o=Kl(u.href);var E=Ee(y).hoistableStyles,R=E.get(o);if(R||(y=y.ownerDocument||y,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(o,R),(E=y.querySelector(zu(o)))&&!E._p&&(R.instance=E,R.state.loading=5),gi.has(o)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},gi.set(o,u),E||Xj(y,o,u,R.state))),l&&p===null)throw Error(r(528,""));return R}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ql(u),u=Ee(y).hoistableScripts,p=u.get(l),p||(p={type:"script",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Kl(o){return'href="'+li(o)+'"'}function zu(o){return'link[rel="stylesheet"]['+o+"]"}function OS(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function Xj(o,l,u,p){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=o.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Gn(l,"link",u),fe(l),o.head.appendChild(l))}function Ql(o){return'[src="'+li(o)+'"]'}function $u(o){return"script[async]"+o}function kS(o,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var p=o.querySelector('style[data-href~="'+li(u.href)+'"]');if(p)return l.instance=p,fe(p),p;var y=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),fe(p),Gn(p,"style",y),_h(p,u.precedence,o),l.instance=p;case"stylesheet":y=Kl(u.href);var E=o.querySelector(zu(y));if(E)return l.state.loading|=4,l.instance=E,fe(E),E;p=OS(u),(y=gi.get(y))&&_v(p,y),E=(o.ownerDocument||o).createElement("link"),fe(E);var R=E;return R._p=new Promise(function(M,Z){R.onload=M,R.onerror=Z}),Gn(E,"link",p),l.state.loading|=4,_h(E,u.precedence,o),l.instance=E;case"script":return E=Ql(u.src),(y=o.querySelector($u(E)))?(l.instance=y,fe(y),y):(p=u,(y=gi.get(E))&&(p=h({},u),wv(p,y)),o=o.ownerDocument||o,y=o.createElement("script"),fe(y),Gn(y,"link",p),o.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,_h(p,u.precedence,o));return l.instance}function _h(o,l,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,E=y,R=0;R<p.length;R++){var M=p[R];if(M.dataset.precedence===l)E=M;else if(E!==y)break}E?E.parentNode.insertBefore(o,E.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(o,l.firstChild))}function _v(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function wv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var wh=null;function NS(o,l,u){if(wh===null){var p=new Map,y=wh=new Map;y.set(u,p)}else y=wh,p=y.get(u),p||(p=new Map,y.set(u,p));if(p.has(o))return p;for(p.set(o,null),u=u.getElementsByTagName(o),y=0;y<u.length;y++){var E=u[y];if(!(E[U]||E[vn]||o==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var R=E.getAttribute(l)||"";R=o+R;var M=p.get(R);M?M.push(E):p.set(R,[E])}}return p}function IS(o,l,u){o=o.ownerDocument||o,o.head.insertBefore(u,l==="title"?o.querySelector("head > title"):null)}function Kj(o,l,u){if(u===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function MS(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Vu=null;function Qj(){}function Zj(o,l,u){if(Vu===null)throw Error(r(475));var p=Vu;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Kl(u.href),E=o.querySelector(zu(y));if(E){o=E._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(p.count++,p=bh.bind(p),o.then(p,p)),l.state.loading|=4,l.instance=E,fe(E);return}E=o.ownerDocument||o,u=OS(u),(y=gi.get(y))&&_v(u,y),E=E.createElement("link"),fe(E);var R=E;R._p=new Promise(function(M,Z){R.onload=M,R.onerror=Z}),Gn(E,"link",u),l.instance=E}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=bh.bind(p),o.addEventListener("load",l),o.addEventListener("error",l))}}function Jj(){if(Vu===null)throw Error(r(475));var o=Vu;return o.stylesheets&&o.count===0&&bv(o,o.stylesheets),0<o.count?function(l){var u=setTimeout(function(){if(o.stylesheets&&bv(o,o.stylesheets),o.unsuspend){var p=o.unsuspend;o.unsuspend=null,p()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(u)}}:null}function bh(){if(this.count--,this.count===0){if(this.stylesheets)bv(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Eh=null;function bv(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Eh=new Map,l.forEach(eP,o),Eh=null,bh.call(o))}function eP(o,l){if(!(l.state.loading&4)){var u=Eh.get(o);if(u)var p=u.get(null);else{u=new Map,Eh.set(o,u);for(var y=o.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<y.length;E++){var R=y[E];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),p=R)}p&&u.set(null,p)}y=l.instance,R=y.getAttribute("data-precedence"),E=u.get(R)||p,E===p&&u.set(null,y),u.set(R,y),this.count++,p=bh.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),E?E.parentNode.insertBefore(y,E.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(y,o.firstChild)),l.state.loading|=4}}var qu={$$typeof:A,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function tP(o,l,u,p,y,E,R,M){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ms(0),this.hiddenUpdates=ms(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=E,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function jS(o,l,u,p,y,E,R,M,Z,he,Re,Ie){return o=new tP(o,l,u,R,M,Z,he,Ie),l=1,E===!0&&(l|=24),E=Hr(3,null,null,l),o.current=E,E.stateNode=o,l=rm(),l.refCount++,o.pooledCache=l,l.refCount++,E.memoizedState={element:p,isDehydrated:u,cache:l},om(E),o}function PS(o){return o?(o=Rl,o):Rl}function LS(o,l,u,p,y,E){y=PS(y),p.context===null?p.context=y:p.pendingContext=y,p=ta(l),p.payload={element:u},E=E===void 0?null:E,E!==null&&(p.callback=E),u=na(o,p,l),u!==null&&(Wr(u,o,l),wu(u,o,l))}function BS(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<l?u:l}}function Ev(o,l){BS(o,l),(o=o.alternate)&&BS(o,l)}function FS(o){if(o.tag===13){var l=Cl(o,67108864);l!==null&&Wr(l,o,67108864),Ev(o,67108864)}}var Sh=!0;function nP(o,l,u,p){var y=B.T;B.T=null;var E=re.p;try{re.p=2,Sv(o,l,u,p)}finally{re.p=E,B.T=y}}function rP(o,l,u,p){var y=B.T;B.T=null;var E=re.p;try{re.p=8,Sv(o,l,u,p)}finally{re.p=E,B.T=y}}function Sv(o,l,u,p){if(Sh){var y=Tv(p);if(y===null)fv(o,l,p,Th,u),HS(o,p);else if(sP(y,o,l,u,p))p.stopPropagation();else if(HS(o,p),l&4&&-1<iP.indexOf(o)){for(;y!==null;){var E=Y(y);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var R=In(E.pendingLanes);if(R!==0){var M=E;for(M.pendingLanes|=2,M.entangledLanes|=2;R;){var Z=1<<31-sn(R);M.entanglements[1]|=Z,R&=~Z}es(E),(Ot&6)===0&&(lh=Oe()+500,Bu(0))}}break;case 13:M=Cl(E,2),M!==null&&Wr(M,E,2),uh(),Ev(E,2)}if(E=Tv(p),E===null&&fv(o,l,p,Th,u),E===y)break;y=E}y!==null&&p.stopPropagation()}else fv(o,l,p,null,u)}}function Tv(o){return o=Og(o),Av(o)}var Th=null;function Av(o){if(Th=null,o=W(o),o!==null){var l=s(o);if(l===null)o=null;else{var u=l.tag;if(u===13){if(o=a(l),o!==null)return o;o=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Th=o,null}function US(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case Dt:return 2;case Nn:return 8;case $n:case bi:return 32;case Lr:return 268435456;default:return 32}default:return 32}}var Cv=!1,ga=null,ma=null,va=null,Wu=new Map,Gu=new Map,ya=[],iP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HS(o,l){switch(o){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Wu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(l.pointerId)}}function Yu(o,l,u,p,y,E){return o===null||o.nativeEvent!==E?(o={blockedOn:l,domEventName:u,eventSystemFlags:p,nativeEvent:E,targetContainers:[y]},l!==null&&(l=Y(l),l!==null&&FS(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function sP(o,l,u,p,y){switch(l){case"focusin":return ga=Yu(ga,o,l,u,p,y),!0;case"dragenter":return ma=Yu(ma,o,l,u,p,y),!0;case"mouseover":return va=Yu(va,o,l,u,p,y),!0;case"pointerover":var E=y.pointerId;return Wu.set(E,Yu(Wu.get(E)||null,o,l,u,p,y)),!0;case"gotpointercapture":return E=y.pointerId,Gu.set(E,Yu(Gu.get(E)||null,o,l,u,p,y)),!0}return!1}function zS(o){var l=W(o.target);if(l!==null){var u=s(l);if(u!==null){if(l=u.tag,l===13){if(l=a(u),l!==null){o.blockedOn=l,nu(o.priority,function(){if(u.tag===13){var p=qr();p=eo(p);var y=Cl(u,p);y!==null&&Wr(y,u,p),Ev(u,p)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ah(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var u=Tv(o.nativeEvent);if(u===null){u=o.nativeEvent;var p=new u.constructor(u.type,u);Dg=p,u.target.dispatchEvent(p),Dg=null}else return l=Y(u),l!==null&&FS(l),o.blockedOn=u,!1;l.shift()}return!0}function $S(o,l,u){Ah(o)&&u.delete(l)}function aP(){Cv=!1,ga!==null&&Ah(ga)&&(ga=null),ma!==null&&Ah(ma)&&(ma=null),va!==null&&Ah(va)&&(va=null),Wu.forEach($S),Gu.forEach($S)}function Ch(o,l){o.blockedOn===l&&(o.blockedOn=null,Cv||(Cv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aP)))}var Rh=null;function VS(o){Rh!==o&&(Rh=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rh===o&&(Rh=null);for(var l=0;l<o.length;l+=3){var u=o[l],p=o[l+1],y=o[l+2];if(typeof p!="function"){if(Av(p||u)===null)continue;break}var E=Y(u);E!==null&&(o.splice(l,3),l-=3,Am(E,{pending:!0,data:y,method:u.method,action:p},p,y))}}))}function Xu(o){function l(Z){return Ch(Z,o)}ga!==null&&Ch(ga,o),ma!==null&&Ch(ma,o),va!==null&&Ch(va,o),Wu.forEach(l),Gu.forEach(l);for(var u=0;u<ya.length;u++){var p=ya[u];p.blockedOn===o&&(p.blockedOn=null)}for(;0<ya.length&&(u=ya[0],u.blockedOn===null);)zS(u),u.blockedOn===null&&ya.shift();if(u=(o.ownerDocument||o).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var y=u[p],E=u[p+1],R=y[yn]||null;if(typeof E=="function")R||VS(u);else if(R){var M=null;if(E&&E.hasAttribute("formAction")){if(y=E,R=E[yn]||null)M=R.formAction;else if(Av(y)!==null)continue}else M=R.action;typeof M=="function"?u[p+1]=M:(u.splice(p,3),p-=3),VS(u)}}}function Rv(o){this._internalRoot=o}Dh.prototype.render=Rv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,p=qr();LS(u,p,o,l,null,null)},Dh.prototype.unmount=Rv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;LS(o.current,2,null,o,null,null),uh(),l[Yi]=null}};function Dh(o){this._internalRoot=o}Dh.prototype.unstable_scheduleHydration=function(o){if(o){var l=yl();o={blockedOn:null,target:o,priority:l};for(var u=0;u<ya.length&&l!==0&&l<ya[u].priority;u++);ya.splice(u,0,o),u===0&&zS(o)}};var qS=e.version;if(qS!=="19.1.0")throw Error(r(527,qS,"19.1.0"));re.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var oP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{Vn=Oh.inject(oP),Gt=Oh}catch{}}return Qu.createRoot=function(o,l){if(!i(o))throw Error(r(299));var u=!1,p="",y=oE,E=lE,R=cE,M=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(M=l.unstable_transitionCallbacks)),l=jS(o,1,!1,null,null,u,p,y,E,R,M,null),o[Yi]=l.current,uv(o),new Rv(l)},Qu.hydrateRoot=function(o,l,u){if(!i(o))throw Error(r(299));var p=!1,y="",E=oE,R=lE,M=cE,Z=null,he=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Z=u.unstable_transitionCallbacks),u.formState!==void 0&&(he=u.formState)),l=jS(o,1,!0,l,u??null,p,y,E,R,M,Z,he),l.context=PS(null),u=l.current,p=qr(),p=eo(p),y=ta(p),y.callback=null,na(u,y,p),u=p,l.current.lanes=u,Gi(l,u),es(l),o[Yi]=l.current,uv(o),new Dh(l)},Qu.version="19.1.0",Qu}var aT;function WP(){if(aT)return Nv.exports;aT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nv.exports=qP(),Nv.exports}var GP=WP();const YP=Hp(GP);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}var Oa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oa||(Oa={}));const oT="popstate";function XP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return e1("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:PR(i)}return QP(e,n,null,t)}function Tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KP(){return Math.random().toString(36).substr(2,8)}function lT(t,e){return{usr:t.state,key:t.key,idx:e}}function e1(t,e,n,r){return n===void 0&&(n=null),Of({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hc(e):e,{state:n,key:e&&e.key||r||KP()})}function PR(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function QP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c=Oa.Pop,f=null,d=h();d==null&&(d=0,a.replaceState(Of({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function g(){c=Oa.Pop;let b=h(),S=b==null?null:b-d;d=b,f&&f({action:c,location:x.location,delta:S})}function m(b,S){c=Oa.Push;let T=e1(x.location,b,S);d=h()+1;let A=lT(T,d),C=x.createHref(T);try{a.pushState(A,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(C)}s&&f&&f({action:c,location:x.location,delta:1})}function v(b,S){c=Oa.Replace;let T=e1(x.location,b,S);d=h();let A=lT(T,d),C=x.createHref(T);a.replaceState(A,"",C),s&&f&&f({action:c,location:x.location,delta:0})}function w(b){let S=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof b=="string"?b:PR(b);return T=T.replace(/ $/,"%20"),Tn(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let x={get action(){return c},get location(){return t(i,a)},listen(b){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(oT,g),f=b,()=>{i.removeEventListener(oT,g),f=null}},createHref(b){return e(i,b)},createURL:w,encodeLocation(b){let S=w(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:v,go(b){return a.go(b)}};return x}var cT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cT||(cT={}));function ZP(t,e,n){return n===void 0&&(n="/"),JP(t,e,n)}function JP(t,e,n,r){let i=typeof e=="string"?Hc(e):e,s=FR(i.pathname||"/",n);if(s==null)return null;let a=LR(t);eL(a);let c=null;for(let f=0;c==null&&f<a.length;++f){let d=dL(s);c=cL(a[f],d)}return c}function LR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};f.relativePath.startsWith("/")&&(Tn(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let d=Uo([r,f.relativePath]),h=n.concat(f);s.children&&s.children.length>0&&(Tn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),LR(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:oL(d,s.index),routesMeta:h})};return t.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,a);else for(let f of BR(s.path))i(s,a,f)}),e}function BR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=BR(r.join("/")),c=[];return c.push(...a.map(f=>f===""?s:[s,f].join("/"))),i&&c.push(...a),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function eL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tL=/^:[\w-]+$/,nL=3,rL=2,iL=1,sL=10,aL=-2,uT=t=>t==="*";function oL(t,e){let n=t.split("/"),r=n.length;return n.some(uT)&&(r+=aL),e&&(r+=rL),n.filter(i=>!uT(i)).reduce((i,s)=>i+(tL.test(s)?nL:s===""?iL:sL),r)}function lL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function cL(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",g=uL({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},h),m=f.route;if(!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:Uo([s,g.pathname]),pathnameBase:mL(Uo([s,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(s=Uo([s,g.pathnameBase]))}return a}function uL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,h,g)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let x=c[g]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const w=c[g];return v&&!w?d[m]=void 0:d[m]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function fL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function FR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function hL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Hc(t):t;return{pathname:n?n.startsWith("/")?n:pL(n,e):e,search:vL(r),hash:yL(i)}}function pL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function UR(t,e){let n=gL(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function HR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Hc(t):(i=Of({},t),Tn(!i.pathname||!i.pathname.includes("?"),jv("?","pathname","search",i)),Tn(!i.pathname||!i.pathname.includes("#"),jv("#","pathname","hash",i)),Tn(!i.search||!i.search.includes("#"),jv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),g-=1;i.pathname=m.join("/")}c=g>=0?e[g]:"/"}let f=hL(i,c),d=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||h)&&(f.pathname+="/"),f}const Uo=t=>t.join("/").replace(/\/\/+/g,"/"),mL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zR=["post","put","patch","delete"];new Set(zR);const _L=["get",...zR];new Set(_L);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kf(){return kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kf.apply(this,arguments)}const xx=k.createContext(null),wL=k.createContext(null),rd=k.createContext(null),$p=k.createContext(null),Xa=k.createContext({outlet:null,matches:[],isDataRoute:!1}),$R=k.createContext(null);function id(){return k.useContext($p)!=null}function zc(){return id()||Tn(!1),k.useContext($p).location}function VR(t){k.useContext(rd).static||k.useLayoutEffect(t)}function $c(){let{isDataRoute:t}=k.useContext(Xa);return t?ML():bL()}function bL(){id()||Tn(!1);let t=k.useContext(xx),{basename:e,future:n,navigator:r}=k.useContext(rd),{matches:i}=k.useContext(Xa),{pathname:s}=zc(),a=JSON.stringify(UR(i,n.v7_relativeSplatPath)),c=k.useRef(!1);return VR(()=>{c.current=!0}),k.useCallback(function(d,h){if(h===void 0&&(h={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let g=HR(d,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Uo([e,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[e,r,a,s,t])}function wce(){let{matches:t}=k.useContext(Xa),e=t[t.length-1];return e?e.params:{}}function EL(t,e){return SL(t,e)}function SL(t,e,n,r){id()||Tn(!1);let{navigator:i,static:s}=k.useContext(rd),{matches:a}=k.useContext(Xa),c=a[a.length-1],f=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let h=zc(),g;if(e){var m;let S=typeof e=="string"?Hc(e):e;d==="/"||(m=S.pathname)!=null&&m.startsWith(d)||Tn(!1),g=S}else g=h;let v=g.pathname||"/",w=v;if(d!=="/"){let S=d.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=ZP(t,{pathname:w}),b=DL(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:Uo([d,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:Uo([d,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r);return e&&b?k.createElement($p.Provider,{value:{location:kf({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Oa.Pop}},b):b}function TL(){let t=IL(),e=xL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const AL=k.createElement(TL,null);class CL extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Xa.Provider,{value:this.props.routeContext},k.createElement($R.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RL(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(xx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Xa.Provider,{value:e},r)}function DL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let h=a.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);h>=0||Tn(!1),a=a.slice(0,Math.min(a.length,h+1))}let f=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let g=a[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=h),g.route.id){let{loaderData:m,errors:v}=n,w=g.route.loader&&m[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||w){f=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,g,m)=>{let v,w=!1,x=null,b=null;n&&(v=c&&g.route.id?c[g.route.id]:void 0,x=g.route.errorElement||AL,f&&(d<0&&m===0?(jL("route-fallback"),w=!0,b=null):d===m&&(w=!0,b=g.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,m+1)),T=()=>{let A;return v?A=x:w?A=b:g.route.Component?A=k.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=h,k.createElement(RL,{match:g,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?k.createElement(CL,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}var qR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qR||{}),WR=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(WR||{});function OL(t){let e=k.useContext(xx);return e||Tn(!1),e}function kL(t){let e=k.useContext(wL);return e||Tn(!1),e}function NL(t){let e=k.useContext(Xa);return e||Tn(!1),e}function GR(t){let e=NL(),n=e.matches[e.matches.length-1];return n.route.id||Tn(!1),n.route.id}function IL(){var t;let e=k.useContext($R),n=kL(),r=GR();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ML(){let{router:t}=OL(qR.UseNavigateStable),e=GR(WR.UseNavigateStable),n=k.useRef(!1);return VR(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,kf({fromRouteId:e},s)))},[t,e])}const fT={};function jL(t,e,n){fT[t]||(fT[t]=!0)}function PL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function H0(t){let{to:e,replace:n,state:r,relative:i}=t;id()||Tn(!1);let{future:s,static:a}=k.useContext(rd),{matches:c}=k.useContext(Xa),{pathname:f}=zc(),d=$c(),h=HR(e,UR(c,s.v7_relativeSplatPath),f,i==="path"),g=JSON.stringify(h);return k.useEffect(()=>d(JSON.parse(g),{replace:n,state:r,relative:i}),[d,g,i,n,r]),null}function cf(t){Tn(!1)}function LL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Oa.Pop,navigator:s,static:a=!1,future:c}=t;id()&&Tn(!1);let f=e.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:f,navigator:s,static:a,future:kf({v7_relativeSplatPath:!1},c)}),[f,c,s,a]);typeof r=="string"&&(r=Hc(r));let{pathname:h="/",search:g="",hash:m="",state:v=null,key:w="default"}=r,x=k.useMemo(()=>{let b=FR(h,f);return b==null?null:{location:{pathname:b,search:g,hash:m,state:v,key:w},navigationType:i}},[f,h,g,m,v,w,i]);return x==null?null:k.createElement(rd.Provider,{value:d},k.createElement($p.Provider,{children:n,value:x}))}function dT(t){let{children:e,location:n}=t;return EL(t1(e),n)}new Promise(()=>{});function t1(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){n.push.apply(n,t1(r.props.children,s));return}r.type!==cf&&Tn(!1),!r.props.index||!r.props.children||Tn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=t1(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const BL="6";try{window.__reactRouterVersion=BL}catch{}const FL="startTransition",hT=cP[FL];function UL(t){let{basename:e,children:n,future:r,window:i}=t,s=k.useRef();s.current==null&&(s.current=XP({window:i,v5Compat:!0}));let a=s.current,[c,f]=k.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},h=k.useCallback(g=>{d&&hT?hT(()=>f(g)):f(g)},[f,d]);return k.useLayoutEffect(()=>a.listen(h),[a,h]),k.useEffect(()=>PL(r),[r]),k.createElement(LL,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}var pT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pT||(pT={}));var gT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gT||(gT={}));const HL="modulepreload",zL=function(t){return"/"+t},mT={},Ht=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=a(n.map(d=>{if(d=zL(d),d in mT)return;mT[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":HL,h||(m.as="script"),m.crossOrigin="",m.href=d,f&&m.setAttribute("nonce",f),document.head.appendChild(m),h)return new Promise((v,w)=>{m.addEventListener("load",v),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return i.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},dt=({allowedRoles:t=[],children:e})=>{let n;try{n=JSON.parse(localStorage.getItem("user"))}catch(i){return console.error("Invalid user object in localStorage",i),_.jsx(H0,{to:"/login",replace:!0})}if(!n||!n.role)return _.jsx(H0,{to:"/login",replace:!0});const r=n.role;return t.includes(r)?e:null};let $L={data:""},VL=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||$L,qL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,WL=/\/\*[^]*?\*\/|  +/g,vT=/\n+/g,Aa=(t,e)=>{let n="",r="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":r+=s[1]=="f"?Aa(a,s):s+"{"+Aa(a,s[1]=="k"?"":e)+"}":typeof a=="object"?r+=Aa(a,e?e.replace(/([^,])+/g,c=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Aa.p?Aa.p(s,a):s+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ks={},YR=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+YR(t[n]);return e}return t},GL=(t,e,n,r,i)=>{let s=YR(t),a=ks[s]||(ks[s]=(f=>{let d=0,h=11;for(;d<f.length;)h=101*h+f.charCodeAt(d++)>>>0;return"go"+h})(s));if(!ks[a]){let f=s!==t?t:(d=>{let h,g,m=[{}];for(;h=qL.exec(d.replace(WL,""));)h[4]?m.shift():h[3]?(g=h[3].replace(vT," ").trim(),m.unshift(m[0][g]=m[0][g]||{})):m[0][h[1]]=h[2].replace(vT," ").trim();return m[0]})(t);ks[a]=Aa(i?{["@keyframes "+a]:f}:f,n?"":"."+a)}let c=n&&ks.g?ks.g:null;return n&&(ks.g=ks[a]),((f,d,h,g)=>{g?d.data=d.data.replace(g,f):d.data.indexOf(f)===-1&&(d.data=h?f+d.data:d.data+f)})(ks[a],e,r,c),a},YL=(t,e,n)=>t.reduce((r,i,s)=>{let a=e[s];if(a&&a.call){let c=a(n),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;a=f?"."+f:c&&typeof c=="object"?c.props?"":Aa(c,""):c===!1?"":c}return r+i+(a??"")},"");function Vp(t){let e=this||{},n=t.call?t(e.p):t;return GL(n.unshift?n.raw?YL(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,VL(e.target),e.g,e.o,e.k)}let XR,n1,r1;Vp.bind({g:1});let zs=Vp.bind({k:1});function XL(t,e,n,r){Aa.p=e,XR=t,n1=n,r1=r}function Ka(t,e){let n=this||{};return function(){let r=arguments;function i(s,a){let c=Object.assign({},s),f=c.className||i.className;n.p=Object.assign({theme:n1&&n1()},c),n.o=/ *go\d+/.test(f),c.className=Vp.apply(n,r)+(f?" "+f:"");let d=t;return t[0]&&(d=c.as||t,delete c.as),r1&&d[0]&&r1(c),XR(d,c)}return i}}var KL=t=>typeof t=="function",z0=(t,e)=>KL(t)?t(e):t,QL=(()=>{let t=0;return()=>(++t).toString()})(),KR=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),ZL=20,QR=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,ZL)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return QR(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},_0=[],Mo={toasts:[],pausedAt:void 0},al=t=>{Mo=QR(Mo,t),_0.forEach(e=>{e(Mo)})},JL={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},eB=(t={})=>{let[e,n]=k.useState(Mo),r=k.useRef(Mo);k.useEffect(()=>(r.current!==Mo&&n(Mo),_0.push(n),()=>{let s=_0.indexOf(n);s>-1&&_0.splice(s,1)}),[]);let i=e.toasts.map(s=>{var a,c,f;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((a=t[s.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((c=t[s.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||JL[s.type],style:{...t.style,...(f=t[s.type])==null?void 0:f.style,...s.style}}});return{...e,toasts:i}},tB=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||QL()}),sd=t=>(e,n)=>{let r=tB(e,t,n);return al({type:2,toast:r}),r.id},_r=(t,e)=>sd("blank")(t,e);_r.error=sd("error");_r.success=sd("success");_r.loading=sd("loading");_r.custom=sd("custom");_r.dismiss=t=>{al({type:3,toastId:t})};_r.remove=t=>al({type:4,toastId:t});_r.promise=(t,e,n)=>{let r=_r.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?z0(e.success,i):void 0;return s?_r.success(s,{id:r,...n,...n==null?void 0:n.success}):_r.dismiss(r),i}).catch(i=>{let s=e.error?z0(e.error,i):void 0;s?_r.error(s,{id:r,...n,...n==null?void 0:n.error}):_r.dismiss(r)}),t};var nB=(t,e)=>{al({type:1,toast:{id:t,height:e}})},rB=()=>{al({type:5,time:Date.now()})},vf=new Map,iB=1e3,sB=(t,e=iB)=>{if(vf.has(t))return;let n=setTimeout(()=>{vf.delete(t),al({type:4,toastId:t})},e);vf.set(t,n)},aB=t=>{let{toasts:e,pausedAt:n}=eB(t);k.useEffect(()=>{if(n)return;let s=Date.now(),a=e.map(c=>{if(c.duration===1/0)return;let f=(c.duration||0)+c.pauseDuration-(s-c.createdAt);if(f<0){c.visible&&_r.dismiss(c.id);return}return setTimeout(()=>_r.dismiss(c.id),f)});return()=>{a.forEach(c=>c&&clearTimeout(c))}},[e,n]);let r=k.useCallback(()=>{n&&al({type:6,time:Date.now()})},[n]),i=k.useCallback((s,a)=>{let{reverseOrder:c=!1,gutter:f=8,defaultPosition:d}=a||{},h=e.filter(v=>(v.position||d)===(s.position||d)&&v.height),g=h.findIndex(v=>v.id===s.id),m=h.filter((v,w)=>w<g&&v.visible).length;return h.filter(v=>v.visible).slice(...c?[m+1]:[0,m]).reduce((v,w)=>v+(w.height||0)+f,0)},[e]);return k.useEffect(()=>{e.forEach(s=>{if(s.dismissed)sB(s.id,s.removeDelay);else{let a=vf.get(s.id);a&&(clearTimeout(a),vf.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:nB,startPause:rB,endPause:r,calculateOffset:i}}},oB=zs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,lB=zs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cB=zs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,uB=Ka("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${lB} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${cB} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,fB=zs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,dB=Ka("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${fB} 1s linear infinite;
`,hB=zs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pB=zs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gB=Ka("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mB=Ka("div")`
  position: absolute;
`,vB=Ka("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yB=zs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xB=Ka("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,_B=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?k.createElement(xB,null,e):e:n==="blank"?null:k.createElement(vB,null,k.createElement(dB,{...r}),n!=="loading"&&k.createElement(mB,null,n==="error"?k.createElement(uB,{...r}):k.createElement(gB,{...r})))},wB=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,bB=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,EB="0%{opacity:0;} 100%{opacity:1;}",SB="0%{opacity:1;} 100%{opacity:0;}",TB=Ka("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,AB=Ka("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,CB=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=KR()?[EB,SB]:[wB(n),bB(n)];return{animation:e?`${zs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${zs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},RB=k.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?CB(t.position||e||"top-center",t.visible):{opacity:0},s=k.createElement(_B,{toast:t}),a=k.createElement(AB,{...t.ariaProps},z0(t.message,t));return k.createElement(TB,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:a}):k.createElement(k.Fragment,null,s,a))});XL(k.createElement);var DB=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=k.useCallback(a=>{if(a){let c=()=>{let f=a.getBoundingClientRect().height;r(t,f)};c(),new MutationObserver(c).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return k.createElement("div",{ref:s,className:e,style:n},i)},OB=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:KR()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},kB=Vp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ih=16,NB=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:c,handlers:f}=aB(n);return k.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ih,left:Ih,right:Ih,bottom:Ih,pointerEvents:"none",...s},className:a,onMouseEnter:f.startPause,onMouseLeave:f.endPause},c.map(d=>{let h=d.position||e,g=f.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),m=OB(h,g);return k.createElement(DB,{id:d.id,key:d.id,onHeightUpdate:f.updateHeight,className:d.visible?kB:"",style:m},d.type==="custom"?z0(d.message,d):i?i(d):k.createElement(RB,{toast:d,position:h}))}))},Bn=_r;function ZR(t,e){return function(){return t.apply(e,arguments)}}const{toString:IB}=Object.prototype,{getPrototypeOf:_x}=Object,{iterator:qp,toStringTag:JR}=Symbol,Wp=(t=>e=>{const n=IB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$i=t=>(t=t.toLowerCase(),e=>Wp(e)===t),Gp=t=>e=>typeof e===t,{isArray:Vc}=Array,Nc=Gp("undefined");function ad(t){return t!==null&&!Nc(t)&&t.constructor!==null&&!Nc(t.constructor)&&kr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const eD=$i("ArrayBuffer");function MB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&eD(t.buffer),e}const jB=Gp("string"),kr=Gp("function"),tD=Gp("number"),od=t=>t!==null&&typeof t=="object",PB=t=>t===!0||t===!1,w0=t=>{if(Wp(t)!=="object")return!1;const e=_x(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(JR in t)&&!(qp in t)},LB=t=>{if(!od(t)||ad(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},BB=$i("Date"),FB=$i("File"),UB=$i("Blob"),HB=$i("FileList"),zB=t=>od(t)&&kr(t.pipe),$B=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||kr(t.append)&&((e=Wp(t))==="formdata"||e==="object"&&kr(t.toString)&&t.toString()==="[object FormData]"))},VB=$i("URLSearchParams"),[qB,WB,GB,YB]=["ReadableStream","Request","Response","Headers"].map($i),XB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ld(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Vc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(ad(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let c;for(r=0;r<a;r++)c=s[r],e.call(null,t[c],c,t)}}function nD(t,e){if(ad(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const jo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rD=t=>!Nc(t)&&t!==jo;function i1(){const{caseless:t,skipUndefined:e}=rD(this)&&this||{},n={},r=(i,s)=>{const a=t&&nD(n,s)||s;w0(n[a])&&w0(i)?n[a]=i1(n[a],i):w0(i)?n[a]=i1({},i):Vc(i)?n[a]=i.slice():(!e||!Nc(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&ld(arguments[i],r);return n}const KB=(t,e,n,{allOwnKeys:r}={})=>(ld(e,(i,s)=>{n&&kr(i)?t[s]=ZR(i,n):t[s]=i},{allOwnKeys:r}),t),QB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ZB=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},JB=(t,e,n,r)=>{let i,s,a;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&_x(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},eF=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},tF=t=>{if(!t)return null;if(Vc(t))return t;let e=t.length;if(!tD(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},nF=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&_x(Uint8Array)),rF=(t,e)=>{const r=(t&&t[qp]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},iF=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},sF=$i("HTMLFormElement"),aF=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),yT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),oF=$i("RegExp"),iD=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ld(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},lF=t=>{iD(t,(e,n)=>{if(kr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(kr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},cF=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Vc(t)?r(t):r(String(t).split(e)),n},uF=()=>{},fF=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function dF(t){return!!(t&&kr(t.append)&&t[JR]==="FormData"&&t[qp])}const hF=t=>{const e=new Array(10),n=(r,i)=>{if(od(r)){if(e.indexOf(r)>=0)return;if(ad(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Vc(r)?[]:{};return ld(r,(a,c)=>{const f=n(a,i+1);!Nc(f)&&(s[c]=f)}),e[i]=void 0,s}}return r};return n(t,0)},pF=$i("AsyncFunction"),gF=t=>t&&(od(t)||kr(t))&&kr(t.then)&&kr(t.catch),sD=((t,e)=>t?setImmediate:e?((n,r)=>(jo.addEventListener("message",({source:i,data:s})=>{i===jo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),jo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",kr(jo.postMessage)),mF=typeof queueMicrotask<"u"?queueMicrotask.bind(jo):typeof process<"u"&&process.nextTick||sD,vF=t=>t!=null&&kr(t[qp]),we={isArray:Vc,isArrayBuffer:eD,isBuffer:ad,isFormData:$B,isArrayBufferView:MB,isString:jB,isNumber:tD,isBoolean:PB,isObject:od,isPlainObject:w0,isEmptyObject:LB,isReadableStream:qB,isRequest:WB,isResponse:GB,isHeaders:YB,isUndefined:Nc,isDate:BB,isFile:FB,isBlob:UB,isRegExp:oF,isFunction:kr,isStream:zB,isURLSearchParams:VB,isTypedArray:nF,isFileList:HB,forEach:ld,merge:i1,extend:KB,trim:XB,stripBOM:QB,inherits:ZB,toFlatObject:JB,kindOf:Wp,kindOfTest:$i,endsWith:eF,toArray:tF,forEachEntry:rF,matchAll:iF,isHTMLForm:sF,hasOwnProperty:yT,hasOwnProp:yT,reduceDescriptors:iD,freezeMethods:lF,toObjectSet:cF,toCamelCase:aF,noop:uF,toFiniteNumber:fF,findKey:nD,global:jo,isContextDefined:rD,isSpecCompliantForm:dF,toJSONObject:hF,isAsyncFn:pF,isThenable:gF,setImmediate:sD,asap:mF,isIterable:vF};function lt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}we.inherits(lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:we.toJSONObject(this.config),code:this.code,status:this.status}}});const aD=lt.prototype,oD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oD[t]={value:t}});Object.defineProperties(lt,oD);Object.defineProperty(aD,"isAxiosError",{value:!0});lt.from=(t,e,n,r,i,s)=>{const a=Object.create(aD);we.toFlatObject(t,a,function(h){return h!==Error.prototype},d=>d!=="isAxiosError");const c=t&&t.message?t.message:"Error",f=e==null&&t?t.code:e;return lt.call(a,c,f,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const yF=null;function s1(t){return we.isPlainObject(t)||we.isArray(t)}function lD(t){return we.endsWith(t,"[]")?t.slice(0,-2):t}function xT(t,e,n){return t?t.concat(e).map(function(i,s){return i=lD(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function xF(t){return we.isArray(t)&&!t.some(s1)}const _F=we.toFlatObject(we,{},null,function(e){return/^is[A-Z]/.test(e)});function Yp(t,e,n){if(!we.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=we.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!we.isUndefined(b[x])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,a=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&we.isSpecCompliantForm(e);if(!we.isFunction(i))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(we.isDate(w))return w.toISOString();if(we.isBoolean(w))return w.toString();if(!f&&we.isBlob(w))throw new lt("Blob is not supported. Use a Buffer instead.");return we.isArrayBuffer(w)||we.isTypedArray(w)?f&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,x,b){let S=w;if(w&&!b&&typeof w=="object"){if(we.endsWith(x,"{}"))x=r?x:x.slice(0,-2),w=JSON.stringify(w);else if(we.isArray(w)&&xF(w)||(we.isFileList(w)||we.endsWith(x,"[]"))&&(S=we.toArray(w)))return x=lD(x),S.forEach(function(A,C){!(we.isUndefined(A)||A===null)&&e.append(a===!0?xT([x],C,s):a===null?x:x+"[]",d(A))}),!1}return s1(w)?!0:(e.append(xT(b,x,s),d(w)),!1)}const g=[],m=Object.assign(_F,{defaultVisitor:h,convertValue:d,isVisitable:s1});function v(w,x){if(!we.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+x.join("."));g.push(w),we.forEach(w,function(S,T){(!(we.isUndefined(S)||S===null)&&i.call(e,S,we.isString(T)?T.trim():T,x,m))===!0&&v(S,x?x.concat(T):[T])}),g.pop()}}if(!we.isObject(t))throw new TypeError("data must be an object");return v(t),e}function _T(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function wx(t,e){this._pairs=[],t&&Yp(t,this,e)}const cD=wx.prototype;cD.append=function(e,n){this._pairs.push([e,n])};cD.toString=function(e){const n=e?function(r){return e.call(this,r,_T)}:_T;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function wF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uD(t,e,n){if(!e)return t;const r=n&&n.encode||wF;we.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=we.isURLSearchParams(e)?e.toString():new wx(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class wT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){we.forEach(this.handlers,function(r){r!==null&&e(r)})}}const fD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bF=typeof URLSearchParams<"u"?URLSearchParams:wx,EF=typeof FormData<"u"?FormData:null,SF=typeof Blob<"u"?Blob:null,TF={isBrowser:!0,classes:{URLSearchParams:bF,FormData:EF,Blob:SF},protocols:["http","https","file","blob","url","data"]},bx=typeof window<"u"&&typeof document<"u",a1=typeof navigator=="object"&&navigator||void 0,AF=bx&&(!a1||["ReactNative","NativeScript","NS"].indexOf(a1.product)<0),CF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",RF=bx&&window.location.href||"http://localhost",DF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bx,hasStandardBrowserEnv:AF,hasStandardBrowserWebWorkerEnv:CF,navigator:a1,origin:RF},Symbol.toStringTag,{value:"Module"})),ur={...DF,...TF};function OF(t,e){return Yp(t,new ur.classes.URLSearchParams,{visitor:function(n,r,i,s){return ur.isNode&&we.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function kF(t){return we.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function NF(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function dD(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),f=s>=n.length;return a=!a&&we.isArray(i)?i.length:a,f?(we.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!c):((!i[a]||!we.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&we.isArray(i[a])&&(i[a]=NF(i[a])),!c)}if(we.isFormData(t)&&we.isFunction(t.entries)){const n={};return we.forEachEntry(t,(r,i)=>{e(kF(r),i,n,0)}),n}return null}function IF(t,e,n){if(we.isString(t))try{return(e||JSON.parse)(t),we.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const cd={transitional:fD,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=we.isObject(e);if(s&&we.isHTMLForm(e)&&(e=new FormData(e)),we.isFormData(e))return i?JSON.stringify(dD(e)):e;if(we.isArrayBuffer(e)||we.isBuffer(e)||we.isStream(e)||we.isFile(e)||we.isBlob(e)||we.isReadableStream(e))return e;if(we.isArrayBufferView(e))return e.buffer;if(we.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return OF(e,this.formSerializer).toString();if((c=we.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Yp(c?{"files[]":e}:e,f&&new f,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),IF(e)):e}],transformResponse:[function(e){const n=this.transitional||cd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(we.isResponse(e)||we.isReadableStream(e))return e;if(e&&we.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(c){if(a)throw c.name==="SyntaxError"?lt.from(c,lt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur.classes.FormData,Blob:ur.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};we.forEach(["delete","get","head","post","put","patch"],t=>{cd.headers[t]={}});const MF=we.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jF=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&MF[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},bT=Symbol("internals");function Zu(t){return t&&String(t).trim().toLowerCase()}function b0(t){return t===!1||t==null?t:we.isArray(t)?t.map(b0):String(t)}function PF(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const LF=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Pv(t,e,n,r,i){if(we.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!we.isString(e)){if(we.isString(r))return e.indexOf(r)!==-1;if(we.isRegExp(r))return r.test(e)}}function BF(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function FF(t,e){const n=we.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let Nr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(c,f,d){const h=Zu(f);if(!h)throw new Error("header name must be a non-empty string");const g=we.findKey(i,h);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||f]=b0(c))}const a=(c,f)=>we.forEach(c,(d,h)=>s(d,h,f));if(we.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(we.isString(e)&&(e=e.trim())&&!LF(e))a(jF(e),n);else if(we.isObject(e)&&we.isIterable(e)){let c={},f,d;for(const h of e){if(!we.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[d=h[0]]=(f=c[d])?we.isArray(f)?[...f,h[1]]:[f,h[1]]:h[1]}a(c,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Zu(e),e){const r=we.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return PF(i);if(we.isFunction(n))return n.call(this,i,r);if(we.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Zu(e),e){const r=we.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Pv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=Zu(a),a){const c=we.findKey(r,a);c&&(!n||Pv(r,r[c],c,n))&&(delete r[c],i=!0)}}return we.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Pv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return we.forEach(this,(i,s)=>{const a=we.findKey(r,s);if(a){n[a]=b0(i),delete n[s];return}const c=e?BF(s):String(s).trim();c!==s&&delete n[s],n[c]=b0(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return we.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&we.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[bT]=this[bT]={accessors:{}}).accessors,i=this.prototype;function s(a){const c=Zu(a);r[c]||(FF(i,a),r[c]=!0)}return we.isArray(e)?e.forEach(s):s(e),this}};Nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);we.reduceDescriptors(Nr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});we.freezeMethods(Nr);function Lv(t,e){const n=this||cd,r=e||n,i=Nr.from(r.headers);let s=r.data;return we.forEach(t,function(c){s=c.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function hD(t){return!!(t&&t.__CANCEL__)}function qc(t,e,n){lt.call(this,t??"canceled",lt.ERR_CANCELED,e,n),this.name="CanceledError"}we.inherits(qc,lt,{__CANCEL__:!0});function pD(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new lt("Request failed with status code "+n.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function UF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function HF(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(f){const d=Date.now(),h=r[s];a||(a=d),n[i]=f,r[i]=d;let g=s,m=0;for(;g!==i;)m+=n[g++],g=g%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-a<e)return;const v=h&&d-h;return v?Math.round(m*1e3/v):void 0}}function zF(t,e){let n=0,r=1e3/e,i,s;const a=(d,h=Date.now())=>{n=h,i=null,s&&(clearTimeout(s),s=null),t(...d)};return[(...d)=>{const h=Date.now(),g=h-n;g>=r?a(d,h):(i=d,s||(s=setTimeout(()=>{s=null,a(i)},r-g)))},()=>i&&a(i)]}const $0=(t,e,n=3)=>{let r=0;const i=HF(50,250);return zF(s=>{const a=s.loaded,c=s.lengthComputable?s.total:void 0,f=a-r,d=i(f),h=a<=c;r=a;const g={loaded:a,total:c,progress:c?a/c:void 0,bytes:f,rate:d||void 0,estimated:d&&c&&h?(c-a)/d:void 0,event:s,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(g)},n)},ET=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},ST=t=>(...e)=>we.asap(()=>t(...e)),$F=ur.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ur.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ur.origin),ur.navigator&&/(msie|trident)/i.test(ur.navigator.userAgent)):()=>!0,VF=ur.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];we.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),we.isString(r)&&a.push("path="+r),we.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function WF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function gD(t,e,n){let r=!qF(e);return t&&(r||n==!1)?WF(t,e):e}const TT=t=>t instanceof Nr?{...t}:t;function Go(t,e){e=e||{};const n={};function r(d,h,g,m){return we.isPlainObject(d)&&we.isPlainObject(h)?we.merge.call({caseless:m},d,h):we.isPlainObject(h)?we.merge({},h):we.isArray(h)?h.slice():h}function i(d,h,g,m){if(we.isUndefined(h)){if(!we.isUndefined(d))return r(void 0,d,g,m)}else return r(d,h,g,m)}function s(d,h){if(!we.isUndefined(h))return r(void 0,h)}function a(d,h){if(we.isUndefined(h)){if(!we.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function c(d,h,g){if(g in e)return r(d,h);if(g in t)return r(void 0,d)}const f={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(d,h,g)=>i(TT(d),TT(h),g,!0)};return we.forEach(Object.keys({...t,...e}),function(h){const g=f[h]||i,m=g(t[h],e[h],h);we.isUndefined(m)&&g!==c||(n[h]=m)}),n}const mD=t=>{const e=Go({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:c}=e;if(e.headers=a=Nr.from(a),e.url=uD(gD(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),we.isFormData(n)){if(ur.hasStandardBrowserEnv||ur.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(we.isFunction(n.getHeaders)){const f=n.getHeaders(),d=["content-type","content-length"];Object.entries(f).forEach(([h,g])=>{d.includes(h.toLowerCase())&&a.set(h,g)})}}if(ur.hasStandardBrowserEnv&&(r&&we.isFunction(r)&&(r=r(e)),r||r!==!1&&$F(e.url))){const f=i&&s&&VF.read(s);f&&a.set(i,f)}return e},GF=typeof XMLHttpRequest<"u",YF=GF&&function(t){return new Promise(function(n,r){const i=mD(t);let s=i.data;const a=Nr.from(i.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:d}=i,h,g,m,v,w;function x(){v&&v(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function S(){if(!b)return;const A=Nr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),P={data:!c||c==="text"||c==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:A,config:t,request:b};pD(function(I){n(I),x()},function(I){r(I),x()},P),b=null}"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(S)},b.onabort=function(){b&&(r(new lt("Request aborted",lt.ECONNABORTED,t,b)),b=null)},b.onerror=function(C){const P=C&&C.message?C.message:"Network Error",V=new lt(P,lt.ERR_NETWORK,t,b);V.event=C||null,r(V),b=null},b.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||fD;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new lt(C,P.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&we.forEach(a.toJSON(),function(C,P){b.setRequestHeader(P,C)}),we.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),c&&c!=="json"&&(b.responseType=i.responseType),d&&([m,w]=$0(d,!0),b.addEventListener("progress",m)),f&&b.upload&&([g,v]=$0(f),b.upload.addEventListener("progress",g),b.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(h=A=>{b&&(r(!A||A.type?new qc(null,t,b):A),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const T=UF(i.url);if(T&&ur.protocols.indexOf(T)===-1){r(new lt("Unsupported protocol "+T+":",lt.ERR_BAD_REQUEST,t));return}b.send(s||null)})},XF=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,c();const h=d instanceof Error?d:this.reason;r.abort(h instanceof lt?h:new qc(h instanceof Error?h.message:h))}};let a=e&&setTimeout(()=>{a=null,s(new lt(`timeout ${e} of ms exceeded`,lt.ETIMEDOUT))},e);const c=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:f}=r;return f.unsubscribe=()=>we.asap(c),f}},KF=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},QF=async function*(t,e){for await(const n of ZF(t))yield*KF(n,e)},ZF=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},AT=(t,e,n,r)=>{const i=QF(t,e);let s=0,a,c=f=>{a||(a=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:d,value:h}=await i.next();if(d){c(),f.close();return}let g=h.byteLength;if(n){let m=s+=g;n(m)}f.enqueue(new Uint8Array(h))}catch(d){throw c(d),d}},cancel(f){return c(f),i.return()}},{highWaterMark:2})},CT=64*1024,{isFunction:Mh}=we,JF=(({Request:t,Response:e})=>({Request:t,Response:e}))(we.global),{ReadableStream:RT,TextEncoder:DT}=we.global,OT=(t,...e)=>{try{return!!t(...e)}catch{return!1}},e6=t=>{t=we.merge.call({skipUndefined:!0},JF,t);const{fetch:e,Request:n,Response:r}=t,i=e?Mh(e):typeof fetch=="function",s=Mh(n),a=Mh(r);if(!i)return!1;const c=i&&Mh(RT),f=i&&(typeof DT=="function"?(w=>x=>w.encode(x))(new DT):async w=>new Uint8Array(await new n(w).arrayBuffer())),d=s&&c&&OT(()=>{let w=!1;const x=new n(ur.origin,{body:new RT,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!x}),h=a&&c&&OT(()=>we.isReadableStream(new r("").body)),g={stream:h&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(x,b)=>{let S=x&&x[w];if(S)return S.call(x);throw new lt(`Response type '${w}' is not supported`,lt.ERR_NOT_SUPPORT,b)})});const m=async w=>{if(w==null)return 0;if(we.isBlob(w))return w.size;if(we.isSpecCompliantForm(w))return(await new n(ur.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(we.isArrayBufferView(w)||we.isArrayBuffer(w))return w.byteLength;if(we.isURLSearchParams(w)&&(w=w+""),we.isString(w))return(await f(w)).byteLength},v=async(w,x)=>{const b=we.toFiniteNumber(w.getContentLength());return b??m(x)};return async w=>{let{url:x,method:b,data:S,signal:T,cancelToken:A,timeout:C,onDownloadProgress:P,onUploadProgress:V,responseType:I,headers:j,withCredentials:L="same-origin",fetchOptions:K}=mD(w),te=e||fetch;I=I?(I+"").toLowerCase():"text";let X=XF([T,A&&A.toAbortSignal()],C),ce=null;const N=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let ee;try{if(V&&d&&b!=="get"&&b!=="head"&&(ee=await v(j,S))!==0){let ae=new n(x,{method:"POST",body:S,duplex:"half"}),D;if(we.isFormData(S)&&(D=ae.headers.get("content-type"))&&j.setContentType(D),ae.body){const[q,z]=ET(ee,$0(ST(V)));S=AT(ae.body,CT,q,z)}}we.isString(L)||(L=L?"include":"omit");const B=s&&"credentials"in n.prototype,re={...K,signal:X,method:b.toUpperCase(),headers:j.normalize().toJSON(),body:S,duplex:"half",credentials:B?L:void 0};ce=s&&new n(x,re);let le=await(s?te(ce,K):te(x,re));const ie=h&&(I==="stream"||I==="response");if(h&&(P||ie&&N)){const ae={};["status","statusText","headers"].forEach(F=>{ae[F]=le[F]});const D=we.toFiniteNumber(le.headers.get("content-length")),[q,z]=P&&ET(D,$0(ST(P),!0))||[];le=new r(AT(le.body,CT,q,()=>{z&&z(),N&&N()}),ae)}I=I||"text";let Q=await g[we.findKey(g,I)||"text"](le,w);return!ie&&N&&N(),await new Promise((ae,D)=>{pD(ae,D,{data:Q,headers:Nr.from(le.headers),status:le.status,statusText:le.statusText,config:w,request:ce})})}catch(B){throw N&&N(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new lt("Network Error",lt.ERR_NETWORK,w,ce),{cause:B.cause||B}):lt.from(B,B&&B.code,w,ce)}}},t6=new Map,vD=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let a=s.length,c=a,f,d,h=t6;for(;c--;)f=s[c],d=h.get(f),d===void 0&&h.set(f,d=c?new Map:e6(e)),h=d;return d};vD();const o1={http:yF,xhr:YF,fetch:{get:vD}};we.forEach(o1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const kT=t=>`- ${t}`,n6=t=>we.isFunction(t)||t===null||t===!1,yD={getAdapter:(t,e)=>{t=we.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let a=0;a<n;a++){r=t[a];let c;if(i=r,!n6(r)&&(i=o1[(c=String(r)).toLowerCase()],i===void 0))throw new lt(`Unknown adapter '${c}'`);if(i&&(we.isFunction(i)||(i=i.get(e))))break;s[c||"#"+a]=i}if(!i){const a=Object.entries(s).map(([f,d])=>`adapter ${f} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?a.length>1?`since :
`+a.map(kT).join(`
`):" "+kT(a[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:o1};function Bv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qc(null,t)}function NT(t){return Bv(t),t.headers=Nr.from(t.headers),t.data=Lv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yD.getAdapter(t.adapter||cd.adapter,t)(t).then(function(r){return Bv(t),r.data=Lv.call(t,t.transformResponse,r),r.headers=Nr.from(r.headers),r},function(r){return hD(r)||(Bv(t),r&&r.response&&(r.response.data=Lv.call(t,t.transformResponse,r.response),r.response.headers=Nr.from(r.response.headers))),Promise.reject(r)})}const xD="1.12.2",Xp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Xp[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const IT={};Xp.transitional=function(e,n,r){function i(s,a){return"[Axios v"+xD+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,c)=>{if(e===!1)throw new lt(i(a," has been removed"+(n?" in "+n:"")),lt.ERR_DEPRECATED);return n&&!IT[a]&&(IT[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,c):!0}};Xp.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function r6(t,e,n){if(typeof t!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const c=t[s],f=c===void 0||a(c,s,t);if(f!==!0)throw new lt("option "+s+" must be "+f,lt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new lt("Unknown option "+s,lt.ERR_BAD_OPTION)}}const E0={assertOptions:r6,validators:Xp},ts=E0.validators;let Ho=class{constructor(e){this.defaults=e||{},this.interceptors={request:new wT,response:new wT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Go(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&E0.assertOptions(r,{silentJSONParsing:ts.transitional(ts.boolean),forcedJSONParsing:ts.transitional(ts.boolean),clarifyTimeoutError:ts.transitional(ts.boolean)},!1),i!=null&&(we.isFunction(i)?n.paramsSerializer={serialize:i}:E0.assertOptions(i,{encode:ts.function,serialize:ts.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),E0.assertOptions(n,{baseUrl:ts.spelling("baseURL"),withXsrfToken:ts.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&we.merge(s.common,s[n.method]);s&&we.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),n.headers=Nr.concat(a,s);const c=[];let f=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(f=f&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let h,g=0,m;if(!f){const w=[NT.bind(this),void 0];for(w.unshift(...c),w.push(...d),m=w.length,h=Promise.resolve(n);g<m;)h=h.then(w[g++],w[g++]);return h}m=c.length;let v=n;for(;g<m;){const w=c[g++],x=c[g++];try{v=w(v)}catch(b){x.call(this,b);break}}try{h=NT.call(this,v)}catch(w){return Promise.reject(w)}for(g=0,m=d.length;g<m;)h=h.then(d[g++],d[g++]);return h}getUri(e){e=Go(this.defaults,e);const n=gD(e.baseURL,e.url,e.allowAbsoluteUrls);return uD(n,e.params,e.paramsSerializer)}};we.forEach(["delete","get","head","options"],function(e){Ho.prototype[e]=function(n,r){return this.request(Go(r||{},{method:e,url:n,data:(r||{}).data}))}});we.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,c){return this.request(Go(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Ho.prototype[e]=n(),Ho.prototype[e+"Form"]=n(!0)});let i6=class _D{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(c=>{r.subscribe(c),s=c}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,c){r.reason||(r.reason=new qc(s,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new _D(function(i){e=i}),cancel:e}}};function s6(t){return function(n){return t.apply(null,n)}}function a6(t){return we.isObject(t)&&t.isAxiosError===!0}const l1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(l1).forEach(([t,e])=>{l1[e]=t});function wD(t){const e=new Ho(t),n=ZR(Ho.prototype.request,e);return we.extend(n,Ho.prototype,e,{allOwnKeys:!0}),we.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return wD(Go(t,i))},n}const gn=wD(cd);gn.Axios=Ho;gn.CanceledError=qc;gn.CancelToken=i6;gn.isCancel=hD;gn.VERSION=xD;gn.toFormData=Yp;gn.AxiosError=lt;gn.Cancel=gn.CanceledError;gn.all=function(e){return Promise.all(e)};gn.spread=s6;gn.isAxiosError=a6;gn.mergeConfig=Go;gn.AxiosHeaders=Nr;gn.formToJSON=t=>dD(we.isHTMLForm(t)?new FormData(t):t);gn.getAdapter=yD.getAdapter;gn.HttpStatusCode=l1;gn.default=gn;const{Axios:Sce,AxiosError:Tce,CanceledError:Ace,isCancel:Cce,CancelToken:Rce,VERSION:Dce,all:Oce,Cancel:kce,isAxiosError:Nce,spread:Ice,toFormData:Mce,AxiosHeaders:jce,HttpStatusCode:Pce,formToJSON:Lce,getAdapter:Bce,mergeConfig:Fce}=gn,Ve=gn.create({baseURL:"https://vrism.haltnshine.com"});Ve.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const us=Object.create(null);us.open="0";us.close="1";us.ping="2";us.pong="3";us.message="4";us.upgrade="5";us.noop="6";const S0=Object.create(null);Object.keys(us).forEach(t=>{S0[us[t]]=t});const c1={type:"error",data:"parser error"},bD=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ED=typeof ArrayBuffer=="function",SD=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ex=({type:t,data:e},n,r)=>bD&&e instanceof Blob?n?r(e):MT(e,r):ED&&(e instanceof ArrayBuffer||SD(e))?n?r(e):MT(new Blob([e]),r):r(us[t]+(e||"")),MT=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function jT(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Fv;function o6(t,e){if(bD&&t.data instanceof Blob)return t.data.arrayBuffer().then(jT).then(e);if(ED&&(t.data instanceof ArrayBuffer||SD(t.data)))return e(jT(t.data));Ex(t,!1,n=>{Fv||(Fv=new TextEncoder),e(Fv.encode(n))})}const PT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<PT.length;t++)uf[PT.charCodeAt(t)]=t;const l6=t=>{let e=t.length*.75,n=t.length,r,i=0,s,a,c,f;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),h=new Uint8Array(d);for(r=0;r<n;r+=4)s=uf[t.charCodeAt(r)],a=uf[t.charCodeAt(r+1)],c=uf[t.charCodeAt(r+2)],f=uf[t.charCodeAt(r+3)],h[i++]=s<<2|a>>4,h[i++]=(a&15)<<4|c>>2,h[i++]=(c&3)<<6|f&63;return d},c6=typeof ArrayBuffer=="function",Sx=(t,e)=>{if(typeof t!="string")return{type:"message",data:TD(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:u6(t.substring(1),e)}:S0[n]?t.length>1?{type:S0[n],data:t.substring(1)}:{type:S0[n]}:c1},u6=(t,e)=>{if(c6){const n=l6(t);return TD(n,e)}else return{base64:!0,data:t}},TD=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},AD="",f6=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,a)=>{Ex(s,!1,c=>{r[a]=c,++i===n&&e(r.join(AD))})})},d6=(t,e)=>{const n=t.split(AD),r=[];for(let i=0;i<n.length;i++){const s=Sx(n[i],e);if(r.push(s),s.type==="error")break}return r};function h6(){return new TransformStream({transform(t,e){o6(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let Uv;function jh(t){return t.reduce((e,n)=>e+n.length,0)}function Ph(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function p6(t,e){Uv||(Uv=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(a,c){for(n.push(a);;){if(r===0){if(jh(n)<1)break;const f=Ph(n,1);s=(f[0]&128)===128,i=f[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(jh(n)<2)break;const f=Ph(n,2);i=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),r=3}else if(r===2){if(jh(n)<8)break;const f=Ph(n,8),d=new DataView(f.buffer,f.byteOffset,f.length),h=d.getUint32(0);if(h>Math.pow(2,21)-1){c.enqueue(c1);break}i=h*Math.pow(2,32)+d.getUint32(4),r=3}else{if(jh(n)<i)break;const f=Ph(n,i);c.enqueue(Sx(s?f:Uv.decode(f),e)),r=0}if(i===0||i>t){c.enqueue(c1);break}}}})}const CD=4;function Sn(t){if(t)return g6(t)}function g6(t){for(var e in Sn.prototype)t[e]=Sn.prototype[e];return t}Sn.prototype.on=Sn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Sn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Sn.prototype.off=Sn.prototype.removeListener=Sn.prototype.removeAllListeners=Sn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Sn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Sn.prototype.emitReserved=Sn.prototype.emit;Sn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Sn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Kp=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),yi=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),m6="arraybuffer";function RD(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const v6=yi.setTimeout,y6=yi.clearTimeout;function Qp(t,e){e.useNativeTimers?(t.setTimeoutFn=v6.bind(yi),t.clearTimeoutFn=y6.bind(yi)):(t.setTimeoutFn=yi.setTimeout.bind(yi),t.clearTimeoutFn=yi.clearTimeout.bind(yi))}const x6=1.33;function _6(t){return typeof t=="string"?w6(t):Math.ceil((t.byteLength||t.size)*x6)}function w6(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function DD(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function b6(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function E6(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class S6 extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Tx extends Sn{constructor(e){super(),this.writable=!1,Qp(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new S6(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Sx(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=b6(e);return n.length?"?"+n:""}}class T6 extends Tx{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};d6(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,f6(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=DD()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let OD=!1;try{OD=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const A6=OD;function C6(){}class R6 extends T6{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class ls extends Sn{constructor(e,n,r){super(),this.createRequest=e,Qp(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=RD(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=ls.requestsCount++,ls.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=C6,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ls.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ls.requestsCount=0;ls.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",LT);else if(typeof addEventListener=="function"){const t="onpagehide"in yi?"pagehide":"unload";addEventListener(t,LT,!1)}}function LT(){for(let t in ls.requests)ls.requests.hasOwnProperty(t)&&ls.requests[t].abort()}const D6=function(){const t=kD({xdomain:!1});return t&&t.responseType!==null}();class O6 extends R6{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=D6&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ls(kD,this.uri(),e)}}function kD(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||A6))return new XMLHttpRequest}catch{}if(!e)try{return new yi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ND=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class k6 extends Tx{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=ND?{}:RD(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;Ex(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&Kp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=DD()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Hv=yi.WebSocket||yi.MozWebSocket;class N6 extends k6{createSocket(e,n,r){return ND?new Hv(e,n,r):n?new Hv(e,n):new Hv(e)}doWrite(e,n){this.ws.send(n)}}class I6 extends Tx{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=p6(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=h6();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:c,value:f})=>{c||(this.onPacket(f),s())}).catch(c=>{})};s();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&Kp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const M6={websocket:N6,webtransport:I6,polling:O6},j6=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,P6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function u1(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=j6.exec(t||""),s={},a=14;for(;a--;)s[P6[a]]=i[a]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=L6(s,s.path),s.queryKey=B6(s,s.query),s}function L6(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function B6(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const f1=typeof addEventListener=="function"&&typeof removeEventListener=="function",T0=[];f1&&addEventListener("offline",()=>{T0.forEach(t=>t())},!1);class Pa extends Sn{constructor(e,n){if(super(),this.binaryType=m6,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=u1(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=u1(n.host).host);Qp(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=E6(this.opts.query)),f1&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},T0.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=CD,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Pa.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Pa.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=_6(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Kp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Pa.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),f1&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=T0.indexOf(this._offlineEventListener);r!==-1&&T0.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Pa.protocol=CD;class F6 extends Pa{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Pa.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Pa.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function s(){r||(r=!0,h(),n.close(),n=null)}const a=g=>{const m=new Error("probe error: "+g);m.transport=n.name,s(),this.emitReserved("upgradeError",m)};function c(){a("transport closed")}function f(){a("socket closed")}function d(g){n&&g.name!==n.name&&s()}const h=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",c),this.off("close",f),this.off("upgrading",d)};n.once("open",i),n.once("error",a),n.once("close",c),this.once("close",f),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let U6=class extends F6{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>M6[i]).filter(i=>!!i)),super(e,r)}};function H6(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=u1(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const z6=typeof ArrayBuffer=="function",$6=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ID=Object.prototype.toString,V6=typeof Blob=="function"||typeof Blob<"u"&&ID.call(Blob)==="[object BlobConstructor]",q6=typeof File=="function"||typeof File<"u"&&ID.call(File)==="[object FileConstructor]";function Ax(t){return z6&&(t instanceof ArrayBuffer||$6(t))||V6&&t instanceof Blob||q6&&t instanceof File}function A0(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(A0(t[n]))return!0;return!1}if(Ax(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return A0(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&A0(t[n]))return!0;return!1}function W6(t){const e=[],n=t.data,r=t;return r.data=d1(n,e),r.attachments=e.length,{packet:r,buffers:e}}function d1(t,e){if(!t)return t;if(Ax(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=d1(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=d1(t[r],e));return n}return t}function G6(t,e){return t.data=h1(t.data,e),delete t.attachments,t}function h1(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=h1(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=h1(t[n],e));return t}const Y6=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],X6=5;var vt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(vt||(vt={}));class K6{constructor(e){this.replacer=e}encode(e){return(e.type===vt.EVENT||e.type===vt.ACK)&&A0(e)?this.encodeAsBinary({type:e.type===vt.EVENT?vt.BINARY_EVENT:vt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===vt.BINARY_EVENT||e.type===vt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=W6(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function BT(t){return Object.prototype.toString.call(t)==="[object Object]"}class Cx extends Sn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===vt.BINARY_EVENT;r||n.type===vt.BINARY_ACK?(n.type=r?vt.EVENT:vt.ACK,this.reconstructor=new Q6(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ax(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(vt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===vt.BINARY_EVENT||r.type===vt.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(s,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(Cx.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case vt.CONNECT:return BT(n);case vt.DISCONNECT:return n===void 0;case vt.CONNECT_ERROR:return typeof n=="string"||BT(n);case vt.EVENT:case vt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Y6.indexOf(n[0])===-1);case vt.ACK:case vt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Q6{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=G6(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Z6=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Cx,Encoder:K6,get PacketType(){return vt},protocol:X6},Symbol.toStringTag,{value:"Module"}));function Ii(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const J6=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class MD extends Sn{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ii(e,"open",this.onopen.bind(this)),Ii(e,"packet",this.onpacket.bind(this)),Ii(e,"error",this.onerror.bind(this)),Ii(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(J6.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:vt.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const h=this.ids++,g=n.pop();this._registerAckCallback(h,g),a.id=h}const c=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,f=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!c||(f?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},i),a=(...c)=>{this.io.clearTimeoutFn(s),n.apply(this,c)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(a,c)=>a?i(a):r(c);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:vt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case vt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case vt.EVENT:case vt.BINARY_EVENT:this.onevent(e);break;case vt.ACK:case vt.BINARY_ACK:this.onack(e);break;case vt.DISCONNECT:this.ondisconnect();break;case vt.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:vt.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:vt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Wc(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Wc.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Wc.prototype.reset=function(){this.attempts=0};Wc.prototype.setMin=function(t){this.ms=t};Wc.prototype.setMax=function(t){this.max=t};Wc.prototype.setJitter=function(t){this.jitter=t};class p1 extends Sn{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Qp(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Wc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||Z6;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new U6(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Ii(n,"open",function(){r.onopen(),e&&e()}),s=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},a=Ii(n,"error",s);if(this._timeout!==!1){const c=this._timeout,f=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},c);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ii(e,"ping",this.onping.bind(this)),Ii(e,"data",this.ondata.bind(this)),Ii(e,"error",this.onerror.bind(this)),Ii(e,"close",this.onclose.bind(this)),Ii(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Kp(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new MD(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ju={};function zo(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=H6(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,a=Ju[i]&&s in Ju[i].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let f;return c?f=new p1(r,e):(Ju[i]||(Ju[i]=new p1(r,e)),f=Ju[i]),n.query&&!e.query&&(e.query=n.queryKey),f.socket(n.path,e)}Object.assign(zo,{Manager:p1,Socket:MD,io:zo,connect:zo});const ol=k.createContext(),e8=({children:t})=>{const[e,n]=k.useState(null),[r,i]=k.useState({}),s=JSON.parse(localStorage.getItem("user"));return k.useEffect(()=>{if(!(s!=null&&s._id))return;const a=zo("https://vrism.haltnshine.com",{transports:["websocket"],reconnection:!0});return n(a),a.on("connect",()=>{console.log(" Socket Connected:",a.id),a.emit("join_room",s._id),a.emit("presence_change",{userId:s._id,presence:"online"})}),a.on("presence_updated",c=>{const{userId:f,presence:d,previousPresence:h,lastActiveAt:g}=c;i(m=>({...m,[f]:{presence:d,previousPresence:h,lastActiveAt:g?new Date(g):null}}))}),()=>{console.log(" Cleaning up socket properly"),a.connected&&a.emit("presence_change",{userId:s._id,presence:"offline"}),a.removeAllListeners(),a.disconnect()}},[]),_.jsx(ol.Provider,{value:{socket:e,presenceMap:r},children:t})},{Title:t8,Text:Lh}=sl,n8=()=>{const[t,e]=k.useState([]),{socket:n}=k.useContext(ol),r=$c(),i=JSON.parse(localStorage.getItem("user")),[s,a]=k.useState(!0),c=async()=>{if(i){a(!0);try{const m=(await Ve.get(`/api/notifications/${i._id}`)).data.notifications.filter(v=>!v.read);e(m)}catch{Bn.error("Failed to load notifications")}finally{a(!1)}}},f=async g=>{try{await Ve.post("/api/notifications/read",{notificationIds:[g._id]}),r("/chat"),e(m=>m.filter(v=>v._id!==g._id)),Bn.success("Notification marked as read")}catch{Bn.error("Error marking as read")}},d=async g=>{try{await Ve.delete(`/api/notifications/${g}`),e(m=>m.filter(v=>v._id!==g)),Bn.success("Notification deleted")}catch{Bn.error("Error deleting notification")}},h=async()=>{if(t.length===0){Bn.info("No unread notifications to clear.");return}try{const g=t.map(m=>m._id);await Ve.post("/api/notifications/read",{notificationIds:g}),e([]),Bn.success(`Cleared ${g.length} notifications!`)}catch{Bn.error("Error marking all as read")}};return k.useEffect(()=>{c()},[]),k.useEffect(()=>{if(!n)return;const g=()=>{c()};return n.on("new_notification",g),()=>{n.off("new_notification",g)}},[n]),_.jsxs("div",{className:"notification-container",children:[_.jsxs("div",{className:"header-section",children:[_.jsxs("div",{className:"header-left",children:[_.jsx(t8,{level:3,className:"notif-title",children:"New Messages"}),_.jsxs(Lh,{type:"secondary",className:"notif-subtitle",children:[t.length," unread"]})]}),_.jsx("div",{className:"header-actions",children:_.jsx(Xy,{title:"Mark all messages as read?",onConfirm:h,okText:"Yes",cancelText:"No",children:_.jsx(_t,{type:"primary",icon:_.jsx(zp,{}),disabled:t.length===0,className:"add-event-button",children:"Mark All Read"})})})]}),s?_.jsx("div",{className:"custom-loader"}):_.jsx(os,{className:"notif-list",dataSource:t,locale:{emptyText:_.jsx("div",{className:"notif-empty",children:_.jsx(za,{description:"All clear! No new messages."})})},renderItem:g=>{var m,v,w;return _.jsx(Xt,{className:"notif-card-advanced",onClick:()=>f(g),bodyStyle:{padding:"14px 18px"},hoverable:!0,children:_.jsxs("div",{className:"notif-content",children:[_.jsx("div",{className:"notif-avatar",children:(m=g.fromUser)!=null&&m.profileImage?_.jsx("img",{src:g.fromUser.profileImage,alt:`${g.fromUser.name}'s avatar`,className:"notif-profile-image"}):_.jsx("span",{children:(((v=g==null?void 0:g.fromUser)==null?void 0:v.name)||"U").charAt(0).toUpperCase()})}),_.jsxs("div",{className:"notif-text",children:[_.jsx(Lh,{strong:!0,className:"notif-sender",children:((w=g.fromUser)==null?void 0:w.name)||"Unknown Sender"}),_.jsx(Lh,{className:"notif-message",children:g.message}),_.jsx(Lh,{className:"notif-time",children:Ze(g.createdAt).format("MMM D, YYYY  h:mm A")})]}),_.jsx(Xy,{title:"Delete notification?",onConfirm:x=>{x&&x.stopPropagation&&x.stopPropagation(),d(g._id)},okText:"Yes",cancelText:"No",placement:"left",children:_.jsx(gf,{className:"notif-delete-btn",onClick:x=>x.stopPropagation()})})]})},g._id)}})]})};function r8(){const t=JSON.parse(localStorage.getItem("user")),[e,n]=k.useState([]),[r,i]=k.useState(!1),[s,a]=k.useState(null),[c]=Je.useForm(),f=async()=>{const m=await Ve.get(`/api/credentials/${t._id}`);n(m.data)},d=m=>{a(m),c.setFieldsValue(m||{}),i(!0)},h=async m=>{try{s?(await Ve.put(`/api/credentials/${s._id}`,m),Bn.success("Updated successfully")):(await Ve.post("/api/credentials",{...m,userId:t._id}),Bn.success("Credential saved")),i(!1),c.resetFields(),f()}catch{Bn.error("Failed to save")}};k.useEffect(()=>{f()},[]);const g=[{title:"S.No",render:(m,v,w)=>w+1,width:60},{title:"App Name",dataIndex:"appName"},{title:"Login ID",dataIndex:"loginId"},{title:"Password",dataIndex:"password",render:m=>_.jsx(Et,{color:"blue",children:m})},{title:"Actions",render:(m,v)=>_.jsxs(td,{children:[_.jsx(_t,{type:"link",onClick:()=>d(v),children:"Edit"}),_.jsx(_t,{danger:!0,onClick:async()=>{await Ve.delete(`/api/credentials/${v._id}`),f()},children:"Delete"})]})}];return _.jsxs("div",{style:{padding:24},children:[_.jsx("h2",{children:"User Credentials"}),_.jsx(_t,{type:"primary",onClick:()=>d(null),className:"add-event-button",children:"Add New"}),_.jsx(Fp,{columns:g,dataSource:e,style:{marginTop:20},rowKey:"_id"}),_.jsx(uP,{open:r,onCancel:()=>{i(!1),a(null)},title:s?"Edit Credential":"Add Credential",onOk:()=>c.submit(),children:_.jsxs(Je,{layout:"vertical",form:c,onFinish:h,children:[_.jsx(Je.Item,{name:"appName",label:"Application Name",rules:[{required:!0}],children:_.jsx(Zn,{placeholder:"Example: Facebook Ads Manager"})}),_.jsx(Je.Item,{name:"loginId",label:"Login ID",rules:[{required:!0}],children:_.jsx(Zn,{placeholder:"Email / Username"})}),_.jsx(Je.Item,{name:"password",label:"Password",rules:[{required:!0}],children:_.jsx(Zn.Password,{placeholder:"Enter password"})}),_.jsx(Je.Item,{name:"notes",label:"Notes",children:_.jsx(Zn.TextArea,{placeholder:"Optional notes"})})]})})]})}var C0={exports:{}},i8=C0.exports,FT;function s8(){return FT||(FT=1,function(t,e){(function(n,r){t.exports=r()})(i8,function(){return function(n,r,i){n=n||{};var s=r.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(d,h,g,m){return s.fromToBase(d,h,g,m)}i.en.relativeTime=a,s.fromToBase=function(d,h,g,m,v){for(var w,x,b,S=g.$locale().relativeTime||a,T=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],A=T.length,C=0;C<A;C+=1){var P=T[C];P.d&&(w=m?i(d).diff(g,P.d,!0):g.diff(d,P.d,!0));var V=(n.rounding||Math.round)(Math.abs(w));if(b=w>0,V<=P.r||!P.r){V<=1&&C>0&&(P=T[C-1]);var I=S[P.l];v&&(V=v(""+V)),x=typeof I=="string"?I.replace("%d",V):I(V,h,P.l,b);break}}if(h)return x;var j=b?S.future:S.past;return typeof j=="function"?j(x):j.replace("%s",x)},s.to=function(d,h){return c(d,h,this,!0)},s.from=function(d,h){return c(d,h,this)};var f=function(d){return d.$u?i.utc():i()};s.toNow=function(d){return this.to(f(this),d)},s.fromNow=function(d){return this.from(f(this),d)}}})}(C0)),C0.exports}var a8=s8();const Zp=Hp(a8);function o8({x:t,y:e,msg:n,onClose:r,onDeleteMe:i,onDeleteEveryone:s}){k.useEffect(()=>{const c=()=>r();return window.addEventListener("click",c),()=>window.removeEventListener("click",c)},[r]);const a={position:"fixed",top:e+6,left:t+6,zIndex:99999};return _.jsxs("div",{className:"ctx-menu",style:a,onMouseLeave:r,children:[_.jsx("div",{className:"ctx-item",onClick:()=>{r()},children:"Reply"}),_.jsx("div",{className:"ctx-item",onClick:()=>{var c,f;(f=(c=navigator.clipboard)==null?void 0:c.writeText)==null||f.call(c,n.text||""),r()},children:"Copy"}),_.jsx("div",{className:"ctx-item",onClick:()=>{r()},children:"Forward"}),_.jsx("hr",{}),_.jsx("div",{className:"ctx-item",onClick:()=>{i==null||i()},children:"Delete for me"}),_.jsx("div",{className:"ctx-item danger",onClick:()=>{s==null||s()},children:"Delete for everyone"})]})}function jD({attachment:t,onZoom:e}){if(!t||!t.url)return null;const n=t.url,r=t.filename||n.split("/").pop(),i=r.split(".").pop().toLowerCase(),s=["jpg","jpeg","png","gif","webp"].includes(i),a=["pdf","doc","docx","xls","xlsx","txt"].includes(i);if(s)return _.jsx("img",{src:n,alt:r,className:"msg-image",onClick:()=>e&&e(n),style:{cursor:"zoom-in"}});const c=i==="pdf"?_.jsx(SP,{className:"doc-icon"}):["doc","docx"].includes(i)?_.jsx(TP,{className:"doc-icon"}):["xls","xlsx"].includes(i)?_.jsx(AP,{className:"doc-icon"}):_.jsx(F0,{className:"doc-icon"});return a?_.jsxs("div",{className:"doc-bubble",children:[_.jsx("div",{className:"doc-icon-box",children:c}),_.jsxs("div",{className:"doc-info",children:[_.jsx("div",{className:"doc-filename",children:r}),_.jsx("div",{className:"doc-meta",children:"Document"})]}),_.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"doc-download",children:_.jsx(RR,{})})]}):null}var g1=function(t,e){return g1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},g1(t,e)};function PD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");g1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var V0=function(){return V0=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},V0.apply(this,arguments)};function Gc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function LD(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function BD(t,e){return function(n,r){e(n,r,t)}}function FD(t,e,n,r,i,s){function a(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var c=r.kind,f=c==="getter"?"get":c==="setter"?"set":"value",d=!e&&t?r.static?t:t.prototype:null,h=e||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),g,m=!1,v=n.length-1;v>=0;v--){var w={};for(var x in r)w[x]=x==="access"?{}:r[x];for(var x in r.access)w.access[x]=r.access[x];w.addInitializer=function(S){if(m)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(S||null))};var b=(0,n[v])(c==="accessor"?{get:h.get,set:h.set}:h[f],w);if(c==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(g=a(b.get))&&(h.get=g),(g=a(b.set))&&(h.set=g),(g=a(b.init))&&i.unshift(g)}else(g=a(b))&&(c==="field"?i.unshift(g):h[f]=g)}d&&Object.defineProperty(d,r.name,h),m=!0}function UD(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function HD(t){return typeof t=="symbol"?t:"".concat(t)}function zD(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function $D(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ye(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(h){try{d(r.next(h))}catch(g){a(g)}}function f(h){try{d(r.throw(h))}catch(g){a(g)}}function d(h){h.done?s(h.value):i(h.value).then(c,f)}d((r=r.apply(t,e||[])).next())})}function VD(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(h){return f([d,h])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Jp=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function qD(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Jp(e,t,n)}function q0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rx(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function WD(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Rx(arguments[e]));return t}function GD(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}function YD(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Ic(t){return this instanceof Ic?(this.v=t,this):new Ic(t)}function XD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(w){return Promise.resolve(w).then(v,g)}}function c(v,w){r[v]&&(i[v]=function(x){return new Promise(function(b,S){s.push([v,x,b,S])>1||f(v,x)})},w&&(i[v]=w(i[v])))}function f(v,w){try{d(r[v](w))}catch(x){m(s[0][3],x)}}function d(v){v.value instanceof Ic?Promise.resolve(v.value.v).then(h,g):m(s[0][2],v)}function h(v){f("next",v)}function g(v){f("throw",v)}function m(v,w){v(w),s.shift(),s.length&&f(s[0][0],s[0][1])}}function KD(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:Ic(t[i](a)),done:!1}:s?s(a):a}:s}}function QD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof q0=="function"?q0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(c,f){a=t[s](a),i(c,f,a.done,a.value)})}}function i(s,a,c,f){Promise.resolve(f).then(function(d){s({value:d,done:c})},a)}}function ZD(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var l8=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},m1=function(t){return m1=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},m1(t)};function JD(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=m1(t),r=0;r<n.length;r++)n[r]!=="default"&&Jp(e,t,n[r]);return l8(e,t),e}function eO(t){return t&&t.__esModule?t:{default:t}}function tO(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function nO(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function rO(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function iO(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var c8=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function sO(t){function e(s){t.error=t.hasError?new c8(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function aO(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,a){return r?e?".jsx":".js":i&&(!s||!a)?n:i+s+"."+a.toLowerCase()+"js"}):t}const u8={__extends:PD,__assign:V0,__rest:Gc,__decorate:LD,__param:BD,__esDecorate:FD,__runInitializers:UD,__propKey:HD,__setFunctionName:zD,__metadata:$D,__awaiter:Ye,__generator:VD,__createBinding:Jp,__exportStar:qD,__values:q0,__read:Rx,__spread:WD,__spreadArrays:GD,__spreadArray:YD,__await:Ic,__asyncGenerator:XD,__asyncDelegator:KD,__asyncValues:QD,__makeTemplateObject:ZD,__importStar:JD,__importDefault:eO,__classPrivateFieldGet:tO,__classPrivateFieldSet:nO,__classPrivateFieldIn:rO,__addDisposableResource:iO,__disposeResources:sO,__rewriteRelativeImportExtension:aO},f8=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:iO,get __assign(){return V0},__asyncDelegator:KD,__asyncGenerator:XD,__asyncValues:QD,__await:Ic,__awaiter:Ye,__classPrivateFieldGet:tO,__classPrivateFieldIn:rO,__classPrivateFieldSet:nO,__createBinding:Jp,__decorate:LD,__disposeResources:sO,__esDecorate:FD,__exportStar:qD,__extends:PD,__generator:VD,__importDefault:eO,__importStar:JD,__makeTemplateObject:ZD,__metadata:$D,__param:BD,__propKey:HD,__read:Rx,__rest:Gc,__rewriteRelativeImportExtension:aO,__runInitializers:UD,__setFunctionName:zD,__spread:WD,__spreadArray:YD,__spreadArrays:GD,__values:q0,default:u8},Symbol.toStringTag,{value:"Module"})),d8=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Dx extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class h8 extends Dx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class UT extends Dx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class HT extends Dx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var v1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(v1||(v1={}));class p8{constructor(e,{headers:n={},customFetch:r,region:i=v1.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=d8(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ye(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:c,method:f,body:d,signal:h,timeout:g}=r;let m={},{region:v}=r;v||(v=this.region);const w=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,w.searchParams.set("forceFunctionRegion",v));let x;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(m["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(m["Content-Type"]="application/json",x=JSON.stringify(d)):x=d;let b=h;g&&(a=new AbortController,s=setTimeout(()=>a.abort(),g),h?(b=a.signal,h.addEventListener("abort",()=>a.abort())):b=a.signal);const S=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),c),body:x,signal:b}).catch(P=>{throw new h8(P)}),T=S.headers.get("x-relay-error");if(T&&T==="true")throw new UT(S);if(!S.ok)throw new HT(S);let A=((i=S.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield S.json():A==="application/octet-stream"||A==="application/pdf"?C=yield S.blob():A==="text/event-stream"?C=S:A==="multipart/form-data"?C=yield S.formData():C=yield S.text(),{data:C,error:null,response:S}}catch(c){return{data:null,error:c,response:c instanceof HT||c instanceof UT?c.context:void 0}}finally{s&&clearTimeout(s)}})}}var or={};const Yc=EP(f8);var Bh={},Fh={},Uh={},Hh={},zh={},$h={},zT;function oO(){if(zT)return $h;zT=1,Object.defineProperty($h,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return $h.default=t,$h}var $T;function lO(){if($T)return zh;$T=1,Object.defineProperty(zh,"__esModule",{value:!0});const e=Yc.__importDefault(oO());class n{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var d,h,g,m;let v=null,w=null,x=null,b=f.status,S=f.statusText;if(f.ok){if(this.method!=="HEAD"){const P=await f.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?w=P:w=JSON.parse(P))}const A=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");A&&C&&C.length>1&&(x=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(v={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,x=null,b=406,S="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const A=await f.text();try{v=JSON.parse(A),Array.isArray(v)&&f.status===404&&(w=[],v=null,b=200,S="OK")}catch{f.status===404&&A===""?(b=204,S="No Content"):v={message:A}}if(v&&this.isMaybeSingle&&(!((m=v==null?void 0:v.details)===null||m===void 0)&&m.includes("0 rows"))&&(v=null,b=200,S="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:w,count:x,status:b,statusText:S}});return this.shouldThrowOnError||(c=c.catch(f=>{var d,h,g,m,v,w;let x="";const b=f==null?void 0:f.cause;if(b){const S=(d=b==null?void 0:b.message)!==null&&d!==void 0?d:"",T=(h=b==null?void 0:b.code)!==null&&h!==void 0?h:"";x=`${(g=f==null?void 0:f.name)!==null&&g!==void 0?g:"FetchError"}: ${f==null?void 0:f.message}`,x+=`

Caused by: ${(m=b==null?void 0:b.name)!==null&&m!==void 0?m:"Error"}: ${S}`,T&&(x+=` (${T})`),b!=null&&b.stack&&(x+=`
${b.stack}`)}else x=(v=f==null?void 0:f.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(w=f==null?void 0:f.name)!==null&&w!==void 0?w:"FetchError"}: ${f==null?void 0:f.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,s)}returns(){return this}overrideTypes(){return this}}return zh.default=n,zh}var VT;function cO(){if(VT)return Hh;VT=1,Object.defineProperty(Hh,"__esModule",{value:!0});const e=Yc.__importDefault(lO());class n extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:c,referencedTable:f=c}={}){const d=f?`${f}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:c=a}={}){const f=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:c=!1,wal:f=!1,format:d="text"}={}){var h;const g=[i?"analyze":null,s?"verbose":null,a?"settings":null,c?"buffers":null,f?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Hh.default=n,Hh}var qT;function Ox(){if(qT)return Uh;qT=1,Object.defineProperty(Uh,"__esModule",{value:!0});const e=Yc.__importDefault(cO()),n=new RegExp("[,()]");class r extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const c=Array.from(new Set(a)).map(f=>typeof f=="string"&&n.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:c,type:f}={}){let d="";f==="plain"?d="pl":f==="phrase"?d="ph":f==="websearch"&&(d="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${d}fts${h}.${a}`),this}match(s){return Object.entries(s).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(s,a,c){return this.url.searchParams.append(s,`not.${a}.${c}`),this}or(s,{foreignTable:a,referencedTable:c=a}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${s})`),this}filter(s,a,c){return this.url.searchParams.append(s,`${a}.${c}`),this}}return Uh.default=r,Uh}var WT;function uO(){if(WT)return Fh;WT=1,Object.defineProperty(Fh,"__esModule",{value:!0});const e=Yc.__importDefault(Ox());class n{constructor(i,{headers:s={},schema:a,fetch:c}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=c}select(i,s){const{head:a=!1,count:c}=s??{},f=a?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var c;const f="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:c,defaultToNull:f=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),c&&this.headers.append("Prefer",`count=${c}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(g.length>0){const m=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:s}={}){var a;const c="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Fh.default=n,Fh}var GT;function g8(){if(GT)return Bh;GT=1,Object.defineProperty(Bh,"__esModule",{value:!0});const t=Yc,e=t.__importDefault(uO()),n=t.__importDefault(Ox());class r{constructor(s,{headers:a={},schema:c,fetch:f}={}){this.url=s,this.headers=new Headers(a),this.schemaName=c,this.fetch=f}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:c=!1,get:f=!1,count:d}={}){var h;let g;const m=new URL(`${this.url}/rpc/${s}`);let v;c||f?(g=c?"HEAD":"GET",Object.entries(a).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{m.searchParams.append(x,b)})):(g="POST",v=a);const w=new Headers(this.headers);return d&&w.set("Prefer",`count=${d}`),new n.default({method:g,url:m,headers:w,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Bh.default=r,Bh}var YT;function m8(){if(YT)return or;YT=1,Object.defineProperty(or,"__esModule",{value:!0}),or.PostgrestError=or.PostgrestBuilder=or.PostgrestTransformBuilder=or.PostgrestFilterBuilder=or.PostgrestQueryBuilder=or.PostgrestClient=void 0;const t=Yc,e=t.__importDefault(g8());or.PostgrestClient=e.default;const n=t.__importDefault(uO());or.PostgrestQueryBuilder=n.default;const r=t.__importDefault(Ox());or.PostgrestFilterBuilder=r.default;const i=t.__importDefault(cO());or.PostgrestTransformBuilder=i.default;const s=t.__importDefault(lO());or.PostgrestBuilder=s.default;const a=t.__importDefault(oO());return or.PostgrestError=a.default,or.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},or}var fO=m8();const dO=Hp(fO),v8=UP({__proto__:null,default:dO},[fO]),{PostgrestClient:y8,PostgrestQueryBuilder:Hce,PostgrestFilterBuilder:zce,PostgrestTransformBuilder:$ce,PostgrestBuilder:Vce,PostgrestError:qce}=dO||v8;class x8{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const _8="2.84.0",w8=`realtime-js/${_8}`,hO="1.0.0",b8="2.0.0",XT=hO,y1=1e4,E8=1e3,S8=100;var Do;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Do||(Do={}));var On;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(On||(On={}));var Mi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Mi||(Mi={}));var x1;(function(t){t.websocket="websocket"})(x1||(x1={}));var Oo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Oo||(Oo={}));class T8{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,i,s;const a=e.topic,c=(n=e.ref)!==null&&n!==void 0?n:"",f=(r=e.join_ref)!==null&&r!==void 0?r:"",d=e.payload.event,h=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0),g=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+c.length+a.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+g);let v=new DataView(m),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,f.length),v.setUint8(w++,c.length),v.setUint8(w++,a.length),v.setUint8(w++,d.length),v.setUint8(w++,this.BINARY_ENCODING),Array.from(f,b=>v.setUint8(w++,b.charCodeAt(0))),Array.from(c,b=>v.setUint8(w++,b.charCodeAt(0))),Array.from(a,b=>v.setUint8(w++,b.charCodeAt(0))),Array.from(d,b=>v.setUint8(w++,b.charCodeAt(0)));var x=new Uint8Array(m.byteLength+h.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(h),m.byteLength),x.buffer}_encodeJsonUserBroadcastPush(e){var n,r,i,s;const a=e.topic,c=(n=e.ref)!==null&&n!==void 0?n:"",f=(r=e.join_ref)!==null&&r!==void 0?r:"",d=e.payload.event,h=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},m=new TextEncoder().encode(JSON.stringify(h)).buffer,v=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+c.length+a.length+d.length,w=new ArrayBuffer(this.HEADER_LENGTH+v);let x=new DataView(w),b=0;x.setUint8(b++,this.KINDS.userBroadcastPush),x.setUint8(b++,f.length),x.setUint8(b++,c.length),x.setUint8(b++,a.length),x.setUint8(b++,d.length),x.setUint8(b++,this.JSON_ENCODING),Array.from(f,T=>x.setUint8(b++,T.charCodeAt(0))),Array.from(c,T=>x.setUint8(b++,T.charCodeAt(0))),Array.from(a,T=>x.setUint8(b++,T.charCodeAt(0))),Array.from(d,T=>x.setUint8(b++,T.charCodeAt(0)));var S=new Uint8Array(w.byteLength+m.byteLength);return S.set(new Uint8Array(w),0),S.set(new Uint8Array(m),w.byteLength),S.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,a,c,f]=r;return n({join_ref:i,ref:s,topic:a,event:c,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),c=n.getUint8(4);let f=this.HEADER_LENGTH+4;const d=r.decode(e.slice(f,f+i));f=f+i;const h=r.decode(e.slice(f,f+s));f=f+s;const g=r.decode(e.slice(f,f+a));f=f+a;const m=e.slice(f,e.byteLength),v=c===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,w={type:this.BROADCAST_EVENT,event:h,payload:v};return a>0&&(w.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}let pO=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Vt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Vt||(Vt={}));const KT=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=A8(a,t,e,i),s),{}):{}},A8=(t,e,n,r)=>{const i=e.find(c=>c.name===t),s=i==null?void 0:i.type,a=n[t];return s&&!r.includes(s)?gO(s,a):_1(a)},gO=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return O8(e,n)}switch(t){case Vt.bool:return C8(e);case Vt.float4:case Vt.float8:case Vt.int2:case Vt.int4:case Vt.int8:case Vt.numeric:case Vt.oid:return R8(e);case Vt.json:case Vt.jsonb:return D8(e);case Vt.timestamp:return k8(e);case Vt.abstime:case Vt.date:case Vt.daterange:case Vt.int4range:case Vt.int8range:case Vt.money:case Vt.reltime:case Vt.text:case Vt.time:case Vt.timestamptz:case Vt.timetz:case Vt.tsrange:case Vt.tstzrange:return _1(e);default:return _1(e)}},_1=t=>t,C8=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},R8=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},D8=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},O8=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(c=>gO(e,c))}return t},k8=t=>typeof t=="string"?t.replace(" ","T"):t,mO=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class zv{constructor(e,n,r={},i=y1){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var QT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(QT||(QT={}));class yf{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yf.syncState(this.state,i,s,a),this.pendingDiffs.forEach(f=>{this.state=yf.syncDiff(this.state,f,s,a)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=yf.syncDiff(this.state,i,s,a),c())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),c={},f={};return this.map(s,(d,h)=>{a[d]||(f[d]=h)}),this.map(a,(d,h)=>{const g=s[d];if(g){const m=h.map(b=>b.presence_ref),v=g.map(b=>b.presence_ref),w=h.filter(b=>v.indexOf(b.presence_ref)<0),x=g.filter(b=>m.indexOf(b.presence_ref)<0);w.length>0&&(c[d]=w),x.length>0&&(f[d]=x)}else c[d]=h}),this.syncDiff(s,{joins:c,leaves:f},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(c,f)=>{var d;const h=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(f),h.length>0){const g=e[c].map(v=>v.presence_ref),m=h.filter(v=>g.indexOf(v.presence_ref)<0);e[c].unshift(...m)}r(c,h,f)}),this.map(a,(c,f)=>{let d=e[c];if(!d)return;const h=f.map(g=>g.presence_ref);d=d.filter(g=>h.indexOf(g.presence_ref)<0),e[c]=d,i(c,d,f),d.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ZT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ZT||(ZT={}));var xf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xf||(xf={}));var Is;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Is||(Is={}));class kx{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=On.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zv(this,Mi.join,this.params,this.timeout),this.rejoinTimer=new pO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=On.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=On.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mi.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new yf(this),this.broadcastEndpointURL=mO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==On.closed){const{config:{broadcast:a,presence:c,private:f}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[xf.PRESENCE]&&this.bindings[xf.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},m={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:h}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Is.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Is.CLOSED)),this.updateJoinPayload(Object.assign({config:m},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e==null||e(Is.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(w=x==null?void 0:x.length)!==null&&w!==void 0?w:0,S=[];for(let T=0;T<b;T++){const A=x[T],{filter:{event:C,schema:P,table:V,filter:I}}=A,j=v&&v[T];if(j&&j.event===C&&j.schema===P&&j.table===V&&j.filter===I)S.push(Object.assign(Object.assign({},A),{id:j.id}));else{this.unsubscribe(),this.state=On.errored,e==null||e(Is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Is.SUBSCRIBED);return}}).receive("error",v=>{this.state=On.errored,e==null||e(Is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===On.joined&&e===xf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let f=c.statusText;try{const d=await c.json();f=d.error||d.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,f;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=On.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new zv(this,Mi.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=On.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zv(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>S8){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:c,error:f,leave:d,join:h}=Mi;if(r&&[c,f,d,h].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var w,x,b;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(x=v.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(v=>v.callback(m,r)):(s=this.bindings[a])===null||s===void 0||s.filter(v=>{var w,x,b,S,T,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const C=v.id,P=(w=v.filter)===null||w===void 0?void 0:w.event;return C&&((x=n.ids)===null||x===void 0?void 0:x.includes(C))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const C=(T=(S=v==null?void 0:v.filter)===null||S===void 0?void 0:S.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return C==="*"||C===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:x,table:b,commit_timestamp:S,type:T,errors:A}=w;m=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:S,eventType:T,new:{},old:{},errors:A}),this._getPayloadRecords(w))}v.callback(m,r)})}_isClosed(){return this.state===On.closed}_isJoined(){return this.state===On.joined}_isJoining(){return this.state===On.joining}_isLeaving(){return this.state===On.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&kx.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Mi.close,{},e)}_onError(e){this._on(Mi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=On.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=KT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=KT(e.columns,e.old_record)),n}}const $v=()=>{},Vh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},N8=[1e3,2e3,5e3,1e4],I8=1e4,M8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class j8{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=y1,this.transport=null,this.heartbeatIntervalMs=Vh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$v,this.ref=0,this.reconnectTimer=null,this.vsn=XT,this.logger=$v,this.conn=null,this.sendBuffer=[],this.serializer=new T8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${x1.websocket}`,this.httpEndpoint=mO(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=x8.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Do.connecting:return Oo.Connecting;case Do.open:return Oo.Open;case Do.closing:return Oo.Closing;default:return Oo.Closed}}isConnected(){return this.connectionState()===Oo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new kx(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(E8,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Vh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,c=a?`(${a})`:"",f=s.status||"";this.log("receive",`${f} ${r} ${i} ${c}`.trim(),s),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Do.open||this.conn.readyState===Do.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Mi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([M8],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:w8};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Mi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new pO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,c,f,d,h,g,m,v;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:y1,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Vh.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:$v,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:XT,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:w=>N8[w-1]||I8,this.vsn){case hO:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(w,x)=>x(JSON.stringify(w)),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:(w,x)=>x(JSON.parse(w));break;case b8:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Nx extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function tn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class P8 extends Nx{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class w1 extends Nx{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Ix=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),L8=()=>Response,b1=t=>{if(Array.isArray(t))return t.map(n=>b1(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=b1(r)}),e},B8=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Vv=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},F8=(t,e,n)=>Ye(void 0,void 0,void 0,function*(){const r=yield L8();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new P8(Vv(i),s,a))}).catch(i=>{e(new w1(Vv(i),i))}):e(new w1(Vv(t),t))}),U8=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(B8(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function ud(t,e,n,r,i,s){return Ye(this,void 0,void 0,function*(){return new Promise((a,c)=>{t(n,U8(e,r,i,s)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>a(f)).catch(f=>F8(f,c,r))})})}function Nf(t,e,n,r){return Ye(this,void 0,void 0,function*(){return ud(t,"GET",e,n,r)})}function Ni(t,e,n,r,i){return Ye(this,void 0,void 0,function*(){return ud(t,"POST",e,r,i,n)})}function E1(t,e,n,r,i){return Ye(this,void 0,void 0,function*(){return ud(t,"PUT",e,r,i,n)})}function H8(t,e,n,r){return Ye(this,void 0,void 0,function*(){return ud(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Mx(t,e,n,r,i){return Ye(this,void 0,void 0,function*(){return ud(t,"DELETE",e,r,i,n)})}class z8{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Ye(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tn(e))return{data:null,error:e};throw e}})}}var vO;class $8{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[vO]="BlobDownloadBuilder",this.promise=null}asStream(){return new z8(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ye(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tn(e))return{data:null,error:e};throw e}})}}vO=Symbol.toStringTag;const V8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},JT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class q8{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ix(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return Ye(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},JT),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const f=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),f&&s.append("metadata",this.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),f&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(f))):(s=r,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,f&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),g=yield(e=="PUT"?E1:Ni)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:c},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tn(s))return{data:null,error:s};throw s}})}upload(e,n,r){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Ye(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),c=new URL(this.url+`/object/upload/sign/${a}`);c.searchParams.set("token",n);try{let f;const d=Object.assign({upsert:JT.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",d.cacheControl)):(f=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const g=yield E1(this.fetch,c.toString(),f,{headers:h});return{data:{path:s,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(tn(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return Ye(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Ni(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),c=a.searchParams.get("token");if(!c)throw new Nx("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Ye(this,void 0,void 0,function*(){try{return{data:{path:(yield Ni(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Ye(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Ni(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Ye(this,void 0,void 0,function*(){try{const i=yield Ni(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"",c=this._getFinalPath(e),f=()=>Nf(this.fetch,`${this.url}/${i}/${c}${a}`,{headers:this.headers,noResolveJson:!0});return new $8(f,this.shouldThrowOnError)}info(e){return Ye(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Nf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:b1(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}exists(e){return Ye(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield H8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r)&&r instanceof w1){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${d}`)}}}remove(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ye(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},V8),n),{prefix:e||""});return{data:yield Ni(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}listV2(e,n){return Ye(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ni(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const yO="2.84.0",xO={"X-Client-Info":`storage-js/${yO}`};class W8{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xO),n),this.fetch=Ix(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ye(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Nf(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}})}getBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}})}createBucket(e){return Ye(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ni(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Ye(this,void 0,void 0,function*(){try{return{data:yield E1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class G8{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xO),n),this.fetch=Ix(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}})}listBuckets(e){return Ye(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Nf(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}})}}const jx={"X-Client-Info":`storage-js/${yO}`,"Content-Type":"application/json"};class _O extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Zr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class qv extends _O{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Y8 extends _O{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var eA;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(eA||(eA={}));const Px=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),X8=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},tA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),K8=(t,e,n)=>Ye(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const c=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new qv(tA(a),i,c))}).catch(()=>{const a=i+"",c=s.statusText||`HTTP ${i} error`;e(new qv(c,i,a))});else{const a=i+"",c=s.statusText||`HTTP ${i} error`;e(new qv(c,i,a))}}else e(new Y8(tA(t),t))}),Q8=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(X8(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function Z8(t,e,n,r,i,s){return Ye(this,void 0,void 0,function*(){return new Promise((a,c)=>{t(n,Q8(e,r,i,s)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;const d=f.headers.get("content-type");return!d||!d.includes("application/json")?{}:f.json()}).then(f=>a(f)).catch(f=>K8(f,c,r))})})}function Jr(t,e,n,r,i){return Ye(this,void 0,void 0,function*(){return Z8(t,"POST",e,r,i,n)})}class J8{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jx),n),this.fetch=Px(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Jr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zr(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Ye(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zr(r))return{data:null,error:r};throw r}})}listIndexes(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zr(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Jr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zr(r))return{data:null,error:r};throw r}})}}class eU{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jx),n),this.fetch=Px(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ye(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Jr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zr(n))return{data:null,error:n};throw n}})}getVectors(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zr(n))return{data:null,error:n};throw n}})}listVectors(e){return Ye(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Jr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zr(n))return{data:null,error:n};throw n}})}queryVectors(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zr(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Ye(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Jr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zr(n))return{data:null,error:n};throw n}})}}class tU{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jx),n),this.fetch=Px(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Jr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zr(n))return{data:null,error:n};throw n}})}getBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zr(n))return{data:null,error:n};throw n}})}listBuckets(){return Ye(this,arguments,void 0,function*(e={}){try{return{data:yield Jr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Jr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zr(n))return{data:null,error:n};throw n}})}}class nU extends tU{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new rU(this.url,this.headers,e,this.fetch)}}class rU extends J8{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ye(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ye(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ye(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ye(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new iU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class iU extends eU{constructor(e,n,r,i,s){super(e,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ye(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ye(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ye(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ye(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ye(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class sU extends W8{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new q8(this.url,this.headers,e,this.fetch)}get vectors(){return new nU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new G8(this.url+"/iceberg",this.headers,this.fetch)}}const aU="2.84.0";let ff="";typeof Deno<"u"?ff="deno":typeof document<"u"?ff="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ff="react-native":ff="node";const oU={"X-Client-Info":`supabase-js-${ff}/${aU}`},lU={headers:oU},cU={schema:"public"},uU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fU={},dU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hU=()=>Headers,pU=(t,e,n)=>{const r=dU(n),i=hU();return async(s,a)=>{var c;const f=(c=await e())!==null&&c!==void 0?c:t;let d=new i(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),r(s,Object.assign(Object.assign({},a),{headers:d}))}};function gU(t){return t.endsWith("/")?t:t+"/"}function mU(t,e){var n,r;const{db:i,auth:s,realtime:a,global:c}=t,{db:f,auth:d,realtime:h,global:g}=e,m={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function vU(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const wO="2.84.0",fc=30*1e3,S1=3,Wv=S1*fc,yU="http://localhost:9999",xU="supabase.auth.token",_U={"X-Client-Info":`gotrue-js/${wO}`},T1="X-Supabase-Api-Version",bO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bU=10*60*1e3;class If extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Xe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class EU extends If{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function SU(t){return Xe(t)&&t.name==="AuthApiError"}class ko extends If{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Qa extends If{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Gr extends Qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TU(t){return Xe(t)&&t.name==="AuthSessionMissingError"}class Zl extends Qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qh extends Qa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wh extends Qa{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AU(t){return Xe(t)&&t.name==="AuthImplicitGrantRedirectError"}class nA extends Qa{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class A1 extends Qa{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Gv(t){return Xe(t)&&t.name==="AuthRetryableFetchError"}class rA extends Qa{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class C1 extends Qa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const W0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iA=` 	
\r=`.split(""),CU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<iA.length;e+=1)t[iA[e].charCodeAt(0)]=-2;for(let e=0;e<W0.length;e+=1)t[W0[e].charCodeAt(0)]=e;return t})();function sA(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(W0[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(W0[r]),e.queuedBits-=6}}function EO(t,e,n){const r=CU[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function aA(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{OU(a,r,n)};for(let a=0;a<t.length;a+=1)EO(t.charCodeAt(a),i,s);return e.join("")}function RU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function DU(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}RU(r,e)}}function OU(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function xc(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)EO(t.charCodeAt(i),n,r);return new Uint8Array(e)}function kU(t){const e=[];return DU(t,n=>e.push(n)),new Uint8Array(e)}function Po(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>sA(i,n,r)),sA(null,n,r),e.join("")}function NU(t){return Math.round(Date.now()/1e3)+t}function IU(){return Symbol("auth-callback")}const Xn=()=>typeof window<"u"&&typeof document<"u",_o={tested:!1,writable:!1},SO=()=>{if(!Xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_o.tested)return _o.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_o.tested=!0,_o.writable=!0}catch{_o.tested=!0,_o.writable=!1}return _o.writable};function MU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const TO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",dc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},wo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_a=async(t,e)=>{await t.removeItem(e)};let AO=class CO{constructor(){this.promise=new CO.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};AO.promiseConstructor=Promise;function Yv(t){const e=t.split(".");if(e.length!==3)throw new C1("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!wU.test(e[r]))throw new C1("JWT not in base64url format");return{header:JSON.parse(aA(e[0])),payload:JSON.parse(aA(e[1])),signature:xc(e[2]),raw:{header:e[0],payload:e[1]}}}async function PU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function LU(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function BU(t){return("0"+t.toString(16)).substr(-2)}function FU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,BU).join("")}async function UU(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function HU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await UU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jl(t,e,n=!1){const r=FU();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await dc(t,`${e}-code-verifier`,i);const s=await HU(r);return[s,r===s?"plain":"s256"]}const zU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $U(t){const e=t.headers.get(T1);if(!e||!e.match(zU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function VU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function qU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ec(t){if(!WU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xv(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function GU(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function oA(t){return JSON.parse(JSON.stringify(t))}const So=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),YU=[502,503,504];async function lA(t){var e;if(!jU(t))throw new A1(So(t),0);if(YU.includes(t.status))throw new A1(So(t),t.status);let n;try{n=await t.json()}catch(s){throw new ko(So(s),s)}let r;const i=$U(t);if(i&&i.getTime()>=bO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new rA(So(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Gr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new rA(So(n),t.status,n.weak_password.reasons);throw new EU(So(n),t.status||500,r)}const XU=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function it(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[T1]||(s[T1]=bO["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",f=await KU(t,e,n+c,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function KU(t,e,n,r,i,s){const a=XU(e,r,i,s);let c;try{c=await t(n,Object.assign({},a))}catch(f){throw console.error(f),new A1(So(f),0)}if(c.ok||await lA(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(f){await lA(f)}}function ki(t){var e;let n=null;JU(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=NU(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function cA(t){const e=ki(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ca(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function QU(t){return{data:t,error:null}}function ZU(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=Gc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},f=Object.assign({},a);return{data:{properties:c,user:f},error:null}}function uA(t){return t}function JU(t){return t.access_token&&t.refresh_token&&t.expires_in}const Kv=["global","local","others"];class e5{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=TO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Kv[0]){if(Kv.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kv.join(", ")}`);try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ca})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Gc(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ZU,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ca})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,c,f;try{const d={nextPage:null,lastPage:0,total:0},h=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:uA});if(h.error)throw h.error;const g=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(f=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);d[`${b}Page`]=x}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Xe(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){ec(e);try{return await it(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ca})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ec(e);try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ca})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ec(e);try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ca})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ec(e.userId);try{const{data:n,error:r}=await it(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ec(e.userId),ec(e.id);try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,c,f;try{const d={nextPage:null,lastPage:0,total:0},h=await it(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:uA});if(h.error)throw h.error;const g=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(f=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);d[`${b}Page`]=x}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Xe(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await it(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await it(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await it(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}}function fA(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const tc={debug:!!(globalThis&&SO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class RO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class t5 extends RO{}async function n5(t,e,n){tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),tc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new t5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(tc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function r5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function DO(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function i5(t){return parseInt(t,16)}function s5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function a5(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:c,requestId:f,resources:d,scheme:h,uri:g,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=DO(t.address),w=h?`${h}://${r}`:r,x=t.statement?`${t.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${v}

${x}`;let S=`URI: ${g}
Version: ${m}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(S+=`
Expiration Time: ${i.toISOString()}`),c&&(S+=`
Not Before: ${c.toISOString()}`),f&&(S+=`
Request ID: ${f}`),d){let T=`
Resources:`;for(const A of d){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);T+=`
- ${A}`}S+=T}return`${b}
${S}`}class bn extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class G0 extends bn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function o5({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new bn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new bn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new bn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new bn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new bn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new bn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new bn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(OO(a)){if(s.rp.id!==a)return new bn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new bn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new bn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function l5({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new bn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(OO(r)){if(n.rpId!==r)return new bn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new bn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class c5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const u5=new c5;function f5(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Gc(t,["challenge","user","excludeCredentials"]),s=xc(e).buffer,a=Object.assign(Object.assign({},n),{id:xc(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const d=r[f];c.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:xc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function d5(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Gc(t,["challenge","allowCredentials"]),i=xc(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const c=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},c),{id:xc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function h5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Po(new Uint8Array(t.response.attestationObject)),clientDataJSON:Po(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function p5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Po(new Uint8Array(i.authenticatorData)),clientDataJSON:Po(new Uint8Array(i.clientDataJSON)),signature:Po(new Uint8Array(i.signature)),userHandle:i.userHandle?Po(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function OO(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function dA(){var t,e;return!!(Xn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function g5(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new G0("Browser returned unexpected credential type",e)}:{data:null,error:new G0("Empty credential response",e)}}catch(e){return{data:null,error:o5({error:e,options:t})}}}async function m5(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new G0("Browser returned unexpected credential type",e)}:{data:null,error:new G0("Empty credential response",e)}}catch(e){return{data:null,error:l5({error:e,options:t})}}}const v5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},y5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Y0(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const c=r[s];e(c)?r[s]=Y0(c,a):r[s]=Y0(a)}else r[s]=a}return r}function x5(t,e){return Y0(v5,t,e||{})}function _5(t,e){return Y0(y5,t,e||{})}class w5{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:c};const f=i??u5.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=x5(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:g}=await g5({publicKey:d,signal:f});return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}case"request":{const d=_5(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:g}=await m5(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:f}));return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}}}catch(a){return Xe(a)?{data:null,error:a}:{data:null,error:new ko("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new If("rpId is required for WebAuthn authentication")};try{if(!dA())return{data:null,error:new ko("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:c};const{webauthn:f}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(a){return Xe(a)?{data:null,error:a}:{data:null,error:new ko("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new If("rpId is required for WebAuthn registration")};try{if(!dA())return{data:null,error:new ko("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var g;return(g=h.data)===null||g===void 0?void 0:g.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:c};const{data:f,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return f?this._verify({factorId:a.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(a){return Xe(a)?{data:null,error:a}:{data:null,error:new ko("Unexpected error in register",a)}}}}r5();const b5={url:yU,storageKey:xU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_U,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function hA(t,e,n){return await n()}const nc={};class Mf{get jwks(){var e,n;return(n=(e=nc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){nc[this.storageKey]=Object.assign(Object.assign({},nc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=nc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){nc[this.storageKey]=Object.assign(Object.assign({},nc[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},b5),e);if(this.storageKey=s.storageKey,this.instanceID=(n=Mf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Mf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Xn()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new e5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=TO(s.fetch),this.lock=s.lock||hA,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Xn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=n5:this.lock=hA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new w5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:SO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fA(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=fA(this.memoryStorage)),Xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wO}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Xn()&&(n=MU(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Xn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),AU(s)){const f=(e=s.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Xe(n)?this._returnResult({error:n}):this._returnResult({error:new ko("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ki}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});const f=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(s){if(Xe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:h,password:g,options:m}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Jl(this.storage,this.storageKey)),s=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:g,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:w},xform:ki})}else if("phone"in e){const{phone:h,password:g,options:m}=e;s=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ki})}else throw new qh("You must provide either an email or phone number and a password");const{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});const f=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(s){if(Xe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:c}=e;n=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:cA})}else if("phone"in e){const{phone:s,password:a,options:c}=e;n=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:cA})}else throw new qh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new Zl;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,c,f,d,h,g,m;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:x,wallet:b,statement:S,options:T}=e;let A;if(Xn())if(typeof b=="object")A=b;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")A=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=b}const C=new URL((n=T==null?void 0:T.url)!==null&&n!==void 0?n:window.location.href),P=await A.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=DO(P[0]);let I=(r=T==null?void 0:T.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const L=await A.request({method:"eth_chainId"});I=i5(L)}const j={domain:C.host,address:V,statement:S,uri:C.href,version:"1",chainId:I,nonce:(i=T==null?void 0:T.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=T==null?void 0:T.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=T==null?void 0:T.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(f=T==null?void 0:T.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=T==null?void 0:T.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=T==null?void 0:T.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=a5(j),w=await A.request({method:"personal_sign",params:[s5(v),V]})}try{const{data:x,error:b}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ki});if(b)throw b;if(!x||!x.session||!x.user){const S=new Zl;return this._returnResult({data:{user:null,session:null},error:S})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(Xe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var n,r,i,s,a,c,f,d,h,g,m,v;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:b,wallet:S,statement:T,options:A}=e;let C;if(Xn())if(typeof S=="object")C=S;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))C=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const P=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const V=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),T?{statement:T}:null));let I;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")I=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)I=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)w=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),x=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${P.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((a=A==null?void 0:A.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((g=(h=A==null?void 0:A.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...A.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const V=await C.signMessage(new TextEncoder().encode(w),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=V}}try{const{data:b,error:S}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Po(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ki});if(S)throw S;if(!b||!b.session||!b.user){const T=new Zl;return this._returnResult({data:{user:null,session:null},error:T})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:S})}catch(b){if(Xe(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await wo(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ki});if(await _a(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const c=new Zl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Xe(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,c=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ki}),{data:f,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f||!f.session||!f.user){const h=new Zl;return this._returnResult({data:{user:null,session:null},error:h})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:d})}catch(n){if(Xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:c,options:f}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Jl(this.storage,this.storageKey));const{error:g}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:c,options:f}=e,{data:d,error:h}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new qh("You must provide either an email or phone number.")}catch(c){if(Xe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:c}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ki});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const f=a.session,d=a.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(i){if(Xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,a;try{let c=null,f=null;this.flowType==="pkce"&&([c,f]=await Jl(this.storage,this.storageKey));const d=await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:QU});return!((s=d.data)===null||s===void 0)&&s.url&&Xn()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(Xe(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Gr;const{error:i}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Xe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await it(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:c}=await it(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:c})}throw new qh("You must provide either an email or phone number and a type")}catch(n){if(Xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await wo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Wv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await wo(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Xv()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=GU(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ca}):await this._useSession(async n=>{var r,i,s;const{data:a,error:c}=n;if(c)throw c;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gr}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ca})})}catch(n){if(Xe(n))return TU(n)&&(await this._removeSession(),await _a(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Gr;const a=i.session;let c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=await Jl(this.storage,this.storageKey));const{data:d,error:h}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:a.access_token,xform:Ca});if(h)throw h;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(Xe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Gr;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=Yv(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:c,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:f}=await this._getUser(e.access_token);if(f)throw f;s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(Xe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:c}=n;if(c)throw c;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Gr;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Xn())throw new Wh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new nA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new nA("No code detected.");const{data:T,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:f,token_type:d}=e;if(!s||!c||!a||!d)throw new Wh("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(c);let m=h+g;f&&(m=parseInt(f));const v=m-h;v*1e3<=fc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const w=m-g;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,h);const{data:x,error:b}=await this._getUser(s);if(b)throw b;const S={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:g,expires_at:m,refresh_token:a,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:e.type},error:null})}catch(r){if(Xe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await wo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:c}=await this.admin.signOut(a,e);if(c&&!(SU(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await _a(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=IU(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Jl(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Xe(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,c,f,d,h;const{data:g,error:m}=s;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Xn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Xe(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:c,token:f,access_token:d,nonce:h}=e,g=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:f,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ki}),{data:m,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Zl}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:v}))}catch(i){if(Xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await LU(async i=>(i>0&&await PU(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ki})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Gv(s)&&Date.now()+a-r<fc})}catch(r){if(this._debug(n,"error",r),Xe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Xn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await wo(this.storage,this.storageKey);if(i&&this.userStorage){let a=await wo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await dc(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Xv()}else if(i&&!i.user&&!i.user){const a=await wo(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await _a(this.storage,this.storageKey+"-user"),await dc(this.storage,this.storageKey,i)):i.user=Xv()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Wv;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Wv}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Gv(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:c}=await this._getUser(i.access_token);!c&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Gr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new AO;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Gr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),Xe(s)){const a={data:null,error:s};return Gv(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(f){s.push(f)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await dc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=oA(i);await dc(this.storage,this.storageKey,s)}else{const i=oA(n);await dc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await _a(this.storage,this.storageKey),await _a(this.storage,this.storageKey+"-code-verifier"),await _a(this.storage,this.storageKey+"-user"),this.userStorage&&await _a(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/fc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${fc}ms, refresh threshold is ${S1} ticks`),i<=S1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof RO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Jl(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await it(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:d}=await it(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?h5(e.webauthn.credential_response):p5(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:f}=await it(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:f}))})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await it(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f5(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d5(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Yv(r.access_token);let a=null;s.aal&&(a=s.aal);let c=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await it(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Gr})})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Gr});const a=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Xn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Gr});const a=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Xn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await it(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Gr})})}catch(e){if(Xe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await it(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Gr})})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+bU>i)return r;const{data:s,error:a}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return this._returnResult({data:null,error:w});r=v.session.access_token}const{header:i,payload:s,signature:a,raw:{header:c,payload:f}}=Yv(r);n!=null&&n.allowExpired||VU(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:i,signature:a},error:null}}const h=qU(i.alg),g=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,a,kU(`${c}.${f}`)))throw new C1("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}}Mf.nextInstanceID={};const E5=Mf;class S5 extends E5{constructor(e){super(e)}}class T5{constructor(e,n,r){var i,s,a;this.supabaseUrl=e,this.supabaseKey=n;const c=vU(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:cU,realtime:fU,auth:Object.assign(Object.assign({},uU),{storageKey:f}),global:lU},h=mU(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=pU(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new y8(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new sU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new p8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:a,flowType:c,lock:f,debug:d,throwOnError:h},g,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new S5({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),g),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:c,lock:f,debug:d,throwOnError:h,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new j8(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const A5=(t,e,n)=>new T5(t,e,n);function C5(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}C5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const R5="https://wortlvlevjjalywxebew.supabase.co",D5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndvcnRsdmxldmpqYWx5d3hlYmV3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5MDk1OTUsImV4cCI6MjA3OTQ4NTU5NX0.fxC-ZyChB73AYZm_0kBSDFO8FNvw5lqi1g7fdEcdS0U",pA=A5(R5,D5),Yn=[];for(let t=0;t<256;++t)Yn.push((t+256).toString(16).slice(1));function O5(t,e=0){return(Yn[t[e+0]]+Yn[t[e+1]]+Yn[t[e+2]]+Yn[t[e+3]]+"-"+Yn[t[e+4]]+Yn[t[e+5]]+"-"+Yn[t[e+6]]+Yn[t[e+7]]+"-"+Yn[t[e+8]]+Yn[t[e+9]]+"-"+Yn[t[e+10]]+Yn[t[e+11]]+Yn[t[e+12]]+Yn[t[e+13]]+Yn[t[e+14]]+Yn[t[e+15]]).toLowerCase()}let Qv;const k5=new Uint8Array(16);function N5(){if(!Qv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qv=crypto.getRandomValues.bind(crypto)}return Qv(k5)}const I5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gA={randomUUID:I5};function M5(t,e,n){var i;if(gA.randomUUID&&!t)return gA.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??N5();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,O5(r)}const mA="vrism";async function kO(t){if(!t)return null;try{const e=t.name.split(".").pop(),n=`chat/${M5()}.${e}`,{error:r}=await pA.storage.from(mA).upload(n,t,{cacheControl:"3600",upsert:!1,contentType:t.type});if(r)throw console.error("Supabase Upload Error:",r),new Error(`File upload failed: ${r.message}`);const{data:i}=pA.storage.from(mA).getPublicUrl(n);if(!(i!=null&&i.publicUrl))throw new Error("Could not retrieve public URL after successful upload.");return{url:i.publicUrl,filename:t.name}}catch(e){return console.error("Error in uploadFile:",e),null}}const Lx="/assets/chat-DWNZUXn_.png";Ze.extend(Zp);function j5({users:t,activeUser:e,onUserSelect:n,searchTerm:r,setSearchTerm:i,unreadMap:s,presenceMap:a,selectedIds:c,onDeleteMultiple:f}){return _.jsxs("div",{className:"users-panel",children:[_.jsx("div",{className:"top-chat-icon",children:_.jsx("img",{src:Lx,className:"chaticon",alt:"icon"})}),_.jsxs("div",{className:"users-header",children:[_.jsx("h4",{children:"Users"}),c.length>0&&_.jsxs("button",{className:"btn danger",onClick:f,children:[_.jsx(gf,{})," Delete (",c.length,")"]})]}),_.jsxs("div",{className:"search-bar",children:[_.jsx(DR,{className:"search-icon"}),_.jsx("input",{type:"text",placeholder:"Search users...",value:r,onChange:d=>i(d.target.value)})]}),_.jsx("div",{className:"users-list-scroll",children:t.map(d=>{var x;const h=a[d._id],g=(h==null?void 0:h.presence)==="online",m=s[d._id]||0,v=(h==null?void 0:h.lastActiveAt)||d.lastSeen||d.lastActiveAt,w=d.profileImage?_.jsx("img",{src:d.profileImage,alt:`${d.name}'s avatar`,className:"profile-image-thumb"}):(x=d.name)==null?void 0:x.charAt(0);return _.jsxs("div",{className:`user-item ${(e==null?void 0:e._id)===d._id?"active":""}`,onClick:()=>n(d),children:[_.jsxs("div",{className:"left-col",children:[_.jsx("div",{className:"avatar",children:w}),_.jsxs("div",{className:"u-info",children:[_.jsx("div",{className:"u-name",style:{fontWeight:m?700:600},children:d.name}),_.jsxs("div",{className:"u-sub",children:[_.jsx("span",{className:`dot ${g?"online":"offline"}`}),g?"Online":v?`Last: ${Ze(v).fromNow()}`:"Offline"]})]})]}),m>0&&_.jsx("div",{className:"unread-badge",children:m>99?"99+":m})]},d._id)})})]})}Ze.extend(Zp);const P5="https://vrism.haltnshine.com",lr=zo(P5,{transports:["websocket"],reconnection:!0});function L5(){var Ce;const t=JSON.parse(localStorage.getItem("user")||"{}"),{presenceMap:e}=k.useContext(ol),[n,r]=k.useState([]),[i,s]=k.useState([]),[a,c]=k.useState(null),[f,d]=k.useState([]),[h,g]=k.useState(""),[m,v]=k.useState({}),[w,x]=k.useState([]),[b,S]=k.useState(null),[T,A]=k.useState(null),[C,P]=k.useState(!1),[V,I]=k.useState({}),[j,L]=k.useState(null),[K,te]=k.useState(""),[X,ce]=k.useState(null),N=k.useRef(null),ee=k.useRef(null);k.useEffect(()=>{t!=null&&t._id&&(lr.emit("join_room",t._id),re())},[t==null?void 0:t._id]);const B=()=>setTimeout(()=>{var xe;return(xe=ee.current)==null?void 0:xe.scrollIntoView({behavior:"smooth"})},120),re=async()=>{if(t!=null&&t._id)try{const xe=await Ve.get(`/api/chat/unread-counts?userId=${t._id}`);I(xe.data||{})}catch(xe){console.error("Failed to load unread counts",xe)}},le=async()=>{try{const xe=await Ve.get(`/api/users/chat/list?userId=${t._id}`);r(xe.data||[])}catch(xe){console.error("load users:",xe)}};k.useEffect(()=>{le()},[]),k.useEffect(()=>{let xe=n;if(K.trim()){const J=K.toLowerCase();xe=xe.filter(Ae=>{var Pe;return(Pe=Ae.name)==null?void 0:Pe.toLowerCase().includes(J)})}xe=xe.sort((J,Ae)=>{const Pe=V[J._id]||0,We=V[Ae._id]||0;if(We!==Pe)return We-Pe;const qe=new Date(J.lastMessageAt||J.lastActiveAt||0);return new Date(Ae.lastMessageAt||Ae.lastActiveAt||0)-qe}),s(xe)},[n,V,K]);const ie=async xe=>{try{if(!(t!=null&&t._id)||!xe)return;await Ve.post("/api/chat/read",{from:xe,to:t._id});const J=await Ve.get(`/api/chat/${t._id}/${xe}`);d(J.data||[]),x([]),B(),I(Ae=>({...Ae,[xe]:0})),lr.emit("mark_read",{from:t._id,to:xe})}catch(J){console.error("load messages",J)}},Q=xe=>{var Ae;const J=(Ae=xe.target.files)==null?void 0:Ae[0];J&&(S(J),A(URL.createObjectURL(J)),P(!1))},ae=async()=>{if(!h.trim()&&!b||!a)return;let xe=[];if(b)try{const J=await kO(b);if(J)xe=[J];else return alert("File upload failed.")}catch{alert("File upload failed.");return}try{const J={from:t._id,to:a._id,text:h.trim(),attachments:xe},Pe=(await Ve.post("/api/chat",J)).data;d(We=>[...We,Pe]),g(""),S(null),T&&URL.revokeObjectURL(T),A(null),P(!1),B(),lr.emit("send_message",Pe)}catch{alert("Failed to send.")}},D=async xe=>{try{await Ve.delete(`/api/chat/${xe}`),d(J=>J.filter(Ae=>Ae._id!==xe)),x(J=>J.filter(Ae=>Ae!==xe))}catch(J){console.error(J)}},q=async xe=>{try{await Ve.post("/api/chat/delete-for-everyone",{id:xe}),d(J=>J.filter(Ae=>Ae._id!==xe)),lr.emit("delete_everyone",xe)}catch(J){console.error(J)}},z=async()=>{if(w.length)try{await Ve.post("/api/chat/delete-multiple",{ids:w}),d(xe=>xe.filter(J=>!w.includes(J._id))),x([])}catch(xe){console.error(xe)}},F=xe=>{c(xe),ie(xe._id)},se=xe=>xe?Ze(xe).format("hh:mm A"):"",be=(xe,J)=>{xe.preventDefault(),L({visible:!0,x:xe.clientX,y:xe.clientY,msg:J})},ke=(xe,J)=>{var We,qe,Oe,He;clearTimeout(N.current);const Ae=((qe=(We=xe.touches)==null?void 0:We[0])==null?void 0:qe.clientX)||xe.clientX,Pe=((He=(Oe=xe.touches)==null?void 0:Oe[0])==null?void 0:He.clientY)||xe.clientY;N.current=setTimeout(()=>L({visible:!0,x:Ae,y:Pe,msg:J}),600)},Ne=()=>clearTimeout(N.current);return k.useEffect(()=>(lr.off("new_message"),lr.off("typing"),lr.off("message_deleted_for_everyone"),lr.off("messages_read"),lr.on("new_message",xe=>{(xe.from===(a==null?void 0:a._id)&&xe.to===t._id||xe.to===(a==null?void 0:a._id)&&xe.from===t._id||xe.to===t._id)&&(xe.to===t._id&&(!a||a._id!==xe.from?I(Ae=>({...Ae,[xe.from]:(Ae[xe.from]||0)+1})):Ve.post("/api/chat/read",{from:xe.from,to:xe.to}).catch(()=>{})),d(Ae=>Ae.some(Pe=>String(Pe._id)===String(xe._id))?Ae:[...Ae,xe]),B())}),lr.on("typing",({from:xe})=>{v(J=>({...J,[xe]:!0})),setTimeout(()=>{v(J=>{const Ae={...J};return delete Ae[xe],Ae})},1500)}),lr.on("message_deleted_for_everyone",({id:xe})=>{d(J=>J.filter(Ae=>Ae._id!==xe))}),lr.on("messages_read",()=>{a&&d(xe=>xe.map(J=>J.from===t._id?{...J,read:!0}:J))}),()=>{lr.off("new_message"),lr.off("typing"),lr.off("message_deleted_for_everyone"),lr.off("messages_read")}),[a,t._id]),_.jsxs("div",{className:"chat-container",children:[_.jsx(j5,{users:i,activeUser:a,onUserSelect:F,searchTerm:K,setSearchTerm:te,unreadMap:V,presenceMap:e,selectedIds:w,onDeleteMultiple:z}),_.jsxs("div",{className:"chat-panel",children:[_.jsx("div",{className:"chat-header",children:a?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"active-user-avatar",children:a.profileImage?_.jsx("img",{src:a.profileImage,alt:`${a.name}'s avatar`,className:"active-profile-image"}):(Ce=a.name)==null?void 0:Ce.charAt(0)})," ",a.name]}):_.jsx(_.Fragment,{children:" Select a user"})}),!a&&_.jsxs("div",{className:"empty-state",children:[_.jsx("img",{src:Lx,className:"empty-image",alt:"chat"}),_.jsx("h2",{className:"empty-title",children:"Select a user to start chatting"}),_.jsx("p",{className:"empty-sub",children:"Your messages will appear here"})]}),a&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"chat-body",children:[f.map(xe=>{var Pe;const J=String(xe.from)===String(t._id),Ae=(Pe=xe.attachments)==null?void 0:Pe[0];return _.jsx("div",{className:`bubble-row ${J?"right":"left"} ${w.includes(xe._id)?"selected":""}`,onContextMenu:We=>be(We,xe),onTouchStart:We=>ke(We,xe),onTouchEnd:Ne,onTouchMove:Ne,children:_.jsxs("div",{className:`bubble ${J?"me":"them"}`,children:[Ae&&_.jsx(jD,{attachment:Ae,onZoom:We=>ce(We)}),(xe.text||!Ae)&&_.jsx("div",{children:xe.text}),_.jsxs("div",{className:"msg-status-footer",children:[_.jsx("div",{className:"time",children:se(xe.sentAt)}),J&&_.jsx("div",{className:`read-indicator ${xe.read?"read":"delivered"}`,children:xe.read?"":""})]})]})},xe._id)}),_.jsx("div",{ref:ee})]}),_.jsx("div",{className:"typing-row",children:m[a._id]&&_.jsxs("span",{className:"typing",children:[" ",a.name," typing..."]})}),T&&_.jsxs("div",{className:"preview-box",children:[_.jsx("img",{src:T,className:"preview-image",onClick:()=>P(!0),alt:"preview"}),C&&_.jsx("div",{className:"zoom-modal",onClick:()=>P(!1),children:_.jsx("img",{src:T,className:"zoom-image",alt:"zoom"})}),_.jsx("button",{className:"preview-remove",onClick:()=>{T&&URL.revokeObjectURL(T),S(null),A(null),P(!1)},children:""})]}),_.jsxs("div",{className:"send-box",children:[_.jsx("input",{type:"file",id:"attachment",style:{display:"none"},onChange:Q}),_.jsxs("label",{htmlFor:"attachment",className:"attach-btn",children:[_.jsx(mx,{})," ",b?b.name:""]}),_.jsx("input",{type:"text",placeholder:"Type a message...",value:h,onChange:xe=>g(xe.target.value),onKeyDown:xe=>xe.key==="Enter"&&ae(),disabled:!!b}),_.jsx("button",{className:"send-btn",onClick:ae,disabled:!h.trim()&&!b,children:_.jsx(NR,{})})]})]})]}),(j==null?void 0:j.visible)&&_.jsx(o8,{x:j.x,y:j.y,msg:j.msg,onClose:()=>L(null),onDeleteMe:()=>{D(j.msg._id),L(null)},onDeleteEveryone:()=>{q(j.msg._id),L(null)}}),X&&_.jsx("div",{className:"zoom-modal",onClick:()=>ce(null),children:_.jsx("img",{src:X,className:"zoom-image",onClick:xe=>xe.stopPropagation(),alt:"zoom"})})]})}function B5({visible:t,onClose:e,onDeleteMe:n,onDeleteEveryone:r,onCopy:i,onReply:s}){return t?_.jsx("div",{className:"mctx-overlay",onClick:e,children:_.jsxs("div",{className:"mctx-sheet",onClick:a=>a.stopPropagation(),children:[_.jsx("div",{className:"mctx-item",onClick:s,children:"Reply"}),_.jsx("div",{className:"mctx-item",onClick:i,children:"Copy"}),_.jsx("div",{className:"mctx-item",children:"Forward"}),_.jsx("div",{className:"mctx-divider"}),_.jsx("div",{className:"mctx-item danger",onClick:n,children:"Delete for me"}),_.jsx("div",{className:"mctx-item danger",onClick:r,children:"Delete for everyone"})]})}):null}function F5({users:t,onUserSelect:e,searchTerm:n,setSearchTerm:r,unreadMap:i,presenceMap:s}){return _.jsxs("div",{className:"mobile-list",children:[_.jsxs("div",{className:"search-bar mobile-search-bar",children:[_.jsx(DR,{className:"search-icon"}),_.jsx("input",{type:"text",placeholder:"Search contacts...",value:n,onChange:a=>r(a.target.value)})]}),t.map(a=>{var d;const c=i[a._id]||0,f=((d=s[a._id])==null?void 0:d.presence)==="online";return _.jsxs("div",{className:"mobile-user-item",onClick:()=>e(a),children:[_.jsxs("div",{className:"left-col",children:[_.jsx("div",{className:"avatar",children:a.name.charAt(0)}),_.jsxs("div",{className:"u-info",children:[_.jsx("div",{className:"u-name",children:a.name}),_.jsx("div",{className:"u-sub",children:f?" Online":" Offline"})]})]}),c>0&&_.jsx("div",{className:"unread-badge",children:c})]},a._id)})]})}Ze.extend(Zp);const U5="https://vrism.haltnshine.com",bo=zo(U5,{transports:["websocket"],reconnection:!0});function H5(){const t=JSON.parse(localStorage.getItem("user")||"{}"),{presenceMap:e}=k.useContext(ol),[n,r]=k.useState("chats"),[i,s]=k.useState([]),[a,c]=k.useState(null),[f,d]=k.useState([]),[h,g]=k.useState(""),[m,v]=k.useState({}),[w,x]=k.useState({}),[b,S]=k.useState(null),[T,A]=k.useState(null),[C,P]=k.useState(""),[V,I]=k.useState(!1),[j,L]=k.useState(null),[K,te]=k.useState({visible:!1,msg:null}),X=k.useRef(null),ce=k.useRef(null);k.useEffect(()=>{t!=null&&t._id&&(bo.emit("join_room",t._id),ee(),B())},[t==null?void 0:t._id]);const N=()=>setTimeout(()=>{var F;return(F=X.current)==null?void 0:F.scrollIntoView({behavior:"smooth"})},120),ee=async()=>{try{const F=await Ve.get(`/api/chat/unread-counts?userId=${t._id}`);x(F.data||{})}catch(F){console.error("Failed to load unread",F)}},B=async()=>{try{const F=await Ve.get(`/api/users/chat/list?userId=${t._id}`);s(F.data||[])}catch(F){console.error("load users:",F)}},re=Te.useMemo(()=>{let F=i;if(C.trim()){const se=C.toLowerCase();F=F.filter(be=>{var ke;return(ke=be.name)==null?void 0:ke.toLowerCase().includes(se)})}return F.sort((se,be)=>{const ke=w[se._id]||0,Ne=w[be._id]||0;if(Ne!==ke)return Ne-ke;const Ce=new Date(se.lastMessageAt||se.lastActiveAt||0);return new Date(be.lastMessageAt||be.lastActiveAt||0)-Ce})},[i,w,C]),le=async F=>{c(F),r("chat");try{await Ve.post("/api/chat/read",{from:F._id,to:t._id});const se=await Ve.get(`/api/chat/${t._id}/${F._id}`);d(se.data||[]),N(),x(be=>({...be,[F._id]:0})),bo.emit("mark_read",{from:t._id,to:F._id})}catch(se){console.error(se)}},ie=F=>{var be;const se=(be=F.target.files)==null?void 0:be[0];se&&(S(se),A(URL.createObjectURL(se)),I(!1))},Q=async()=>{if(!h.trim()&&!b)return;let F=[];if(b)try{const se=await kO(b);F=se?[se]:[]}catch{alert("Upload failed");return}try{const se={from:t._id,to:a._id,text:h.trim(),attachments:F},ke=(await Ve.post("/api/chat",se)).data;d(Ne=>[...Ne,ke]),g(""),T&&URL.revokeObjectURL(T),A(null),S(null),I(!1),N(),bo.emit("send_message",ke)}catch(se){console.error("send message:",se)}};k.useEffect(()=>(bo.on("new_message",F=>{(F.from===(a==null?void 0:a._id)||F.to===(a==null?void 0:a._id)||F.to===t._id)&&(d(be=>be.some(ke=>ke._id===F._id)?be:[...be,F]),N())}),bo.on("typing",({from:F})=>{v(se=>({...se,[F]:!0})),setTimeout(()=>{v(se=>{const be={...se};return delete be[F],be})},1500)}),()=>{bo.off("new_message"),bo.off("typing")}),[a,t._id]);const ae=(F,se)=>{clearTimeout(ce.current),ce.current=setTimeout(()=>te({visible:!0,msg:se}),450)},D=()=>clearTimeout(ce.current),q=F=>Ze(F).format("hh:mm A"),z=()=>_.jsxs("div",{className:"mobile-chat-view",children:[_.jsxs("div",{className:"mobile-chat-header",children:[_.jsx("button",{className:"back-btn",onClick:()=>{r("chats"),c(null),T&&URL.revokeObjectURL(T),A(null),S(null),I(!1)},children:""}),_.jsxs("div",{className:"mobile-title",children:[" ",a==null?void 0:a.name]})]}),_.jsxs("div",{className:"chat-body mobile-chat-body",children:[f.map(F=>{var ke;const se=F.from===t._id,be=(ke=F.attachments)==null?void 0:ke[0];return _.jsx("div",{className:`bubble-row ${se?"right":"left"}`,onTouchStart:Ne=>ae(Ne,F),onTouchEnd:D,onTouchMove:D,children:_.jsxs("div",{className:`bubble ${se?"me":"them"}`,children:[be&&_.jsx(jD,{attachment:be,onZoom:Ne=>L(Ne)}),F.text&&_.jsx("div",{children:F.text}),_.jsxs("div",{className:"msg-status-footer",children:[_.jsx("div",{className:"time",children:q(F.sentAt)}),se&&_.jsx("div",{className:`read-indicator ${F.read?"read":"delivered"}`,children:F.read?"":""})]})]})},F._id)}),_.jsx("div",{ref:X})]}),T&&_.jsxs("div",{className:"preview-box",children:[_.jsx("img",{src:T,className:"preview-image",onClick:()=>I(!0),alt:"preview"}),V&&_.jsx("div",{className:"zoom-modal",onClick:()=>I(!1),children:_.jsx("img",{src:T,className:"zoom-image",alt:"zoom"})}),_.jsx("button",{className:"preview-remove",onClick:()=>{T&&URL.revokeObjectURL(T),S(null),A(null),I(!1)},children:""})]}),_.jsxs("div",{className:"send-box mobile-send",children:[_.jsx("input",{type:"file",id:"attachment-m",style:{display:"none"},onChange:ie}),_.jsxs("label",{htmlFor:"attachment-m",className:"attach-btn",children:[_.jsx(mx,{})," ",b?b.name:""]}),_.jsx("input",{type:"text",placeholder:"Type a message...",value:h,onChange:F=>g(F.target.value),disabled:!!b}),_.jsx("button",{className:"send-btn",onClick:Q,children:_.jsx(NR,{})})]})]});return _.jsxs("div",{className:"mobile-shell",children:[_.jsx("div",{className:"top-chat-icon",children:_.jsx("a",{href:"/chat",children:_.jsx("img",{src:Lx,className:"chaticon",alt:"icon"})})}),_.jsxs("div",{className:"mobile-content",children:[n==="chats"&&_.jsx(F5,{users:re,onUserSelect:le,searchTerm:C,setSearchTerm:P,unreadMap:w,presenceMap:e}),n==="chat"&&z()]}),_.jsx(B5,{visible:K.visible,msg:K.msg,onClose:()=>te({visible:!1,msg:null}),onCopy:()=>{var F;navigator.clipboard.writeText(((F=K.msg)==null?void 0:F.text)||""),te({visible:!1,msg:null})},onDeleteMe:()=>{Ve.delete(`/api/chat/${K.msg._id}`).then(()=>{d(F=>F.filter(se=>se._id!==K.msg._id)),te({visible:!1,msg:null})})},onDeleteEveryone:()=>{Ve.post("/api/chat/delete-for-everyone",{id:K.msg._id}).then(()=>{d(F=>F.filter(se=>se._id!==K.msg._id)),te({visible:!1,msg:null})})}}),j&&_.jsx("div",{className:"zoom-modal",onClick:()=>L(null),children:_.jsx("img",{src:j,className:"zoom-image",onClick:F=>F.stopPropagation(),alt:"zoom"})})]})}function z5(t=900){const[e,n]=k.useState(window.innerWidth<=t);return k.useEffect(()=>{const r=()=>n(window.innerWidth<=t);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e}function $5({onMobileState:t}){const e=z5();return k.useEffect(()=>{t&&t(e)},[e]),e?_.jsx(H5,{}):_.jsx(L5,{})}var eg,et,NO,IO,Mc,No,vA,MO,jO,X0={},PO=[],V5=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ka(t,e){for(var n in e)t[n]=e[n];return t}function LO(t){var e=t.parentNode;e&&e.removeChild(t)}function ne(t,e,n){var r,i,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?eg.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return R0(t,a,r,i,null)}function R0(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++NO};return i==null&&et.vnode!=null&&et.vnode(s),s}function wr(){return{current:null}}function qt(t){return t.children}function q5(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||K0(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||K0(t,s,e[s],n[s],r)}function yA(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||V5.test(e)?n:n+"px"}function K0(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||yA(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||yA(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?_A:xA,s):t.removeEventListener(e,s?_A:xA,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function xA(t){Mc=!0;try{return this.l[t.type+!1](et.event?et.event(t):t)}finally{Mc=!1}}function _A(t){Mc=!0;try{return this.l[t.type+!0](et.event?et.event(t):t)}finally{Mc=!1}}function ei(t,e){this.props=t,this.context=e}function jf(t,e){if(e==null)return t.__?jf(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?jf(t):null}function BO(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return BO(t)}}function W5(t){Mc?setTimeout(t):MO(t)}function R1(t){(!t.__d&&(t.__d=!0)&&No.push(t)&&!Q0.__r++||vA!==et.debounceRendering)&&((vA=et.debounceRendering)||W5)(Q0)}function Q0(){var t,e,n,r,i,s,a,c;for(No.sort(function(f,d){return f.__v.__b-d.__v.__b});t=No.shift();)t.__d&&(e=No.length,r=void 0,i=void 0,a=(s=(n=t).__v).__e,(c=n.__P)&&(r=[],(i=ka({},s)).__v=s.__v+1,Bx(c,s,i,n.__n,c.ownerSVGElement!==void 0,s.__h!=null?[a]:null,r,a??jf(s),s.__h),$O(r,s),s.__e!=a&&BO(s)),No.length>e&&No.sort(function(f,d){return f.__v.__b-d.__v.__b}));Q0.__r=0}function FO(t,e,n,r,i,s,a,c,f,d){var h,g,m,v,w,x,b,S=r&&r.__k||PO,T=S.length;for(n.__k=[],h=0;h<e.length;h++)if((v=n.__k[h]=(v=e[h])==null||typeof v=="boolean"?null:typeof v=="string"||typeof v=="number"||typeof v=="bigint"?R0(null,v,null,null,v):Array.isArray(v)?R0(qt,{children:v},null,null,null):v.__b>0?R0(v.type,v.props,v.key,v.ref?v.ref:null,v.__v):v)!=null){if(v.__=n,v.__b=n.__b+1,(m=S[h])===null||m&&v.key==m.key&&v.type===m.type)S[h]=void 0;else for(g=0;g<T;g++){if((m=S[g])&&v.key==m.key&&v.type===m.type){S[g]=void 0;break}m=null}Bx(t,v,m=m||X0,i,s,a,c,f,d),w=v.__e,(g=v.ref)&&m.ref!=g&&(b||(b=[]),m.ref&&b.push(m.ref,null,v),b.push(g,v.__c||w,v)),w!=null?(x==null&&(x=w),typeof v.type=="function"&&v.__k===m.__k?v.__d=f=UO(v,f,t):f=HO(t,v,m,S,w,f),typeof n.type=="function"&&(n.__d=f)):f&&m.__e==f&&f.parentNode!=t&&(f=jf(m))}for(n.__e=x,h=T;h--;)S[h]!=null&&(typeof n.type=="function"&&S[h].__e!=null&&S[h].__e==n.__d&&(n.__d=zO(r).nextSibling),qO(S[h],S[h]));if(b)for(h=0;h<b.length;h++)VO(b[h],b[++h],b[++h])}function UO(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?UO(r,e,n):HO(n,r,r,i,r.__e,e));return e}function Z0(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Z0(n,e)}):e.push(t)),e}function HO(t,e,n,r,i,s){var a,c,f;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),a=null;else{for(c=s,f=0;(c=c.nextSibling)&&f<r.length;f+=1)if(c==i)break e;t.insertBefore(i,s),a=s}return a!==void 0?a:i.nextSibling}function zO(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=zO(n)))return r}return null}function Bx(t,e,n,r,i,s,a,c,f){var d,h,g,m,v,w,x,b,S,T,A,C,P,V,I,j=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(f=n.__h,c=e.__e=n.__e,e.__h=null,s=[c]),(d=et.__b)&&d(e);try{e:if(typeof j=="function"){if(b=e.props,S=(d=j.contextType)&&r[d.__c],T=d?S?S.props.value:d.__:r,n.__c?x=(h=e.__c=n.__c).__=h.__E:("prototype"in j&&j.prototype.render?e.__c=h=new j(b,T):(e.__c=h=new ei(b,T),h.constructor=j,h.render=Y5),S&&S.sub(h),h.props=b,h.state||(h.state={}),h.context=T,h.__n=r,g=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),j.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=ka({},h.__s)),ka(h.__s,j.getDerivedStateFromProps(b,h.__s))),m=h.props,v=h.state,h.__v=e,g)j.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(j.getDerivedStateFromProps==null&&b!==m&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(b,T),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(b,h.__s,T)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(h.props=b,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(L){L&&(L.__=e)}),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(b,h.__s,T),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(m,v,w)})}if(h.context=T,h.props=b,h.__P=t,C=et.__r,P=0,"prototype"in j&&j.prototype.render){for(h.state=h.__s,h.__d=!1,C&&C(e),d=h.render(h.props,h.state,h.context),V=0;V<h._sb.length;V++)h.__h.push(h._sb[V]);h._sb=[]}else do h.__d=!1,C&&C(e),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++P<25);h.state=h.__s,h.getChildContext!=null&&(r=ka(ka({},r),h.getChildContext())),g||h.getSnapshotBeforeUpdate==null||(w=h.getSnapshotBeforeUpdate(m,v)),I=d!=null&&d.type===qt&&d.key==null?d.props.children:d,FO(t,Array.isArray(I)?I:[I],e,n,r,i,s,a,c,f),h.base=e.__e,e.__h=null,h.__h.length&&a.push(h),x&&(h.__E=h.__=null),h.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=G5(n.__e,e,n,r,i,s,a,f);(d=et.diffed)&&d(e)}catch(L){e.__v=null,(f||s!=null)&&(e.__e=c,e.__h=!!f,s[s.indexOf(c)]=null),et.__e(L,e,n)}}function $O(t,e){et.__c&&et.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){et.__e(r,n.__v)}})}function G5(t,e,n,r,i,s,a,c){var f,d,h,g=n.props,m=e.props,v=e.type,w=0;if(v==="svg"&&(i=!0),s!=null){for(;w<s.length;w++)if((f=s[w])&&"setAttribute"in f==!!v&&(v?f.localName===v:f.nodeType===3)){t=f,s[w]=null;break}}if(t==null){if(v===null)return document.createTextNode(m);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,m.is&&m),s=null,c=!1}if(v===null)g===m||c&&t.data===m||(t.data=m);else{if(s=s&&eg.call(t.childNodes),d=(g=n.props||X0).dangerouslySetInnerHTML,h=m.dangerouslySetInnerHTML,!c){if(s!=null)for(g={},w=0;w<t.attributes.length;w++)g[t.attributes[w].name]=t.attributes[w].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===t.innerHTML)||(t.innerHTML=h&&h.__html||""))}if(q5(t,m,g,i,c),h)e.__k=[];else if(w=e.props.children,FO(t,Array.isArray(w)?w:[w],e,n,r,i&&v!=="foreignObject",s,a,s?s[0]:n.__k&&jf(n,0),c),s!=null)for(w=s.length;w--;)s[w]!=null&&LO(s[w]);c||("value"in m&&(w=m.value)!==void 0&&(w!==t.value||v==="progress"&&!w||v==="option"&&w!==g.value)&&K0(t,"value",w,g.value,!1),"checked"in m&&(w=m.checked)!==void 0&&w!==t.checked&&K0(t,"checked",w,g.checked,!1))}return t}function VO(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){et.__e(r,n)}}function qO(t,e,n){var r,i;if(et.unmount&&et.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||VO(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){et.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&qO(r[i],e,n||typeof t.type!="function");n||t.__e==null||LO(t.__e),t.__=t.__e=t.__d=void 0}function Y5(t,e,n){return this.constructor(t,n)}function Pf(t,e,n){var r,i,s;et.__&&et.__(t,e),i=(r=!1)?null:e.__k,s=[],Bx(e,t=e.__k=ne(qt,null,[t]),i||X0,X0,e.ownerSVGElement!==void 0,i?null:e.firstChild?eg.call(e.childNodes):null,s,i?i.__e:e.firstChild,r),$O(s,t)}function X5(t,e){var n={__c:e="__cC"+jO++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(function(c){c.__e=!0,R1(c)})},this.sub=function(a){i.push(a);var c=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),c&&c.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}eg=PO.slice,et={__e:function(t,e,n,r){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(c){t=c}throw t}},NO=0,IO=function(t){return t!=null&&t.constructor===void 0},Mc=!1,ei.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ka({},this.state),typeof t=="function"&&(t=t(ka({},n),this.props)),t&&ka(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),R1(this))},ei.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),R1(this))},ei.prototype.render=qt,No=[],MO=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Q0.__r=0,jO=0;var as,Zv,wA,WO=[],Jv=[],bA=et.__b,EA=et.__r,SA=et.diffed,TA=et.__c,AA=et.unmount;function K5(){for(var t;t=WO.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(D0),t.__H.__h.forEach(D1),t.__H.__h=[]}catch(e){t.__H.__h=[],et.__e(e,t.__v)}}et.__b=function(t){as=null,bA&&bA(t)},et.__r=function(t){EA&&EA(t);var e=(as=t.__c).__H;e&&(Zv===as?(e.__h=[],as.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Jv,n.__N=n.i=void 0})):(e.__h.forEach(D0),e.__h.forEach(D1),e.__h=[])),Zv=as},et.diffed=function(t){SA&&SA(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(WO.push(e)!==1&&wA===et.requestAnimationFrame||((wA=et.requestAnimationFrame)||Q5)(K5)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Jv&&(n.__=n.__V),n.i=void 0,n.__V=Jv})),Zv=as=null},et.__c=function(t,e){e.some(function(n){try{n.__h.forEach(D0),n.__h=n.__h.filter(function(r){return!r.__||D1(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],et.__e(r,n.__v)}}),TA&&TA(t,e)},et.unmount=function(t){AA&&AA(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{D0(r)}catch(i){e=i}}),n.__H=void 0,e&&et.__e(e,n.__v))};var CA=typeof requestAnimationFrame=="function";function Q5(t){var e,n=function(){clearTimeout(r),CA&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);CA&&(e=requestAnimationFrame(n))}function D0(t){var e=as,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),as=e}function D1(t){var e=as;t.__c=t.__(),as=e}function Z5(t,e){for(var n in e)t[n]=e[n];return t}function RA(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function DA(t){this.props=t}(DA.prototype=new ei).isPureReactComponent=!0,DA.prototype.shouldComponentUpdate=function(t,e){return RA(this.props,t)||RA(this.state,e)};var OA=et.__b;et.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),OA&&OA(t)};var J5=et.__e;et.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}J5(t,e,n,r)};var kA=et.unmount;function GO(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=Z5({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return GO(r,e,n)})),t}function YO(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return YO(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function ey(){this.__u=0,this.t=null,this.__b=null}function XO(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Gh(){this.u=null,this.o=null}et.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),kA&&kA(t)},(ey.prototype=new ei).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=XO(r.__v),s=!1,a=function(){s||(s=!0,n.__R=null,i?i(c):c())};n.__R=a;var c=function(){if(!--r.__u){if(r.state.__a){var d=r.state.__a;r.__v.__k[0]=YO(d,d.__c.__P,d.__c.__O)}var h;for(r.setState({__a:r.__b=null});h=r.t.pop();)h.forceUpdate()}},f=e.__h===!0;r.__u++||f||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(a,a)},ey.prototype.componentWillUnmount=function(){this.t=[]},ey.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=GO(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&ne(qt,null,t.fallback);return i&&(i.__h=null),[ne(qt,null,e.__a?null:t.children),i]};var NA=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function eH(t){return this.getChildContext=function(){return t.context},t.children}function tH(t){var e=this,n=t.i;e.componentWillUnmount=function(){Pf(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Pf(ne(eH,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function nH(t,e){var n=ne(tH,{__v:t,i:e});return n.containerInfo=e,n}(Gh.prototype=new ei).__a=function(t){var e=this,n=XO(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),NA(e,t,r)):i()};n?n(s):s()}},Gh.prototype.render=function(t){this.u=null,this.o=new Map;var e=Z0(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Gh.prototype.componentDidUpdate=Gh.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){NA(t,n,e)})};var rH=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,iH=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,sH=typeof document<"u",aH=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};ei.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(ei.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var IA=et.event;function oH(){}function lH(){return this.cancelBubble}function cH(){return this.defaultPrevented}et.event=function(t){return IA&&(t=IA(t)),t.persist=oH,t.isPropagationStopped=lH,t.isDefaultPrevented=cH,t.nativeEvent=t};var MA={configurable:!0,get:function(){return this.class}},jA=et.vnode;et.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var a=n[s];sH&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&a==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&a===!0?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!aH(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&iH.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():a===null&&(a=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=a)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Z0(n.children).forEach(function(c){c.props.selected=r.value.indexOf(c.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Z0(n.children).forEach(function(c){c.props.selected=r.multiple?r.defaultValue.indexOf(c.props.value)!=-1:r.defaultValue==c.props.value})),t.props=r,n.class!=n.className&&(MA.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",MA))}t.$$typeof=rH,jA&&jA(t)};var PA=et.__r;et.__r=function(t){PA&&PA(t),t.__c};const KO=[],O1=new Map;function Fx(t){KO.push(t),O1.forEach(e=>{ZO(e,t)})}function uH(t){t.isConnected&&t.getRootNode&&QO(t.getRootNode())}function QO(t){let e=O1.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=dH();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}O1.set(t,e),fH(e)}}function fH(t){for(const e of KO)ZO(t,e)}function ZO(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}let ty;function dH(){return ty===void 0&&(ty=hH()),ty}function hH(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&QO(document);var pH=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Fx(pH);class Ux{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Hx(t){t.parentNode&&t.parentNode.removeChild(t)}function fr(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(gH(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function gH(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function mH(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let a=0;a<s.length;a+=1)r.push(s[a])}return r}const vH=/(top|left|right|bottom|width|height)$/i;function _f(t,e){for(let n in e)JO(t,n,e[n])}function JO(t,e,n){n==null?t.style[e]="":typeof n=="number"&&vH.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function ek(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let LA=0;function tg(){return LA+=1,"fc-dom-"+LA}function ng(t){t.preventDefault()}function yH(t,e){return n=>{let r=fr(n.target,t);r&&e.call(r,n,r)}}function tk(t,e,n,r){let i=yH(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function xH(t,e,n,r){let i;return tk(t,"mouseover",e,(s,a)=>{if(a!==i){i=a,n(s,a);let c=f=>{i=null,r(f,a),a.removeEventListener("mouseleave",c)};a.addEventListener("mouseleave",c)}})}const BA=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function _H(t,e){let n=r=>{e(r),BA.forEach(i=>{t.removeEventListener(i,n)})};BA.forEach(r=>{t.addEventListener(r,n)})}function nk(t){return Object.assign({onClick:t},rk(t))}function rk(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let FA=0;function ll(){return FA+=1,String(FA)}function zx(){document.body.classList.add("fc-not-allowed")}function $x(){document.body.classList.remove("fc-not-allowed")}function wH(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",ng)}function bH(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",ng)}function EH(t){t.addEventListener("contextmenu",ng)}function SH(t){t.removeEventListener("contextmenu",ng)}function TH(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function AH(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=CH(t,e,n[r]),i)return i;return 0}function CH(t,e,n){return n.func?n.func(t,e):RH(t[n.field],e[n.field])*(n.order||1)}function RH(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function _c(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function wf(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function DH(t,e){return t-e}function O0(t){return t%1===0}function OH(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const UA=["years","months","days","milliseconds"],kH=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function yt(t,e){return typeof t=="string"?NH(t):typeof t=="object"&&t?HA(t):typeof t=="number"?HA({[e||"milliseconds"]:t}):null}function NH(t){let e=kH.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function HA(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function IH(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function k1(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function MH(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function jH(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function PH(t){return wc(t)/365}function LH(t){return wc(t)/30}function wc(t){return Bi(t)/864e5}function Bi(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Vx(t,e){let n=null;for(let r=0;r<UA.length;r+=1){let i=UA[r];if(e[i]){let s=t[i]/e[i];if(!O0(s)||n!==null&&n!==s)return null;n=s}else if(t[i])return null}return n}function N1(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function $a(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const BH=["sun","mon","tue","wed","thu","fri","sat"];function zA(t,e){let n=Na(t);return n[2]+=e*7,Dr(n)}function zn(t,e){let n=Na(t);return n[2]+=e,Dr(n)}function Va(t,e){let n=Na(t);return n[6]+=e,Dr(n)}function FH(t,e){return cl(t,e)/7}function cl(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function UH(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function HH(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function zH(t,e){return(e.valueOf()-t.valueOf())/1e3}function $H(t,e){let n=Wt(t),r=Wt(e);return{years:0,months:0,days:Math.round(cl(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function VH(t,e){let n=J0(t,e);return n!==null&&n%7===0?n/7:null}function J0(t,e){return Ia(t)===Ia(e)?Math.round(cl(t,e)):null}function Wt(t){return Dr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function qH(t){return Dr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function WH(t){return Dr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function GH(t){return Dr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function YH(t,e,n){let r=t.getUTCFullYear(),i=ny(t,r,e,n);if(i<1)return ny(t,r-1,e,n);let s=ny(t,r+1,e,n);return s>=1?Math.min(i,s):i}function ny(t,e,n,r){let i=Dr([e,0,1+XH(e,n,r)]),s=Wt(t),a=Math.round(cl(i,s));return Math.floor(a/7)+1}function XH(t,e,n){let r=7+e-n;return-((7+Dr([t,0,r]).getUTCDay()-e)%7)+r-1}function $A(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function VA(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Na(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Dr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function ik(t){return!isNaN(t.valueOf())}function Ia(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function sk(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",Wx(e,!0)))),r}function qx(t){return t.toISOString().replace(/T.*$/,"")}function KH(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function QH(t){return _c(t.getUTCHours(),2)+":"+_c(t.getUTCMinutes(),2)+":"+_c(t.getUTCSeconds(),2)}function Wx(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+_c(i,2)}:${_c(s,2)}`:`GMT${n}${i}${s?`:${_c(s,2)}`:""}`}function nt(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!$a(r,s)){let a=t.apply(this,s);(!e||!e(a,i))&&(i=a)}return r=s,i}}function k0(t,e,n){let r,i;return s=>(r?zi(r,s)||(i=t.call(this,s)):i=t.call(this,s),r=s,i)}const ry={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},ep={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Yh=/\s*([ap])\.?m\.?/i,ZH=/,/g,JH=/\s+/g,ez=/\u200e/g,tz=/UTC|GMT/;class nz{constructor(e){let n={},r={},i=9;for(let s in e)s in ry?(r[s]=e[s],ry[s]<9&&(i=Math.min(ry[s],i))):(n[s]=e[s],s in ep&&(i=Math.min(ep[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=i,this.buildFormattingFunc=nt(qA)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:a}=this,c=lz(e.marker,n.marker,r.calendarSystem);if(!c)return this.format(e,r);let f=c;f>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(f=1);let d=this.format(e,r),h=this.format(n,r);if(d===h)return d;let g=cz(s,f),m=qA(g,a,r),v=m(e),w=m(n),x=uz(d,v,h,w),b=a.separator||i||r.defaultSeparator||"";return x?x.before+v+b+w+x.after:d+b+h}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function qA(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>Wx(i.timeZoneOffset):r===0&&e.week?i=>oz(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):rz(t,e,n)}function rz(t,e,n){t=Object.assign({},t),e=Object.assign({},e),iz(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:a}=s,c;i&&!a.getUTCMinutes()?c=i:c=r;let f=c.format(a);return sz(f,s,t,e,n)}}function iz(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function sz(t,e,n,r,i){return t=t.replace(ez,""),n.timeZoneName==="short"&&(t=az(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Wx(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(ZH,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(Yh,"").trim():r.meridiem==="narrow"?t=t.replace(Yh,(s,a)=>a.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(Yh,(s,a)=>`${a.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(Yh,s=>s.toLocaleLowerCase())),t=t.replace(JH," "),t=t.trim(),t}function az(t,e){let n=!1;return t=t.replace(tz,()=>(n=!0,e)),n||(t+=` ${e}`),t}function oz(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function lz(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Ia(t)!==Ia(e)?1:0}function cz(t,e){let n={};for(let r in t)(!(r in ep)||ep[r]<=e)&&(n[r]=t[r]);return n}function uz(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let a=t.substr(0,s);i=s+e.length;let c=t.substr(i),f=0;for(;f<n.length;){let d=n.indexOf(r,f);if(d===-1)break;let h=n.substr(0,d);f=d+r.length;let g=n.substr(f);if(a===h&&c===g)return{before:a,after:c}}}return null}function WA(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function tp(t,e,n,r){let i=WA(t,n.calendarSystem),s=e?WA(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class fz{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,tp(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,tp(e,n,r,i))}}class dz{constructor(e){this.func=e}format(e,n,r){return this.func(tp(e,null,n,r))}formatRange(e,n,r,i){return this.func(tp(e,n,r,i))}}function nn(t){return typeof t=="object"&&t?new nz(t):typeof t=="string"?new fz(t):typeof t=="function"?new dz(t):null}const GA={navLinkDayClick:_e,navLinkWeekClick:_e,duration:yt,bootstrapFontAwesome:_e,buttonIcons:_e,customButtons:_e,defaultAllDayEventDuration:yt,defaultTimedEventDuration:yt,nextDayThreshold:yt,scrollTime:yt,scrollTimeReset:Boolean,slotMinTime:yt,slotMaxTime:yt,dayPopoverFormat:nn,slotDuration:yt,snapDuration:yt,headerToolbar:_e,footerToolbar:_e,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:nn,dayHeaderClassNames:_e,dayHeaderContent:_e,dayHeaderDidMount:_e,dayHeaderWillUnmount:_e,dayCellClassNames:_e,dayCellContent:_e,dayCellDidMount:_e,dayCellWillUnmount:_e,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:_e,weekNumbers:Boolean,weekNumberClassNames:_e,weekNumberContent:_e,weekNumberDidMount:_e,weekNumberWillUnmount:_e,editable:Boolean,viewClassNames:_e,viewDidMount:_e,viewWillUnmount:_e,nowIndicator:Boolean,nowIndicatorSnap:_e,nowIndicatorClassNames:_e,nowIndicatorContent:_e,nowIndicatorDidMount:_e,nowIndicatorWillUnmount:_e,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:_e,locale:_e,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:_e,eventOrder:TH,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:_e,contentHeight:_e,direction:String,weekNumberFormat:nn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:_e,initialDate:_e,now:_e,eventDataTransform:_e,stickyHeaderDates:_e,stickyFooterScrollbar:_e,viewHeight:_e,defaultAllDay:Boolean,eventSourceFailure:_e,eventSourceSuccess:_e,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:_e,eventConstraint:_e,eventAllow:_e,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:_e,eventContent:_e,eventDidMount:_e,eventWillUnmount:_e,selectConstraint:_e,selectOverlap:_e,selectAllow:_e,droppable:Boolean,unselectCancel:String,slotLabelFormat:_e,slotLaneClassNames:_e,slotLaneContent:_e,slotLaneDidMount:_e,slotLaneWillUnmount:_e,slotLabelClassNames:_e,slotLabelContent:_e,slotLabelDidMount:_e,slotLabelWillUnmount:_e,dayMaxEvents:_e,dayMaxEventRows:_e,dayMinWidth:Number,slotLabelInterval:yt,allDayText:String,allDayClassNames:_e,allDayContent:_e,allDayDidMount:_e,allDayWillUnmount:_e,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:nn,rerenderDelay:Number,moreLinkText:_e,moreLinkHint:_e,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:_e,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:yt,hiddenDays:_e,fixedWeekCount:Boolean,validRange:_e,visibleRange:_e,titleFormat:_e,eventInteractive:Boolean,noEventsText:String,viewHint:_e,navLinkHint:_e,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:_e,moreLinkClassNames:_e,moreLinkContent:_e,moreLinkDidMount:_e,moreLinkWillUnmount:_e,monthStartFormat:nn,handleCustomRendering:_e,customRenderingMetaMap:_e,customRenderingReplaces:Boolean},bf={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},YA={datesSet:_e,eventsSet:_e,eventAdd:_e,eventChange:_e,eventRemove:_e,windowResize:_e,eventClick:_e,eventMouseEnter:_e,eventMouseLeave:_e,select:_e,unselect:_e,loading:_e,_unmount:_e,_beforeprint:_e,_afterprint:_e,_noEventDrop:_e,_noEventResize:_e,_resize:_e,_scrollRequest:_e},XA={buttonText:_e,buttonHints:_e,views:_e,plugins:_e,initialEvents:_e,events:_e,eventSources:_e},To={headerToolbar:Ao,footerToolbar:Ao,buttonText:Ao,buttonHints:Ao,buttonIcons:Ao,dateIncrement:Ao,plugins:Xh,events:Xh,eventSources:Xh,resources:Xh};function Ao(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?zi(t,e):t===e}function Xh(t,e){return Array.isArray(t)&&Array.isArray(e)?$a(t,e):t===e}const hz={type:String,component:_e,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:_e,usesMinMaxTime:Boolean,classNames:_e,content:_e,didMount:_e,willUnmount:_e};function iy(t){return Yx(t,To)}function Gx(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function _e(t){return t}const{hasOwnProperty:np}=Object.prototype;function Yx(t,e){let n={};if(e){for(let r in e)if(e[r]===Ao){let i=[];for(let s=t.length-1;s>=0;s-=1){let a=t[s][r];if(typeof a=="object"&&a)i.unshift(a);else if(a!==void 0){n[r]=a;break}}i.length&&(n[r]=Yx(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function Yo(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function $s(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function ak(t){let e={};for(let n of t)e[n]=!0;return e}function Xx(t){let e=[];for(let n in t)e.push(t[n]);return e}function zi(t,e){if(t===e)return!0;for(let n in t)if(np.call(t,n)&&!(n in e))return!1;for(let n in e)if(np.call(e,n)&&t[n]!==e[n])return!1;return!0}const pz=/^on[A-Z]/;function gz(t,e){const n=mz(t,e);for(let r of n)if(!pz.test(r))return!1;return!0}function mz(t,e){let n=[];for(let r in t)np.call(t,r)&&(r in e||n.push(r));for(let r in e)np.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function sy(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&vz(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function vz(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function yz(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let a=t[s];a!==void 0&&i.push(a)}return i}let ok={};function xz(t,e){ok[t]=e}function _z(t){return new ok[t]}class wz{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Dr(e)}markerToArray(e){return Na(e)}}xz("gregory",wz);const bz=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Ez(t){let e=bz.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(ik(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class Sz{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=_z(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Dr($A(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Dr(e)),n===null||!ik(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=Ez(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return Ia(e)===Ia(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return Ia(e)===Ia(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=VH(e,n),r!==null?{unit:"week",value:r}:(r=J0(e,n),r!==null?{unit:"day",value:r}:(r=UH(e,n),O0(r)?{unit:"hour",value:r}:(r=HH(e,n),O0(r)?{unit:"minute",value:r}:(r=zH(e,n),O0(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/PH(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/LH(r):r.days&&(i=J0(e,n),i!==null)?i/wc(r):(n.valueOf()-e.valueOf())/Bi(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Wt(e):n==="hour"?qH(e):n==="minute"?WH(e):n==="second"?GH(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):YH(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=Va(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),sk(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Dr($A(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Dr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-VA(Na(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Na(e)):null}toDate(e,n){return this.timeZone==="local"?VA(Na(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Na(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class fd{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}fd.prototype.classes={};fd.prototype.iconClasses={};fd.prototype.baseIconClass="";fd.prototype.iconOverridePrefix="";function rp(t){t();let e=et.debounceRendering,n=[];function r(i){n.push(i)}for(et.debounceRendering=r,Pf(ne(Tz,{}),document.createElement("div"));n.length;)n.shift()();et.debounceRendering=e}class Tz extends ei{render(){return ne("div",{})}componentDidMount(){this.setState({})}}function lk(t){let e=X5(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=a=>{this.props.value!==a.value&&s.forEach(c=>{c.context=a.value,c.forceUpdate()})},this.sub=a=>{s.push(a);let c=a.componentWillUnmount;a.componentWillUnmount=()=>{s.splice(s.indexOf(a),1),c&&c.call(a)}}}return i},e}class Az{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Xs=lk({});function Cz(t,e,n,r,i,s,a,c,f,d,h,g,m,v){return{dateEnv:i,nowManager:s,options:n,pluginHooks:c,emitter:h,dispatch:f,getCurrentData:d,calendarApi:g,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:a,isRtl:n.direction==="rtl",addResizeHandler(w){h.on("_resize",w)},removeResizeHandler(w){h.off("_resize",w)},createScrollResponder(w){return new Az(w,h,yt(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:m,unregisterInteractiveComponent:v}}class ul extends ei{shouldComponentUpdate(e,n){return!sy(this.props,e,this.propEquality)||!sy(this.state,n,this.stateEquality)}safeSetState(e){sy(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}ul.addPropsEquality=Rz;ul.addStateEquality=Dz;ul.contextType=Xs;ul.prototype.propEquality={};ul.prototype.stateEquality={};class Rt extends ul{}Rt.contextType=Xs;function Rz(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function Dz(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function fs(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class Kx extends Rt{constructor(){super(...arguments),this.id=ll(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!I1(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&fs(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:a}=e,c=ck(e,[],this.handleEl);let f=!1,d,h=[],g;if(i!=null){const m=typeof i=="function"?i(a,ne):i;if(m===!0)f=!0;else{const v=m&&typeof m=="object";v&&"html"in m?c.dangerouslySetInnerHTML={__html:m.html}:v&&"domNodes"in m?h=Array.prototype.slice.call(m.domNodes):(v?IO(m):typeof m!="function")?d=m:g=m}}else f=!I1(e.generatorName,r);return f&&s&&(d=s(a)),this.queuedDomNodes=h,this.currentGeneratorMeta=g,ne(e.elTag,c,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:a}=i.options;if(s){const c=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:a==null?void 0:a[r.generatorName];c&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:c},r),{elClasses:(r.elClasses||[]).filter(Oz)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!$a(e,n)){n.forEach(Hx);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}Kx.addPropsEquality({elClasses:$a,elStyle:zi,elAttrs:gz,renderProps:zi});function I1(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function ck(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function Oz(t){return!!t}const uk=lk(0);class ii extends ei{constructor(){super(...arguments),this.InnerContent=kz.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(fs(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=Nz(e.classNameGenerator,e.renderProps);if(e.children){const r=ck(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?ne(e.elTag,r,i):i}else return ne(Kx,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}ii.contextType=uk;function kz(t,e){const n=t.props;return ne(Kx,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function Nz(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class ip extends Rt{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return ne(ii,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...fk(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function fk(t){return[`fc-${t.type}-view`,"fc-view"]}function Iz(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function KA(t,e){let n=[],{start:r}=e,i,s;for(t.sort(Mz),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function Mz(t,e){return t.start.valueOf()-e.start.valueOf()}function Xo(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function jz(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Qx(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function rg(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Ls(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function Pz(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function dk(t){let e=Math.floor(cl(t.start,t.end))||1,n=Wt(t.start),r=zn(n,e);return{start:n,end:r}}function hk(t,e=yt(0)){let n=null,r=null;if(t.end){r=Wt(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=Bi(e)&&(r=zn(r,1))}return t.start&&(n=Wt(t.start),r&&r<=n&&(r=zn(n,1))),{start:n,end:r}}function gc(t,e,n,r){return r==="year"?yt(n.diffWholeYears(t,e),"year"):r==="month"?yt(n.diffWholeMonths(t,e),"month"):$H(t,e)}class pk{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,a,c,f,d,h;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=Pz(e,s)),a=this.buildCurrentRangeInfo(e,n),c=/^(year|month|week|day)$/.test(a.unit),f=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,c),f=this.trimHiddenDays(f),d=f,i.showNonCurrentDates||(d=Xo(d,a.range)),d=this.adjustActiveRange(d),d=Xo(d,s),h=Qx(a.range,s),Ls(f,e)||(e=f.start),{currentDate:e,validRange:s,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:c,activeRange:d,renderRange:f,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:h,dateIncrement:this.buildDateIncrement(a.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,a=null,c;return r.duration?(i=r.duration,s=r.durationUnit,a=this.buildRangeFromDuration(e,n,i,s)):(c=this.props.dayCount)?(s="day",a=this.buildRangeFromDayCount(e,n,c)):(a=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(a.start,a.end).unit:(i=this.getFallbackDuration(),s=N1(i).unit,a=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:a}}getFallbackDuration(){return yt({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:a,end:c}=e;return r&&(wc(i)<0&&(a=Wt(a),a=n.add(a,i)),wc(s)>1&&(c=Wt(c),c=zn(c,-1),c=n.add(c,s))),{start:a,end:c}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:a}=this.props,c,f,d;if(!a){let{dateIncrement:g}=this.props;g&&Bi(g)<Bi(r)?a=N1(g).unit:a=i}wc(r)<=1&&this.isHiddenDay(c)&&(c=this.skipHiddenDays(c,n),c=Wt(c));function h(){c=s.startOf(e,a),f=s.add(c,r),d={start:c,end:f}}return h(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,n),h()),d}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,a=0,c=e,f;s&&(c=i.startOf(c,s)),c=Wt(c),c=this.skipHiddenDays(c,n),f=c;do f=zn(f,1),this.isHiddenDay(f)||(a+=1);while(a<r);return{start:c,end:f}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?yt(1,r):e||yt({days:1}))}refineRange(e){if(e){let n=Iz(e,this.props.dateEnv);return n&&(n=hk(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=zn(e,n);return e}}function Zx(t,e,n,r){return{instanceId:ll(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function Lz(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:a}=t;return a==null&&(a=e,a==null&&(a=s.allDayGuess,a==null&&(a=!1))),{allDay:a,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function Ko(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:a,instances:c}=t;c=Yo(c,f=>!a[f.defId].recurringDef);for(let f in a){let d=a[f];if(d.recurringDef){let{duration:h}=d.recurringDef;h||(h=d.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let g=Bz(d,h,e,r,i.recurringTypes);for(let m of g){let v=Zx(f,{start:m,end:r.add(m,h)});c[v.instanceId]=v}}}return{defs:a,instances:c}}function Bz(t,e,n,r,i){let a=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(a=a.map(Wt)),a}const N0={id:String,groupId:String,title:String,url:String,interactive:Boolean},gk={start:_e,end:_e,date:_e,allDay:Boolean},Fz=Object.assign(Object.assign(Object.assign({},N0),gk),{extendedProps:_e});function mk(t,e,n,r,i=Jx(n),s,a){let{refined:c,extra:f}=vk(t,n,i),d=Hz(e,n),h=Lz(c,d,n.dateEnv,n.pluginHooks.recurringTypes);if(h){let m=M1(c,f,e?e.sourceId:"",h.allDay,!!h.duration,n,s);return m.recurringDef={typeId:h.typeId,typeData:h.typeData,duration:h.duration},{def:m,instance:null}}let g=Uz(c,d,n,r);if(g){let m=M1(c,f,e?e.sourceId:"",g.allDay,g.hasEnd,n,s),v=Zx(m.defId,g.range,g.forcedStartTzo,g.forcedEndTzo);return a&&m.publicId&&a[m.publicId]&&(v.instanceId=a[m.publicId]),{def:m,instance:v}}return null}function vk(t,e,n=Jx(e)){return Gx(t,n)}function Jx(t){return Object.assign(Object.assign(Object.assign({},sp),Fz),t.pluginHooks.eventRefiners)}function M1(t,e,n,r,i,s,a){let c={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(a&&t.id?a[t.id]:"")||ll(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:ap(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let f of s.pluginHooks.eventDefMemberAdders)Object.assign(c,f(t));return Object.freeze(c.ui.classNames),Object.freeze(c.extendedProps),c}function Uz(t,e,n,r){let{allDay:i}=t,s,a=null,c=!1,f,d=null,h=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(h),s)a=s.marker;else if(!r)return null;return t.end!=null&&(f=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!f||f.isTimeUnspecified)),i&&a&&(a=Wt(a)),f&&(d=f.marker,i&&(d=Wt(d)),a&&d<=a&&(d=null)),d?c=!0:r||(c=n.options.forceEventDuration||!1,d=n.dateEnv.add(a,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:c,range:{start:a,end:d},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:f?f.forcedTzo:null}}function Hz(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Lf(t,e,n,r,i,s){let a=ti(),c=Jx(n);for(let f of t){let d=mk(f,e,n,r,c,i,s);d&&j1(d,a)}return a}function j1(t,e=ti()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function e_(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=ig(t,s=>zz(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return ti()}function zz(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function ti(){return{defs:{},instances:{}}}function t_(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function ig(t,e){let n=Yo(t.defs,e),r=Yo(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function $z(t,e){let{defs:n,instances:r}=t,i={},s={};for(let a in n)e.defs[a]||(i[a]=n[a]);for(let a in r)!e.instances[a]&&i[r[a].defId]&&(s[a]=r[a]);return{defs:i,instances:s}}function Vz(t,e){return Array.isArray(t)?Lf(t,null,e,!0):typeof t=="object"&&t?Lf([t],null,e,!0):t!=null?String(t):null}function QA(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const sp={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:_e,overlap:_e,allow:_e,className:QA,classNames:QA,color:String,backgroundColor:String,borderColor:String,textColor:String},qz={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function ap(t,e){let n=Vz(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function yk(t){return t.reduce(Wz,qz)}function Wz(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const Gz={id:String,defaultAllDay:Boolean,url:String,format:String,events:_e,eventDataTransform:_e,success:_e,failure:_e};function xk(t,e,n=_k(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=Gx(r,n),a=Yz(i,e);if(a)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:ll(),sourceDefId:a.sourceDefId,meta:a.meta,ui:ap(i,e),extendedProps:s}}return null}function _k(t){return Object.assign(Object.assign(Object.assign({},sp),Gz),t.pluginHooks.eventSourceRefiners)}function Yz(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function Xz(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return Kz(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return Qz(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return Zz(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return t_(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Ko(t,r.activeRange,i):t;case"REMOVE_EVENTS":return $z(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return bk(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return ig(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return ti();default:return t}}function Kz(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let a=Lf(wk(i,e,s),e,s);return r&&(a=Ko(a,r,s)),t_(bk(t,e.sourceId),a)}return t}function Qz(t,e,n,r,i){const{defIdMap:s,instanceIdMap:a}=e7(t);let c=Lf(wk(n,e,i),e,i,!1,s,a);return Ko(c,r,i)}function wk(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=ZA(t,i)),r&&(t=ZA(t,r)),t}function ZA(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function Zz(t,e,n,r){return n&&(e=Ko(e,n,r)),t_(t,e)}function JA(t,e,n){let{defs:r}=t,i=$s(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function bk(t,e){return ig(t,n=>n.sourceId!==e)}function Jz(t,e){return{defs:t.defs,instances:Yo(t.instances,n=>!e[n.instanceId])}}function e7(t){const{defs:e,instances:n}=t,r={},i={};for(let s in e){const a=e[s],{publicId:c}=a;c&&(r[c]=s)}for(let s in n){const a=n[s],c=e[a.defId],{publicId:f}=c;f&&(i[f]=s)}return{defIdMap:r,instanceIdMap:i}}class sg{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){t7(this.handlers,e,n)}off(e,n){n7(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let a of s)a.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function t7(t,e,n){(t[e]||(t[e]=[])).push(n)}function n7(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const r7={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function i7(t,e){return Lf(s7(t),null,e)}function s7(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},r7),n)),e}function Ek(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},n_(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function a7(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function n_(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,_7(t,e.dateEnv)),n}function e2(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=Wt(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function r_(t,e,n,r){let i=op(t.defs,e),s=ti();for(let a in t.defs){let c=t.defs[a];s.defs[a]=o7(c,i[a],n,r)}for(let a in t.instances){let c=t.instances[a],f=s.defs[c.defId];s.instances[a]=l7(c,f,i[c.defId],n,r)}return s}function o7(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let a of r.pluginHooks.eventDefMutationAppliers)a(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function l7(t,e,n,r,i){let{dateEnv:s}=i,a=r.standardProps&&r.standardProps.allDay===!0,c=r.standardProps&&r.standardProps.hasEnd===!1,f=Object.assign({},t);return a&&(f.range=dk(f.range)),r.datesDelta&&n.startEditable&&(f.range={start:s.add(f.range.start,r.datesDelta),end:s.add(f.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(f.range={start:s.add(f.range.start,r.startDelta),end:f.range.end}),r.endDelta&&n.durationEditable&&(f.range={start:f.range.start,end:s.add(f.range.end,r.endDelta)}),c&&(f.range={start:f.range.start,end:e2(e.allDay,f.range.start,i)}),e.allDay&&(f.range={start:Wt(f.range.start),end:Wt(f.range.end)}),f.range.end<f.range.start&&(f.range.end=e2(e.allDay,f.range.start,i)),f}class hc{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Zt{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in gk)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=N0[e](n),this.mutate({standardProps:{publicId:n}});else if(e in N0)n=N0[e](n),this.mutate({standardProps:{[e]:n}});else if(e in sp){let r=sp[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,a=gc(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:a}):this.mutate({startDelta:a})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=gc(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},a=i.createMarker(e),c;if(a&&!(n!=null&&(c=i.createMarker(n),!c))&&this._instance){let f=this._instance.range;r.allDay===!0&&(f=dk(f));let d=gc(f.start,a,i,r.granularity);if(c){let h=gc(f.end,c,i,r.granularity);IH(d,h)?this.mutate({datesDelta:d,standardProps:s}):this.mutate({startDelta:d,endDelta:h,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:d,standardProps:s})}}moveStart(e){let n=yt(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=yt(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=yt(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=nn(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),a=e_(s,n.instanceId);a=r_(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let f=new Zt(i,r,n);this._def=a.defs[r.defId],this._instance=a.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:a}),i.emitter.trigger("eventChange",{oldEvent:f,event:this,relatedEvents:$o(a,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=Sk(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new hc(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,a={allDay:n.allDay};return n.title&&(a.title=n.title),i&&(a.start=i),s&&(a.end=s),n.publicId&&(a.id=n.publicId),n.groupId&&(a.groupId=n.groupId),n.url&&(a.url=n.url),r.display&&r.display!=="auto"&&(a.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?a.color=r.backgroundColor:(r.backgroundColor&&(a.backgroundColor=r.backgroundColor),r.borderColor&&(a.borderColor=r.borderColor)),r.textColor&&(a.textColor=r.textColor),r.classNames.length&&(a.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,n.extendedProps):a.extendedProps=n.extendedProps),a}toJSON(){return this.toPlainObject()}}function Sk(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function $o(t,e,n){let{defs:r,instances:i}=t,s=[],a=n?n.instanceId:"";for(let c in i){let f=i[c],d=r[f.defId];f.instanceId!==a&&s.push(new Zt(e,d,f))}return s}function t2(t,e,n,r){let i={},s={},a={},c=[],f=[],d=op(t.defs,e);for(let h in t.defs){let g=t.defs[h];d[g.defId].display==="inverse-background"&&(g.groupId?(i[g.groupId]=[],a[g.groupId]||(a[g.groupId]=g)):s[h]=[])}for(let h in t.instances){let g=t.instances[h],m=t.defs[g.defId],v=d[m.defId],w=g.range,x=!m.allDay&&r?hk(w,r):w,b=Xo(x,n);b&&(v.display==="inverse-background"?m.groupId?i[m.groupId].push(b):s[g.defId].push(b):v.display!=="none"&&(v.display==="background"?c:f).push({def:m,ui:v,instance:g,range:b,isStart:x.start&&x.start.valueOf()===b.start.valueOf(),isEnd:x.end&&x.end.valueOf()===b.end.valueOf()}))}for(let h in i){let g=i[h],m=KA(g,n);for(let v of m){let w=a[h],x=d[w.defId];c.push({def:w,ui:x,instance:null,range:v,isStart:!1,isEnd:!1})}}for(let h in s){let g=s[h],m=KA(g,n);for(let v of m)c.push({def:t.defs[h],ui:d[h],instance:null,range:v,isStart:!1,isEnd:!1})}return{bg:c,fg:f}}function c7(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function n2(t,e){t.fcSeg=e}function jc(t){return t.fcSeg||t.parentNode.fcSeg||null}function op(t,e){return $s(t,n=>Tk(n,e))}function Tk(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),yk(n)}function Ak(t,e){let n=t.map(u7);return n.sort((r,i)=>AH(r,i,e)),n.map(r=>r._seg)}function u7(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function f7(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,a=s.startEditable;for(let c of r)a=c(a,i,s,e);return a}function d7(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function h7(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function Ck(t,e,n,r,i,s,a){let{dateEnv:c,options:f}=n,{displayEventTime:d,displayEventEnd:h}=f,g=t.eventRange.def,m=t.eventRange.instance;d==null&&(d=r!==!1),h==null&&(h=i!==!1);let v=m.range.start,w=m.range.end,x=t.start||t.eventRange.range.start,b=t.end||t.eventRange.range.end,S=Wt(v).valueOf()===Wt(x).valueOf(),T=Wt(Va(w,-1)).valueOf()===Wt(Va(b,-1)).valueOf();return d&&!g.allDay&&(S||T)?(x=S?v:x,b=T?w:b,h&&g.hasEnd?c.formatRange(x,b,e,{forcedStartTzo:m.forcedStartTzo,forcedEndTzo:m.forcedEndTzo}):c.format(x,e,{forcedTzo:m.forcedStartTzo})):""}function La(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&Ls(e,r.start)}}function p7(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function Rk(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function Dk(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:a}=e,{eventInteractive:c}=a;return c==null&&(c=n.interactive,c==null&&(c=!!s.hasHandlers("eventClick"))),c?rk(f=>{s.trigger("eventClick",{el:f.target,event:new Zt(e,n,r),jsEvent:f,view:e.viewApi})}):{}}const g7={start:_e,end:_e,allDay:Boolean};function m7(t,e,n){let r=v7(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function v7(t,e){let{refined:n,extra:r}=Gx(t,g7),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:a}=n;return a==null&&(a=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:a},r)}function y7(t,e){return jz(t.range,e.range)&&t.allDay===e.allDay&&x7(t,e)}function x7(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function _7(t,e){return Object.assign(Object.assign({},kk(t.range,e,t.allDay)),{allDay:t.allDay})}function Ok(t,e,n){return Object.assign(Object.assign({},kk(t,e,n)),{timeZone:e.timeZone})}function kk(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function w7(t,e,n){let r=vk({editable:!1},n),i=M1(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:Tk(i,e),instance:Zx(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function b7(t,e,n){let r=!1,i=function(c){r||(r=!0,e(c))},s=function(c){r||(r=!0,n(c))},a=t(i,s);a&&typeof a.then=="function"&&a.then(i,s)}class r2 extends Error{constructor(e,n){super(e),this.response=n}}function E7(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new r2("Failure parsing JSON",i)});throw new r2("Request failed",i)})}let ay;function Nk(){return ay==null&&(ay=S7()),ay}function S7(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class T7 extends Rt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{rp(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{rp(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",a=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return Nk()||a.push("fc-liquid-hack"),e.children(a,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Xc{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function A7(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function i_(t){return{[t.component.uid]:t}}const P1={};class Kc extends ei{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let s,a;return i?(s=n.dateEnv.startOf(r,e.unit),a=n.dateEnv.add(s,yt(1,e.unit)).valueOf()-r.valueOf()):(s=r,a=1e3*60),a=Math.min(1e3*60*60*24,a),{state:{nowDate:s,todayRange:C7(s)},waitMs:a}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Kc.contextType=Xs;function C7(t){let e=Wt(t),n=zn(e,1);return{start:e,end:n}}class R7{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,a;for(let c in n)i.push(c);for(s=0;s<i.length;s+=1)if(a=n[i[s]],a&&a.singleUnit===e)return a;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=yt(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),nn(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),nn(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=m7(r,i.dateEnv,yt({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),Ek(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),a7(e,n))}addEvent(e,n){if(e instanceof Zt){let a=e._def,c=e._instance;return this.getCurrentData().eventStore.defs[a.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:j1({def:a,instance:c})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof hc)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=Xx(r.eventSources));else if(n!=null){let a=this.getEventSourceById(n);if(!a)return console.warn(`Could not find an event source with ID "${n}"`),null;i=a.internalEventSource}let s=mk(e,i,r,!1);if(s){let a=new Zt(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:j1(s)}),this.triggerEventAdd(a),a}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Sk(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let a=r[s];if(a.publicId===e){if(a.recurringDef)return new Zt(n,a,null);for(let c in i){let f=i[c];if(f.defId===a.defId)return new Zt(n,a,f)}}}return null}getEvents(){let e=this.getCurrentData();return $o(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new hc(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new hc(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof hc)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=xk(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new hc(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=yt(e);n&&this.trigger("_scrollRequest",{time:n})}}function D7(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function Ik(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function O7(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function k7(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function N7(t,e){return{left:t.left-e.left,top:t.top-e.top}}const oy=ti();class I7{constructor(){this.getKeysForEventDefs=nt(this._getKeysForEventDefs),this.splitDateSelection=nt(this._splitDateSpan),this.splitEventStore=nt(this._splitEventStore),this.splitIndividualUi=nt(this._splitIndividualUi),this.splitEventDrag=nt(this._splitInteraction),this.splitEventResize=nt(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,r),a=this.splitEventStore(e.eventStore,r),c=this.splitEventDrag(e.eventDrag),f=this.splitEventResize(e.eventResize),d={};this.eventUiBuilders=$s(n,(h,g)=>this.eventUiBuilders[g]||nt(M7));for(let h in n){let g=n[h],m=a[h]||oy,v=this.eventUiBuilders[h];d[h]={businessHours:g.businessHours||e.businessHours,dateSelection:i[h]||null,eventStore:m,eventUiBases:v(e.eventUiBases[""],g.ui,s[h]),eventSelection:m.instances[e.eventSelection]?e.eventSelection:"",eventDrag:c[h]||null,eventResize:f[h]||null}}return d}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let i of r)n[i]=e}return n}_getKeysForEventDefs(e){return $s(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:i}=e,s={};for(let a in r)for(let c of n[a])s[c]||(s[c]=ti()),s[c].defs[a]=r[a];for(let a in i){let c=i[a];for(let f of n[c.defId])s[f]&&(s[f].instances[a]=c)}return s}_splitIndividualUi(e,n){let r={};for(let i in e)if(i)for(let s of n[i])r[s]||(r[s]={}),r[s][i]=e[i];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,i),a=c=>{n[c]||(n[c]={affectedEvents:r[c]||oy,mutatedEvents:s[c]||oy,isEvent:e.isEvent})};for(let c in r)a(c);for(let c in s)a(c)}return n}}function M7(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let i={"":yk(r)};return n&&Object.assign(i,n),i}function Mk(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!Ls(r.activeRange,t))),isOther:!!(r&&!Ls(r.currentRange,t)),isToday:!!(e&&Ls(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function s_(t,e){let n=["fc-day",`fc-day-${BH[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const j7=nn({year:"numeric",month:"long",day:"numeric"}),P7=nn({week:"long"});function lp(t,e,n="day",r=!0){const{dateEnv:i,options:s,calendarApi:a}=t;let c=i.format(e,n==="week"?P7:j7);if(s.navLinks){let f=i.toDate(e);const d=h=>{let g=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof g=="function"?g.call(a,i.toDate(e),h):(typeof g=="string"&&(n=g),a.zoomTo(e,n))};return Object.assign({title:wf(s.navLinkHint,[c,f],c),"data-navlink":""},r?nk(d):{onClick:d})}return{"aria-label":c}}let ly=null;function L7(){return ly===null&&(ly=B7()),ly}function B7(){let t=document.createElement("div");_f(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return Hx(t),n}let cy;function F7(){return cy||(cy=U7()),cy}function U7(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=jk(t);return document.body.removeChild(t),e}function jk(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function H7(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,c=jk(t),f=c.y-r-i,d=c.x-s-a,h={borderLeft:r,borderRight:i,borderTop:s,borderBottom:a,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return L7()&&n.direction==="rtl"?h.scrollbarLeft=f:h.scrollbarRight=f,e&&(h.paddingLeft=parseInt(n.paddingLeft,10)||0,h.paddingRight=parseInt(n.paddingRight,10)||0,h.paddingTop=parseInt(n.paddingTop,10)||0,h.paddingBottom=parseInt(n.paddingBottom,10)||0),h}function z7(t,e=!1,n){let r=a_(t),i=H7(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function a_(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function $7(t){let e=Pk(t),n=t.getBoundingClientRect();for(let r of e){let i=Ik(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function Pk(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class Pc{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Kh(this.tops||[],e.tops||[])&&Kh(this.bottoms||[],e.bottoms||[])&&Kh(this.lefts||[],e.lefts||[])&&Kh(this.rights||[],e.rights||[])}}function Kh(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class o_{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class V7 extends o_{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class q7 extends o_{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class hs extends Rt{constructor(){super(...arguments),this.uid=ll()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!fr(e,".fc-event-mirror")}isValidDateDownEl(e){return!fr(e,".fc-event:not(.fc-bg-event)")&&!fr(e,".fc-more-link")&&!fr(e,"a[data-navlink]")&&!fr(e,".fc-popover")}}class Lk{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:l_(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,s=n.span;i.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:s.start}},r),i.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(uy(i,n.level,n.levelCoord),uy(r,n.level,[e])):uy(r[n.level],n.lateral,e),this.stackCnts[Vo(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,a=n.length,c=0,f=-1,d=-1,h=null,g=0;for(let w=0;w<a;w+=1){const x=n[w];if(!i&&x>=c+this.getEntryThickness(e))break;let b=r[w],S,T=B1(b,e.span.start,L1),A=T[0]+T[1];for(;(S=b[A])&&S.span.start<e.span.end;){let C=x+this.getEntryThickness(S);C>c&&(c=C,h=S,f=w,d=A),C===c&&(g=Math.max(g,s[Vo(S)]+1)),A+=1}}let m=0;if(h)for(m=f+1;m<a&&n[m]<c;)m+=1;let v=-1;return m<a&&n[m]===c&&(v=B1(r[m],e.span.end,L1)[0]),{touchingLevel:f,touchingLateral:d,touchingEntry:h,stackCnt:g,levelCoord:c,level:m,lateral:v}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let a=e[s],c=n[s];for(let f of a)i.push(Object.assign(Object.assign({},f),{thickness:this.getEntryThickness(f),levelCoord:c}))}return i}}function L1(t){return t.span.end}function Vo(t){return t.index+":"+t.span.start}function W7(t){let e=[];for(let n of t){let r=[],i={span:n.span,entries:[n]};for(let s of e)l_(s.span,i.span)?i={entries:s.entries.concat(i.entries),span:G7(s.span,i.span)}:r.push(s);r.push(i),e=r}return e}function G7(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function l_(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function uy(t,e,n){t.splice(e,0,n)}function B1(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),a=n(t[s]);if(e<a)i=s;else if(e>a)r=s+1;else return[s,1]}return[r,0]}class Y7{constructor(e,n){this.emitter=new sg}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const c_={};function X7(t,e){return!t||e>10?nn({weekday:"short"}):e>1?nn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):nn({weekday:"long"})}const Bk="fc-col-header-cell";function Fk(t){return t.text}class K7 extends Rt{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:a,dateProfile:c}=s,f=Mk(a,s.todayRange,null,c),d=[Bk].concat(s_(f,r)),h=e.format(a,s.dayHeaderFormat),g=!f.isDisabled&&s.colCnt>1?lp(this.context,a):{},m=e.toDate(a);e.namedTimeZoneImpl&&(m=Va(m,36e5));let v=Object.assign(Object.assign(Object.assign({date:m,view:i},s.extraRenderProps),{text:h}),f);return ne(ii,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":f.isDisabled?void 0:qx(a)},s.extraDataAttrs),renderProps:v,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:Fk,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},w=>ne("div",{className:"fc-scrollgrid-sync-inner"},!f.isDisabled&&ne(w,{elTag:"a",elAttrs:g,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const Q7=nn({weekday:"long"});class Z7 extends Rt{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,a=zn(new Date(2592e5),e.dow),c={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},f=n.format(a,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:a},c),{view:i}),e.extraRenderProps),{text:f});return ne(ii,{elTag:"th",elClasses:[Bk,...s_(c,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:Fk,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},h=>ne("div",{className:"fc-scrollgrid-sync-inner"},ne(h,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(a,Q7)}})))}}class Uk extends Rt{constructor(){super(...arguments),this.createDayHeaderFormatter=nt(J7)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return ne(Kc,{unit:"day"},(c,f)=>ne("tr",{role:"row"},s&&s("day"),n.map(d=>i?ne(K7,{key:d.toISOString(),date:d,dateProfile:r,todayRange:f,colCnt:n.length,dayHeaderFormat:a}):ne(Z7,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:a}))))}}function J7(t,e,n){return t||X7(e,n)}class Hk{constructor(e,n){let r=e.start,{end:i}=e,s=[],a=[],c=-1;for(;r<i;)n.isHiddenDay(r)?s.push(c+.5):(c+=1,s.push(c),a.push(r)),r=zn(r,1);this.dates=a,this.indices=s,this.cnt=a.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(zn(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(cl(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class zk{constructor(e,n){let{dates:r}=e,i,s,a;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);a=Math.ceil(r.length/i)}else a=1,i=r.length;this.rowCnt=a,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:a}=r,c=s;for(;c<=a;){let f=Math.floor(c/n),d=Math.min((f+1)*n,a+1);i.push({row:f,firstCol:c%n,lastCol:(d-1)%n,isStart:r.isStart&&c===s,isEnd:r.isEnd&&d-1===a}),c=d}}return i}}class $k{constructor(){this.sliceBusinessHours=nt(this._sliceBusinessHours),this.sliceDateSelection=nt(this._sliceDateSpan),this.sliceEventStore=nt(this._sliceEventStore),this.sliceEventDrag=nt(this._sliceInteraction),this.sliceEventResize=nt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:a}=e,c=this.sliceEventStore(e.eventStore,a,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,a,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:c.fg,bgEventSegs:c.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,a,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:Va(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(Ko(e,Qh(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let a=t2(e,n,Qh(r,!!i),i);return{bg:this.sliceEventRanges(a.bg,s),fg:this.sliceEventRanges(a.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let a=t2(e.mutatedEvents,n,Qh(r,!!i),i);return{segs:this.sliceEventRanges(a.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...a){if(!e)return[];let c=Qh(n,!!r),f=Xo(e.range,c);if(f){e=Object.assign(Object.assign({},e),{range:f});let d=w7(e,i,s),h=this.sliceRange(e.range,...a);for(let g of h)g.eventRange=d;return h}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:zn(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function Qh(t,e){let n=t.activeRange;return e?n:{start:Va(n.start,t.slotMinTime.milliseconds),end:Va(n.end,t.slotMaxTime.milliseconds-864e5)}}function Vk(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!rg(e.validRange,r[i].range))return!1;return qk({eventDrag:t},n)}function e9(t,e,n){return rg(e.validRange,t.range)?qk({dateSelection:t},n):!1}function qk(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||t9)(r,e)}function t9(t,e,n={},r){return!(t.eventDrag&&!n9(t,e,n,r)||t.dateSelection&&!r9(t,e,n,r))}function n9(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,a=s.mutatedEvents,c=a.defs,f=a.instances,d=op(c,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(d=$s(d,r));let h=Jz(t.eventStore,s.affectedEvents.instances),g=h.defs,m=h.instances,v=op(g,t.eventUiBases);for(let w in f){let x=f[w],b=x.range,S=d[x.defId],T=c[x.defId];if(!Wk(S.constraints,b,h,t.businessHours,e))return!1;let{eventOverlap:A}=e.options,C=typeof A=="function"?A:null;for(let V in m){let I=m[V];if(Qx(b,I.range)&&(v[I.defId].overlap===!1&&s.isEvent||S.overlap===!1||C&&!C(new Zt(e,g[I.defId],I),new Zt(e,T,x))))return!1}let P=i.eventStore;for(let V of S.allows){let I=Object.assign(Object.assign({},n),{range:x.range,allDay:T.allDay}),j=P.defs[T.defId],L=P.instances[w],K;if(j?K=new Zt(e,j,L):K=new Zt(e,T),!V(n_(I,e),K))return!1}}return!0}function r9(t,e,n,r){let i=t.eventStore,s=i.defs,a=i.instances,c=t.dateSelection,f=c.range,{selectionConfig:d}=e.getCurrentData();if(r&&(d=r(d)),!Wk(d.constraints,f,i,t.businessHours,e))return!1;let{selectOverlap:h}=e.options,g=typeof h=="function"?h:null;for(let m in a){let v=a[m];if(Qx(f,v.range)&&(d.overlap===!1||g&&!g(new Zt(e,s[v.defId],v),null)))return!1}for(let m of d.allows){let v=Object.assign(Object.assign({},n),c);if(!m(n_(v,e),null))return!1}return!0}function Wk(t,e,n,r,i){for(let s of t)if(!s9(i9(s,e,n,r,i),e))return!1;return!0}function i9(t,e,n,r,i){return t==="businessHours"?fy(Ko(r,e,i)):typeof t=="string"?fy(ig(n,s=>s.groupId===t)):typeof t=="object"&&t?fy(Ko(t,e,i)):[]}function fy(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function s9(t,e){for(let n of t)if(rg(n,e))return!0;return!1}const Zh=/^(visible|hidden)$/;class a9 extends Rt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,fs(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),ne("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Zh.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Zh.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Zh.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Zh.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class js{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,a=!1,c=!1;n!==null?(a=r in s,s[r]=n,i[r]=(i[r]||0)+1,c=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],a=!0)),this.masterCallback&&(a&&this.masterCallback(null,String(r)),c&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return yz(this.currentMap,e,n,r)}getAll(){return Xx(this.currentMap)}}function o9(t){let e=mH(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,OH(r));return Math.ceil(n)}function Gk(t,e){return t.liquid&&e.liquid}function l9(t,e){return e.maxHeight!=null||Gk(t,e)}function c9(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):ne("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,ne(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function u9(t,e){return $a(t,e,zi)}function f9(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(ne("col",{style:{width:r.width==="shrink"?d9(e):r.width||"",minWidth:r.minWidth||""}}))}return ne("colgroup",{},...n)}function d9(t){return t??4}function h9(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function p9(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function g9(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function F1(t){return ne("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function cp(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function Yk(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class u_ extends Rt{constructor(){super(...arguments),this.processCols=nt(e=>e,u9),this.renderMicroColGroup=nt(f9),this.scrollerRefs=new js,this.scrollerElRefs=new js(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),a=this.renderMicroColGroup(s,n.shrinkWidth),c=p9(e.liquid,r);e.collapsibleWidth&&c.push("fc-scrollgrid-collapsible");let f=i.length,d=0,h,g=[],m=[],v=[];for(;d<f&&(h=i[d]).type==="header";)g.push(this.renderSection(h,a,!0)),d+=1;for(;d<f&&(h=i[d]).type==="body";)m.push(this.renderSection(h,a,!1)),d+=1;for(;d<f&&(h=i[d]).type==="footer";)v.push(this.renderSection(h,a,!0)),d+=1;let w=!Nk();const x={role:"rowgroup"};return ne("table",{role:"grid",className:c.join(" "),style:{height:e.height}},!!(!w&&g.length)&&ne("thead",x,...g),!!(!w&&m.length)&&ne("tbody",x,...m),!!(!w&&v.length)&&ne("tfoot",x,...v),w&&ne("tbody",x,...g,...m,...v))}renderSection(e,n,r){return"outerContent"in e?ne(qt,{key:e.key},e.outerContent):ne("tr",{key:e.key,role:"presentation",className:g9(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:a,scrollerClientWidths:c,scrollerClientHeights:f}=this.state,d=l9(s,e),h=Gk(s,e),g=s.liquid?a?"scroll":d?"auto":"hidden":"visible",m=e.key,v=c9(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&c[m]!==void 0?c[m]:null,clientHeight:f[m]!==void 0?f[m]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return ne(i?"th":"td",{ref:r.elRef,role:"presentation"},ne("div",{className:`fc-scroller-harness${h?" fc-scroller-harness-liquid":""}`},ne(a9,{ref:this.scrollerRefs.createRef(m),elRef:this.scrollerElRefs.createRef(m),overflowY:g,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:h,liquidIsAbsolute:!0},v)))}_handleScrollerEl(e,n){let r=m9(this.props.sections,n);r&&fs(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return h9(this.props.cols)?o9(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=F7(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},a={};for(let c in n.currentMap){let f=n.currentMap[c];if(f&&f.needsYScrolling()){i=!0;break}}for(let c of this.props.sections){let f=c.key,d=r.currentMap[f];if(d){let h=d.parentNode;s[f]=Math.floor(h.getBoundingClientRect().width-(i?e.y:0)),a[f]=Math.floor(h.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:a}}}u_.addStateEquality({scrollerClientWidths:zi,scrollerClientHeights:zi});function m9(t,e){for(let n of t)if(n.key===e)return n;return null}class f_ extends Rt{constructor(){super(...arguments),this.buildPublicEvent=nt((e,n,r)=>new Zt(e,n,r)),this.handleEl=e=>{this.el=e,fs(this.props.elRef,e),e&&n2(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:a}=s,c={event:this.buildPublicEvent(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,isDraggable:!e.disableDragging&&f7(i,n),isStartResizable:!e.disableResizing&&d7(i,n),isEndResizable:!e.disableResizing&&h7(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return ne(ii,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...p7(c),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:c,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&n2(this.el,this.props.seg)}}class d_ extends Rt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,a=r.eventTimeFormat||e.defaultTimeFormat,c=Ck(i,a,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return ne(f_,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:Dk(i,n),defaultGenerator:v9,timeText:c}),(f,d)=>ne(qt,null,ne(f,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&ne("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&ne("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}d_.addPropsEquality({seg:zi});function v9(t){return ne("div",{className:"fc-event-main-frame"},t.timeText&&ne("div",{className:"fc-event-time"},t.timeText),ne("div",{className:"fc-event-title-container"},ne("div",{className:"fc-event-title fc-sticky"},t.event.title||ne(qt,null,""))))}const h_=t=>ne(Xs.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return ne(ii,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),y9=nn({day:"numeric"});class p_ extends Rt{constructor(){super(...arguments),this.refineRenderProps=k0(x9)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return ne(ii,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":qx(e.date)}),elClasses:[...s_(i,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function g_(t){return!!(t.dayCellContent||I1("dayCellContent",t))}function x9(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=Mk(e,t.todayRange,null,r),a=t.showDayNumber?n.format(e,i?t.monthStartFormat:y9):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:a}),t.extraRenderProps)}class Xk extends Rt{render(){let{props:e}=this,{seg:n}=e;return ne(f_,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:_9,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function _9(t){let{title:e}=t.event;return e&&ne("div",{className:"fc-event-title"},t.event.title)}function Kk(t){return ne("div",{className:`fc-${t}`})}const Qk=t=>ne(Xs.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,a=n.computeWeekNumber(i),c=n.format(i,s),f={num:a,text:c,date:i};return ne(ii,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:f,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:w9,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)});function w9(t){return t.text}const dy=10;class b9 extends Rt{constructor(){super(...arguments),this.state={titleId:tg()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&fs(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=ek(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return nH(ne("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),ne("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},ne("span",{className:"fc-popover-title",id:i.titleId},r.title),ne("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),ne("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=$7(n);if(s){let a=i.getBoundingClientRect(),c=r?fr(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,f=e?s.right-a.width:s.left;c=Math.max(c,dy),f=Math.min(f,document.documentElement.clientWidth-dy-a.width),f=Math.max(f,dy);let d=i.offsetParent.getBoundingClientRect();_f(i,{top:c-d.top,left:f-d.left})}}}class E9 extends hs{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:a}=r,c=n.format(i,e.dayPopoverFormat);return ne(p_,{elRef:this.handleRootEl,date:i,dateProfile:a,todayRange:s},(f,d,h)=>ne(b9,{elRef:h.ref,id:r.id,title:c,extraClassNames:["fc-more-popover"].concat(h.className||[]),extraAttrs:h,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},g_(e)&&ne(f,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:a}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class Zk extends Rt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:tg()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&fs(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=i2(n).start;function a(c){let{def:f,instance:d,range:h}=c.eventRange;return{event:new Zt(r,f,d),start:r.dateEnv.toDate(h.start),end:r.dateEnv.toDate(h.end),isStart:c.isStart,isEnd:c.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(a),hiddenSegs:n.hiddenSegs.map(a),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return ne(Xs.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:a}=r,{moreLinkText:c}=s,{moreCnt:f}=e,d=i2(e),h=typeof c=="function"?c.call(a,f):`+${f} ${c}`,g=wf(s.moreLinkHint,[f],h),m={num:f,shortText:`+${f}`,text:h,view:i};return ne(qt,null,!!e.moreCnt&&ne(ii,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),nk(this.handleClick)),{title:g,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:m,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||S9,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&ne(E9,{id:n.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=fr(this.linkEl,".fc-view-harness"))}}function S9(t){return t.text}function i2(t){if(t.allDayDate)return{start:t.allDayDate,end:zn(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:Jk(e),end:A9(e)}}function Jk(t){return t.reduce(T9).eventRange.range.start}function T9(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function A9(t){return t.reduce(C9).eventRange.range.end}function C9(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class R9{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class D9 extends R9{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const O9=[],eN={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},tN=Object.assign(Object.assign({},eN),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function k9(t){let e=t.length>0?t[0].code:"en",n=O9.concat(t),r={en:tN};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function nN(t,e){return typeof t=="object"&&!Array.isArray(t)?rN(t.code,[t.code],t):N9(t,e)}function N9(t,e){let n=[].concat(t||[]),r=I9(n,e)||tN;return rN(t,n,r)}function I9(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function rN(t,e,n){let r=Yx([eN,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function Ks(t){return{id:ll(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function M9(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let a of s){const c=a.name,f=n[c];f===void 0?(n[c]=a.id,i(a.deps),r=P9(r,a)):f!==a.id&&console.warn(`Duplicate plugin '${c}'`)}}return t&&i(t),i(e),r}function j9(){let t=[],e=[],n;return(r,i)=>((!n||!$a(r,t)||!$a(i,e))&&(n=M9(r,i)),t=r,e=i,n)}function P9(t,e){return{premiumReleaseDate:L9(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function L9(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Za extends fd{}Za.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Za.prototype.baseIconClass="fc-icon";Za.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Za.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Za.prototype.iconOverrideOption="buttonIcons";Za.prototype.iconOverrideCustomButtonOption="icon";Za.prototype.iconOverridePrefix="fc-icon-";function B9(t,e){let n={},r;for(r in t)U1(r,n,t,e);for(r in e)U1(r,n,t,e);return n}function U1(t,e,n,r){if(e[t])return e[t];let i=F9(t,e,n,r);return i&&(e[t]=i),i}function F9(t,e,n,r){let i=n[t],s=r[t],a=h=>i&&i[h]!==null?i[h]:s&&s[h]!==null?s[h]:null,c=a("component"),f=a("superType"),d=null;if(f){if(f===t)throw new Error("Can't have a custom view type that references itself");d=U1(f,e,n,r)}return!c&&d&&(c=d.component),c?{type:t,component:c,defaults:Object.assign(Object.assign({},d?d.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),s?s.rawOptions:{})}:null}function s2(t){return $s(t,U9)}function U9(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=a2(e):n&&!(n.prototype instanceof Rt)&&(n=a2(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function a2(t){return e=>ne(Xs.Consumer,null,n=>ne(ii,{elTag:"div",elClasses:fk(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function H9(t,e,n,r){let i=s2(t),s=s2(e.views),a=B9(i,s);return $s(a,c=>z9(c,s,e,n,r))}function z9(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,a=null,c="",f="",d={};if(s&&(a=$9(s),a)){let m=N1(a);c=m.unit,m.value===1&&(f=c,d=e[c]?e[c].rawOptions:{})}let h=m=>{let v=m.buttonText||{},w=t.defaults.buttonTextKey;return w!=null&&v[w]!=null?v[w]:v[t.type]!=null?v[t.type]:v[f]!=null?v[f]:null},g=m=>{let v=m.buttonHints||{},w=t.defaults.buttonTextKey;return w!=null&&v[w]!=null?v[w]:v[t.type]!=null?v[t.type]:v[f]!=null?v[f]:null};return{type:t.type,component:t.component,duration:a,durationUnit:c,singleUnit:f,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},d),t.overrides),buttonTextOverride:h(r)||h(n)||t.overrides.buttonText,buttonTextDefault:h(i)||t.defaults.buttonText||h(bf)||t.type,buttonTitleOverride:g(r)||g(n)||t.overrides.buttonHint,buttonTitleDefault:g(i)||t.defaults.buttonHint||g(bf)}}let o2={};function $9(t){let e=JSON.stringify(t),n=o2[e];return n===void 0&&(n=yt(t),o2[e]=n),n}function V9(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function q9(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function W9(t,e,n){let r=t.initialDate;return r!=null?e.createMarker(r):n.getDateMarker()}function G9(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Y9(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function X9(t,e,n){let r=e?e.activeRange:null;return sN({},n$(t,n),r,n)}function K9(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return sN(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return Z9(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?aN(t,i,r):t;case"FETCH_EVENT_SOURCES":return m_(t,e.sourceIds?ak(e.sourceIds):oN(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return t$(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function Q9(t,e,n){let r=e?e.activeRange:null;return m_(t,oN(t,n),r,!0,n)}function iN(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function sN(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=aN(i,n,r)),Object.assign(Object.assign({},t),i)}function Z9(t,e){return Yo(t,n=>n.sourceId!==e)}function aN(t,e,n){return m_(t,Yo(t,r=>J9(r,e,n)),e,!1,n)}function J9(t,e,n){return lN(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function m_(t,e,n,r,i){let s={};for(let a in t){let c=t[a];e[a]?s[a]=e$(c,n,r,i):s[a]=c}return s}function e$(t,e,n,r){let{options:i,calendarApi:s}=r,a=r.pluginHooks.eventSourceDefs[t.sourceDefId],c=ll();return a.fetch({eventSource:t,range:e,isRefetch:n,context:r},f=>{let{rawEvents:d}=f;i.eventSourceSuccess&&(d=i.eventSourceSuccess.call(s,d,f.response)||d),t.success&&(d=t.success.call(s,d,f.response)||d),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:c,fetchRange:e,rawEvents:d})},f=>{let d=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,f),d=!0),t.failure&&(t.failure(f),d=!0),d||console.warn(f.message,f),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:c,fetchRange:e,error:f})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:c})}function t$(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function oN(t,e){return Yo(t,n=>lN(n,e))}function n$(t,e){let n=_k(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let a=xk(s,e,n);a&&i.push(a)}return i}function lN(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function r$(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function i$(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function s$(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function a$(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function o$(t,e,n,r,i){let s=t.headerToolbar?l2(t.headerToolbar,t,e,n,r,i):null,a=t.footerToolbar?l2(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:a}}function l2(t,e,n,r,i,s){let a={},c=[],f=!1;for(let d in t){let h=t[d],g=l$(h,e,n,r,i,s);a[d]=g.widgets,c.push(...g.viewsWithButtons),f=f||g.hasTitle}return{sectionWidgets:a,viewsWithButtons:c,hasTitle:f}}function l$(t,e,n,r,i,s){let a=e.direction==="rtl",c=e.customButtons||{},f=n.buttonText||{},d=e.buttonText||{},h=n.buttonHints||{},g=e.buttonHints||{},m=t?t.split(" "):[],v=[],w=!1;return{widgets:m.map(b=>b.split(",").map(S=>{if(S==="title")return w=!0,{buttonName:S};let T,A,C,P,V,I;if(T=c[S])C=j=>{T.click&&T.click.call(j.target,j,j.target)},(P=r.getCustomButtonIconClass(T))||(P=r.getIconClass(S,a))||(V=T.text),I=T.hint||T.text;else if(A=i[S]){v.push(S),C=()=>{s.changeView(S)},(V=A.buttonTextOverride)||(P=r.getIconClass(S,a))||(V=A.buttonTextDefault);let j=A.buttonTextOverride||A.buttonTextDefault;I=wf(A.buttonTitleOverride||A.buttonTitleDefault||e.viewHint,[j,S],j)}else if(s[S])if(C=()=>{s[S]()},(V=f[S])||(P=r.getIconClass(S,a))||(V=d[S]),S==="prevYear"||S==="nextYear"){let j=S==="prevYear"?"prev":"next";I=wf(h[j]||g[j],[d.year||"year","year"],d[S])}else I=j=>wf(h[S]||g[S],[d[j]||j,j],d[S]);return{buttonName:S,buttonClick:C,buttonIcon:P,buttonText:V,buttonHint:I}})),viewsWithButtons:v,hasTitle:w}}class c${constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let u$={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const f$=Ks({name:"array-event-source",eventSourceDefs:[u$]});let d$={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;b7(i.bind(null,Ok(t.range,r)),s=>e({rawEvents:s}),n)}};const h$=Ks({name:"func-event-source",eventSourceDefs:[d$]}),p$={method:String,extraParams:_e,startParam:String,endParam:String,timeZoneParam:String};let g$={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=v$(r,t.range,t.context);E7(r.method,r.url,i).then(([s,a])=>{e({rawEvents:s,response:a})},n)}};const m$=Ks({name:"json-event-source",eventSourceRefiners:p$,eventSourceDefs:[g$]});function v$(t,e,n){let{dateEnv:r,options:i}=n,s,a,c,f,d={};return s=t.startParam,s==null&&(s=i.startParam),a=t.endParam,a==null&&(a=i.endParam),c=t.timeZoneParam,c==null&&(c=i.timeZoneParam),typeof t.extraParams=="function"?f=t.extraParams():f=t.extraParams||{},Object.assign(d,f),d[s]=r.formatIso(e.start),d[a]=r.formatIso(e.end),r.timeZone!=="local"&&(d[c]=r.timeZone),d}const y$={daysOfWeek:_e,startTime:yt,endTime:yt,duration:yt,startRecur:_e,endRecur:_e};let x$={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=MH(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Xo(e,{start:t.startRecur,end:t.endRecur});return r?w$(t.daysOfWeek,t.startTime,t.dateEnv,n,r):[]}};const _$=Ks({name:"simple-recurring-event",recurringTypes:[x$],eventRefiners:y$});function w$(t,e,n,r,i){let s=t?ak(t):null,a=Wt(i.start),c=i.end,f=[];for(e&&(e.milliseconds<0?c=zn(c,1):e.milliseconds>=1e3*60*60*24&&(a=zn(a,-1)));a<c;){let d;(!s||s[a.getUTCDay()])&&(e?d=r.add(a,e):d=a,f.push(r.createMarker(n.toDate(d)))),a=zn(a,1)}return f}const b$=Ks({name:"change-handler",optionChangeHandlers:{events(t,e){c2([t],e)},eventSources:c2}});function c2(t,e){let n=Xx(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let a=0;a<n.length;a+=1)if(n[a]._raw===i){n.splice(a,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function E$(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Ok(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function S$(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",$o(t,e))}const T$=[f$,h$,m$,_$,b$,Ks({name:"misc",isLoadingFuncs:[t=>iN(t.eventSources)],propSetHandlers:{dateProfile:E$,eventStore:S$}})];class A${constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new Ux(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function C$(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,nn(e.titleFormat||R$(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function R$(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=J0(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class u2{constructor(){this.resetListeners=new Set}handleInput(e,n){const r=this.dateEnv;if(e!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class D${constructor(e){this.computeCurrentViewData=nt(this._computeCurrentViewData),this.organizeRawLocales=nt(k9),this.buildLocale=nt(nN),this.buildPluginHooks=j9(),this.buildDateEnv=nt(O$),this.buildTheme=nt(k$),this.parseToolbars=nt(o$),this.buildViewSpecs=nt(H9),this.buildDateProfileGenerator=k0(N$),this.buildViewApi=nt(I$),this.buildViewUiProps=k0(P$),this.buildEventUiBySource=nt(M$,zi),this.buildEventUiBases=nt(j$),this.parseContextBusinessHours=k0(L$),this.buildTitle=nt(C$),this.nowManager=new u2,this.emitter=new sg,this.actionRunner=new A$(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=m=>{this.actionRunner.request(m)},this.props=e,this.actionRunner.pause(),this.nowManager=new u2;let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let a={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},c=W9(r.calendarOptions,r.dateEnv,this.nowManager),f=s.dateProfileGenerator.build(c);Ls(f.activeRange,c)||(c=f.currentRange.start);for(let m of r.pluginHooks.contextInit)m(a);let d=X9(r.calendarOptions,f,a),h={dynamicOptionOverrides:n,currentViewType:i,currentDate:c,dateProfile:f,businessHours:this.parseContextBusinessHours(a),eventSources:d,eventUiBases:{},eventStore:ti(),renderableEventStore:ti(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},g=Object.assign(Object.assign({},a),h);for(let m of r.pluginHooks.reducers)Object.assign(h,m(null,null,g));hy(h,a)&&this.emitter.trigger("loading",!0),this.state=h,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=G9(r.dynamicOptionOverrides,e),a=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),c=V9(r.currentViewType,e),f=this.computeCurrentViewData(c,a,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(f.options);let d={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:h,dateProfile:g}=r;this.data&&this.data.dateProfileGenerator!==f.dateProfileGenerator&&(g=f.dateProfileGenerator.build(h)),h=q9(h,e),g=Y9(g,e,h,f.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Ls(g.currentRange,h))&&(h=g.currentRange.start);let m=K9(r.eventSources,e,g,d),v=Xz(r.eventStore,e,m,g,d),x=iN(m)&&!f.options.progressiveEventRendering&&r.renderableEventStore||v,{eventUiSingleBase:b,selectionConfig:S}=this.buildViewUiProps(d),T=this.buildEventUiBySource(m),A=this.buildEventUiBases(x.defs,b,T),C={dynamicOptionOverrides:s,currentViewType:c,currentDate:h,dateProfile:g,eventSources:m,eventStore:v,renderableEventStore:x,selectionConfig:S,eventUiBases:A,businessHours:this.parseContextBusinessHours(d),dateSelection:r$(r.dateSelection,e),eventSelection:i$(r.eventSelection,e),eventDrag:s$(r.eventDrag,e),eventResize:a$(r.eventResize,e)},P=Object.assign(Object.assign({},d),C);for(let j of a.pluginHooks.reducers)Object.assign(C,j(r,e,P));let V=hy(r,d),I=hy(C,d);!V&&I?i.trigger("loading",!0):V&&!I&&i.trigger("loading",!1),this.state=C,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),a=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),c=i.pluginHooks.optionChangeHandlers,f=r&&r.calendarOptions,d=i.calendarOptions;if(f&&f!==d){f.timeZone!==d.timeZone&&(n.eventSources=a.eventSources=Q9(a.eventSources,n.dateProfile,a),n.eventStore=a.eventStore=JA(a.eventStore,r.dateEnv,a.dateEnv),n.renderableEventStore=a.renderableEventStore=JA(a.renderableEventStore,r.dateEnv,a.dateEnv));for(let h in c)(this.optionsForHandling.indexOf(h)!==-1||f[h]!==d[h])&&c[h](d[h],a)}this.optionsForHandling=[],e.onData&&e.onData(a)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:a,availableLocaleData:c,extra:f}=this.processRawCalendarOptions(e,n);f2(f);let d=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,c,i.defaultRangeSeparator),h=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),g=this.buildTheme(i,s),m=this.parseToolbars(i,this.stableOptionOverrides,g,h,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:d,viewSpecs:h,theme:g,toolbarConfig:m,localeDefaults:a,availableRawLocales:c.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=iy([bf,e,n]),s=this.organizeRawLocales(r),a=s.map,c=this.buildLocale(i||s.defaultCode,a).options,f=this.buildPluginHooks(e.plugins||[],T$),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},GA),YA),XA),f.listenerRefiners),f.optionRefiners),h={},g=iy([bf,c,e,n]),m={},v=this.currentCalendarOptionsInput,w=this.currentCalendarOptionsRefined,x=!1;for(let b in g)this.optionsForRefining.indexOf(b)===-1&&(g[b]===v[b]||To[b]&&b in v&&To[b](v[b],g[b]))?m[b]=w[b]:d[b]?(m[b]=d[b](g[b]),x=!0):h[b]=v[b];return x&&(this.currentCalendarOptionsInput=g,this.currentCalendarOptionsRefined=m,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:f,availableLocaleData:s,localeDefaults:c,extra:h}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:a,extra:c}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);f2(c),this.nowManager.handleInput(n.dateEnv,a.now);let f=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:a,dateProfileGenerator:f,viewApi:d}}processRawViewOptions(e,n,r,i,s){let a=iy([bf,e.optionDefaults,r,i,e.optionOverrides,s]),c=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},GA),YA),XA),hz),n.listenerRefiners),n.optionRefiners),f={},d=this.currentViewOptionsInput,h=this.currentViewOptionsRefined,g=!1,m={};for(let v in a)a[v]===d[v]||To[v]&&To[v](a[v],d[v])?f[v]=h[v]:(a[v]===this.currentCalendarOptionsInput[v]||To[v]&&To[v](a[v],this.currentCalendarOptionsInput[v])?v in this.currentCalendarOptionsRefined&&(f[v]=this.currentCalendarOptionsRefined[v]):c[v]?f[v]=c[v](a[v]):m[v]=a[v],g=!0);return g&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=f),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}}}function O$(t,e,n,r,i,s,a,c){let f=nN(e||a.defaultCode,a.map);return new Sz({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:f,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:c})}function k$(t,e){let n=e.themeClasses[t.themeSystem]||Za;return new n(t)}function N$(t){let e=t.dateProfileGeneratorClass||pk;return new e(t)}function I$(t,e,n){return new c$(t,e,n)}function M$(t){return $s(t,e=>e.ui)}function j$(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function P$(t){let{options:e}=t;return{eventUiSingleBase:ap({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:ap({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function hy(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function L$(t){return i7(t.options.businessHours,t)}function f2(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class B$ extends Rt{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return ne("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let a of e){let{buttonName:c,buttonClick:f,buttonText:d,buttonIcon:h,buttonHint:g}=a;if(c==="title")s=!1,i.push(ne("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let m=c===n.activeButton,v=!n.isTodayEnabled&&c==="today"||!n.isPrevEnabled&&c==="prev"||!n.isNextEnabled&&c==="next",w=[`fc-${c}-button`,r.getClass("button")];m&&w.push(r.getClass("buttonActive")),i.push(ne("button",{type:"button",title:typeof g=="function"?g(n.navUnit):g,disabled:v,"aria-pressed":m,className:w.join(" "),onClick:f},d||(h?ne("span",{className:h,role:"img"}):"")))}}if(i.length>1){let a=s&&r.getClass("buttonGroup")||"";return ne("div",{className:a},...i)}return i[0]}}class d2 extends Rt{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,a=e.sectionWidgets,c=a.center;return a.left?(r=!0,i=a.left):i=a.start,a.right?(r=!0,s=a.right):s=a.end,ne("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",c||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return ne(B$,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class F$ extends Rt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,fs(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",a="";return r?n.availableWidth!==null?s=n.availableWidth/r:a=`${1/r*100}%`:s=e.height||"",ne("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:a}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class U$ extends Xc{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,a=jc(r);if(a&&i.isValidSegDownEl(n.target)){let c=fr(n.target,".fc-event-forced-url"),f=c?c.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new Zt(i.context,a.eventRange.def,a.eventRange.instance),jsEvent:n,view:s.viewApi}),f&&!n.defaultPrevented&&(window.location.href=f)}},this.destroy=tk(e.el,"click",".fc-event",this.handleSegClick)}}class H$ extends Xc{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{jc(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=xH(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,a=jc(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new Zt(s,a.eventRange.def,a.eventRange.instance),jsEvent:n,view:s.viewApi})}}class z$ extends ul{constructor(){super(...arguments),this.buildViewContext=nt(Cz),this.buildViewPropTransformers=nt(V$),this.buildToolbarProps=nt($$),this.headerRef=wr(),this.footerRef=wr(),this.interactionsStore={},this.state={viewLabelId:tg()},this.registerInteractiveComponent=(e,n)=>{let r=A7(e,n),a=[U$,H$].concat(this.props.pluginHooks.componentInteractions).map(c=>new c(r));this.interactionsStore[e.uid]=a,P1[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete P1[e.uid]},this.resizeRunner=new Ux(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=!1,s="",a;e.isHeightAuto||e.forPrint?s="":r.height!=null?i=!0:r.contentHeight!=null?s=r.contentHeight:a=Math.max(r.aspectRatio,.5);let c=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),f=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return ne(Xs.Provider,{value:c},ne(Kc,{unit:"day"},d=>{let h=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,d,e.viewTitle);return ne(qt,null,n.header&&ne(d2,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:f},h)),ne(F$,{liquid:i,height:s,aspectRatio:a,labeledById:f},this.renderView(e),this.buildAppendContent()),n.footer&&ne(d2,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},h)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return ne(qt,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let c of s)Object.assign(i,c.transform(i,e));let a=r.component;return ne(a,Object.assign({},i))}}function $$(t,e,n,r,i,s){let a=n.build(i,void 0,!1),c=n.buildPrev(e,r,!1),f=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:a.isValid&&!Ls(e.currentRange,i),isPrevEnabled:c.isValid,isNextEnabled:f.isValid}}function V$(t){return t.map(e=>new e)}class q$ extends R7{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;rp(()=>{Pf(ne(T7,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,a,c)=>(this.setClassNames(i),this.setHeight(s),ne(uk.Provider,{value:this.customContentRenderId},ne(z$,Object.assign({isHeightAuto:a,forPrint:c},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Pf(null,this.el),this.setClassNames([]),this.setHeight(""))},uH(e),this.el=e,this.renderRunner=new Ux(this.handleRenderRequest),new D$({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){rp(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!$a(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){JO(this.el,"height",e)}}const W$=parseInt(String(Te.version).split(".")[0]),G$=W$<18;class cN extends k.Component{constructor(){super(...arguments),this.elRef=k.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(Te.createElement(Y$,{key:n.id,customRendering:n}));return Te.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new D9;this.handleCustomRendering=e.handle.bind(e),this.calendar=new q$(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Ky.flushSync(()=>{})});let n;e.subscribe(r=>{const i=Date.now(),s=!n;(G$||s||this.isUpdating||this.isUnmounting||i-n<100?uN:Ky.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}cN.act=uN;class Y$ extends k.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return Ky.createPortal(r,e.containerEl)}}function uN(t){t()}class X$ extends hs{constructor(){super(...arguments),this.headerElRef=wr()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],a=cp(i.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),ne(ip,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},ne(u_,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:a,context:c}=this,f=!a.forPrint&&cp(c.options),d=!a.forPrint&&Yk(c.options),h=[];return e&&h.push({type:"header",key:"header",isSticky:f,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),d&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:F1}]}),ne(ip,{elClasses:["fc-daygrid"],viewSpec:c.viewSpec},ne(s,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:h}))}}function I0(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function Jh(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function h2(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const fN=nn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function dN(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class hN extends Rt{render(){let{props:e}=this;return ne(d_,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:fN,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class pN extends Rt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||fN,a=Ck(i,s,n,!0,e.defaultDisplayEventEnd);return ne(f_,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Dk(e.seg,n),defaultGenerator:K$,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function K$(t){return ne(qt,null,ne("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&ne("div",{className:"fc-event-time"},t.timeText),ne("div",{className:"fc-event-title"},t.event.title||ne(qt,null,"")))}class Q$ extends Rt{constructor(){super(...arguments),this.compileSegs=nt(Z$)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return ne(Zk,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return ne(qt,null,n.map(s=>{let a=s.eventRange.instance.instanceId;return ne("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:i[a]?"hidden":""}},dN(s)?ne(pN,Object.assign({seg:s,isDragging:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},La(s,e.todayRange))):ne(hN,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},La(s,e.todayRange))))}))}})}}function Z$(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const J$=nn({week:"narrow"});class eV extends hs{constructor(){super(...arguments),this.rootElRef=wr(),this.state={dayNumberId:tg()},this.handleRootEl=e=>{fs(this.rootElRef,e),fs(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:a}=e,{date:c,dateProfile:f}=n;const d=n.showDayNumber&&nV(c,f.currentRange,a);return ne(p_,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:tV,date:c,dateProfile:f,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:d,extraRenderProps:n.extraRenderProps},(h,g)=>ne("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&ne(Qk,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:lp(e,c,"week"),date:c,defaultFormat:J$}),!g.isDisabled&&(n.showDayNumber||g_(s)||n.forceDayTop)?ne("div",{className:"fc-daygrid-day-top"},ne(h,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},lp(e,c)),{id:r.dayNumberId})})):n.showDayNumber?ne("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ne("a",{className:"fc-daygrid-day-number"},"")):void 0,ne("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,ne("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},ne(Q$,{allDayDate:c,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),ne("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function tV(t){return t.dayNumberText||ne(qt,null,"")}function nV(t,e,n){const{start:r,end:i}=e,s=Va(i,-1),a=n.getYear(r),c=n.getMonth(r),f=n.getYear(s),d=n.getMonth(s);return!(a===f&&c===d)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function gN(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function mN(t){return gN(t)+":"+t.lastCol}function rV(t,e,n,r,i,s,a){let c=new aV(S=>{let T=t[S.index].eventRange.instance.instanceId+":"+S.span.start+":"+(S.span.end-1);return i[T]||1});c.allowReslicing=!0,c.strictOrder=r,e===!0||n===!0?(c.maxCoord=s,c.hiddenConsumes=!0):typeof e=="number"?c.maxStackCnt=e:typeof n=="number"&&(c.maxStackCnt=n,c.hiddenConsumes=!0);let f=[],d=[];for(let S=0;S<t.length;S+=1){let T=t[S],A=mN(T);i[A]!=null?f.push({index:S,span:{start:T.firstCol,end:T.lastCol+1}}):d.push(T)}let h=c.addSegs(f),g=c.toRects(),{singleColPlacements:m,multiColPlacements:v,leftoverMargins:w}=iV(g,t,a),x=[],b=[];for(let S of d){v[S.firstCol].push({seg:S,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let T=S.firstCol;T<=S.lastCol;T+=1)m[T].push({seg:bc(S,T,T+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let S=0;S<a.length;S+=1)x.push(0);for(let S of h){let T=t[S.index],A=S.span;v[A.start].push({seg:bc(T,A.start,A.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let C=A.start;C<A.end;C+=1)x[C]+=1,m[C].push({seg:bc(T,C,C+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let S=0;S<a.length;S+=1)b.push(w[S]);return{singleColPlacements:m,multiColPlacements:v,moreCnts:x,moreMarginTops:b}}function iV(t,e,n){let r=sV(t,n.length),i=[],s=[],a=[];for(let c=0;c<n.length;c+=1){let f=r[c],d=[],h=0,g=0;for(let v of f){let w=e[v.index];d.push({seg:bc(w,c,c+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:v.levelCoord-h}),h=v.levelCoord+v.thickness}let m=[];h=0,g=0;for(let v of f){let w=e[v.index],x=v.span.end-v.span.start>1,b=v.span.start===c;g+=v.levelCoord-h,h=v.levelCoord+v.thickness,x?(g+=v.thickness,b&&m.push({seg:bc(w,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:v.levelCoord,marginTop:0})):b&&(m.push({seg:bc(w,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:g}),g=0)}i.push(d),s.push(m),a.push(g)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:a}}function sV(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function bc(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,a=Xo(s,{start:r[e].date,end:zn(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:a},isStart:t.isStart&&a.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&a.end.valueOf()===s.end.valueOf()})}class aV extends Lk{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[Vo(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:a,touchingLevel:c,touchingLateral:f}=e;if(this.hiddenConsumes&&a){const d=Vo(a);if(!s[d])if(this.allowReslicing){const h=Object.assign(Object.assign({},a),{span:l_(a.span,n.span)}),g=Vo(h);s[g]=!0,i[c][f]=h,r.push(h),this.splitEntry(a,n,r)}else s[d]=!0,r.push(a)}super.handleInvalidInsertion(e,n,r)}}class vN extends hs{constructor(){super(...arguments),this.cellElRefs=new js,this.frameElRefs=new js,this.fgElRefs=new js,this.segHarnessRefs=new js,this.rootElRef=wr(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,a=Jh(e.businessHourSegs,s),c=Jh(e.bgEventSegs,s),f=Jh(this.getHighlightSegs(),s),d=Jh(this.getMirrorSegs(),s),{singleColPlacements:h,multiColPlacements:g,moreCnts:m,moreMarginTops:v}=rV(Ak(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),w=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return ne("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((x,b)=>{let S=this.renderFgSegs(b,e.forPrint?h[b]:g[b],e.todayRange,w),T=this.renderFgSegs(b,oV(d[b],g),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return ne(eV,{key:x.key,elRef:this.cellElRefs.createRef(x.key),innerElRef:this.frameElRefs.createRef(x.key),dateProfile:e.dateProfile,date:x.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&b===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:x.extraRenderProps,extraDataAttrs:x.extraDataAttrs,extraClassNames:x.extraClassNames,extraDateSpan:x.extraDateSpan,moreCnt:m[b],moreMarginTop:v[b],singlePlacements:h[b],fgContentElRef:this.fgElRefs.createRef(x.key),fgContent:ne(qt,null,ne(qt,null,S),ne(qt,null,T)),bgContent:ne(qt,null,this.renderFillSegs(f[b],"highlight"),this.renderFillSegs(a[b],"non-business"),this.renderFillSegs(c[b],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!zi(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,a,c){let{context:f}=this,{eventSelection:d}=this.props,{framePositions:h}=this.state,g=this.props.cells.length===1,m=s||a||c,v=[];if(h)for(let w of n){let{seg:x}=w,{instanceId:b}=x.eventRange.instance,S=w.isVisible&&!i[b],T=w.isAbsolute,A="",C="";T&&(f.isRtl?(C=0,A=h.lefts[x.lastCol]-h.lefts[x.firstCol]):(A=0,C=h.rights[x.firstCol]-h.rights[x.lastCol])),v.push(ne("div",{className:"fc-daygrid-event-harness"+(T?" fc-daygrid-event-harness-abs":""),key:gN(x),ref:m?null:this.segHarnessRefs.createRef(mN(x)),style:{visibility:S?"":"hidden",marginTop:T?"":w.marginTop,top:T?w.absoluteTop:"",left:A,right:C}},dN(x)?ne(pN,Object.assign({seg:x,isDragging:s,isSelected:b===d,defaultDisplayEventEnd:g},La(x,r))):ne(hN,Object.assign({seg:x,isDragging:s,isResizing:a,isDateSelecting:c,isSelected:b===d,defaultDisplayEventEnd:g},La(x,r)))))}return v}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,a=[];if(s)for(let c of e){let f=r?{right:0,left:s.lefts[c.lastCol]-s.lefts[c.firstCol]}:{left:0,right:s.rights[c.firstCol]-s.rights[c.lastCol]};a.push(ne("div",{key:Rk(c.eventRange),className:"fc-daygrid-bg-harness",style:f},n==="bg-event"?ne(Xk,Object.assign({seg:c},La(c,i))):Kk(n)))}return ne(qt,{},...a)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let f=n.cells.map(d=>i.currentMap[d.key]);if(f.length){let d=this.rootElRef.current,h=new Pc(d,f,!0,!1);(!r.framePositions||!r.framePositions.similarTo(h))&&this.setState({framePositions:new Pc(d,f,!0,!1)})}}const s=this.state.segHeights,a=this.querySegHeights(),c=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),a),maxContentHeight:c?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}vN.addStateEquality({segHeights:zi});function oV(t,e){if(!t.length)return[];let n=lV(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function lV(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class cV extends hs{constructor(){super(...arguments),this.splitBusinessHourSegs=nt(I0),this.splitBgEventSegs=nt(uV),this.splitFgEventSegs=nt(I0),this.splitDateSelectionSegs=nt(I0),this.splitEventDrag=nt(h2),this.splitEventResize=nt(h2),this.rowRefs=new js}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),a=this.splitFgEventSegs(e.fgEventSegs,r),c=this.splitDateSelectionSegs(e.dateSelectionSegs,r),f=this.splitEventDrag(e.eventDrag,r),d=this.splitEventResize(e.eventResize,r),h=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return ne(Kc,{unit:"day"},(g,m)=>ne(qt,null,e.cells.map((v,w)=>ne(vN,{ref:this.rowRefs.createRef(w),key:v.length?v[0].date.toISOString():w,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:m,dateProfile:e.dateProfile,cells:v,renderIntro:e.renderRowIntro,businessHourSegs:i[w],eventSelection:e.eventSelection,bgEventSegs:s[w],fgEventSegs:a[w],dateSelectionSegs:c[w],eventDrag:f[w],eventResize:d[w],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:h,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Pc(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Pc(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),a=i.topToIndex(n);if(a!=null&&s!=null){let c=this.props.cells[a][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,s),allDay:!0},c.extraDateSpan),dayEl:this.getCellEl(a,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[a],bottom:i.bottoms[a]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=zn(r,1);return{start:r,end:i}}}function uV(t,e){return I0(t.filter(fV),e)}function fV(t){return t.eventRange.def.allDay}class dV extends hs{constructor(){super(...arguments),this.elRef=wr(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let a=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return ne("div",{ref:this.elRef,className:a.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},ne("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,ne("tbody",{role:"presentation"},ne(cV,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=hV(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function hV(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${KH(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${qx(e.currentDate)}"]`)),n}class pV extends $k{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class yN extends hs{constructor(){super(...arguments),this.slicer=new pV,this.tableRef=wr()}render(){let{props:e,context:n}=this;return ne(dV,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class gV extends X${constructor(){super(...arguments),this.buildDayTableModel=nt(mV),this.headerRef=wr(),this.tableRef=wr()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&ne(Uk,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),a=c=>ne(yN,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:c.tableColGroupNode,tableMinWidth:c.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:c.clientWidth,clientHeight:c.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,a,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,a)}}function mV(t,e){let n=new Hk(t.renderRange,e);return new zk(n,/year|month|week/.test(t.currentRangeUnit))}class vV extends pk{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return yV({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function yV(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=zA(s,1))),t.fixedWeekCount){let a=e.startOfWeek(e.startOfMonth(zn(n.end,-1))),c=Math.ceil(FH(a,i));i=zA(i,6-c)}return{start:r,end:i}}var xV=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Fx(xV);class _V extends I7{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?c7(e)?["timed","allDay"]:["allDay"]:["timed"]}}const wV=nn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function xN(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return ne(Xs.Consumer,null,n=>{if(!t.isLabeled)return ne("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:i,viewApi:s}=n,a=i.slotLabelFormat==null?wV:Array.isArray(i.slotLabelFormat)?nn(i.slotLabelFormat[0]):nn(i.slotLabelFormat),c={level:0,time:t.time,date:r.toDate(t.date),view:s,text:r.format(t.date,a)};return ne(ii,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:c,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:bV,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},f=>ne("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},ne(f,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function bV(t){return t.text}class EV extends Rt{render(){return this.props.slatMetas.map(e=>ne("tr",{key:e.key},ne(xN,Object.assign({},e))))}}const SV=nn({week:"short"}),TV=5;class AV extends hs{constructor(){super(...arguments),this.allDaySplitter=new _V,this.headerElRef=wr(),this.rootElRef=wr(),this.scrollerElRef=wr(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:i}=this.props,s=i.renderRange,c=cl(s.start,s.end)===1?lp(this.context,s.start,"week"):{};return r.weekNumbers&&e==="day"?ne(Qk,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:SV},f=>ne("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},ne(f,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:c}))):ne("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},ne("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,i={text:n.allDayText,view:r};return ne(ii,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:CV,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>ne("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},ne(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:i,props:s}=this,a=[],c=cp(i.options);return e&&a.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(a.push({type:"body",key:"all-day",chunk:{content:n}}),a.push({type:"body",key:"all-day-divider",outerContent:ne("tr",{role:"presentation",className:"fc-scrollgrid-section"},ne("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),ne(ip,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},ne(u_,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(e,n,r,i,s,a,c){let f=this.context.pluginHooks.scrollGridImpl;if(!f)throw new Error("No ScrollGrid implementation");let{context:d,props:h}=this,g=!h.forPrint&&cp(d.options),m=!h.forPrint&&Yk(d.options),v=[];e&&v.push({type:"header",key:"header",isSticky:g,syncRowHeights:!0,chunks:[{key:"axis",rowContent:x=>ne("tr",{role:"presentation"},this.renderHeadAxis("day",x.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(v.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:x=>ne("tr",{role:"presentation"},this.renderTableRowAxis(x.rowSyncHeights[0]))},{key:"cols",content:n}]}),v.push({key:"all-day-divider",type:"body",outerContent:ne("tr",{role:"presentation",className:"fc-scrollgrid-section"},ne("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let w=d.options.nowIndicator;return v.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:x=>ne("div",{className:"fc-timegrid-axis-chunk"},ne("table",{"aria-hidden":!0,style:{height:x.expandRows?x.clientHeight:""}},x.tableColGroupNode,ne("tbody",null,ne(EV,{slatMetas:a}))),ne("div",{className:"fc-timegrid-now-indicator-container"},ne(Kc,{unit:w?"minute":"day"},b=>{let S=w&&c&&c.safeComputeTop(b);return typeof S=="number"?ne(h_,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:S},isAxis:!0,date:b}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),m&&v.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:F1},{key:"cols",content:F1}]}),ne(ip,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},ne(f,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:s}]}],sections:v}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=TV),{dayMaxEvents:e,dayMaxEventRows:n}}}function CV(t){return t.text}class RV{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(Ls(n.currentRange,e)){let r=Wt(e),i=e.valueOf()-r.valueOf();if(i>=Bi(n.slotMinTime)&&i<Bi(n.slotMaxTime))return this.computeTimeTop(yt(i))}return null}computeDateTop(e,n){return n||(n=Wt(e)),this.computeTimeTop(yt(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,i=n.els.length,s=(e.milliseconds-Bi(r.slotMinTime))/Bi(this.slotDuration),a,c;return s=Math.max(0,s),s=Math.min(i,s),a=Math.floor(s),a=Math.min(a,i-1),c=s-a,n.tops[a]+n.getHeight(a)*c}}class DV extends Rt{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:i}=e;return ne("tbody",null,e.slatMetas.map((s,a)=>{let c={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return ne("tr",{key:s.key,ref:i.createRef(s.key)},e.axis&&ne(xN,Object.assign({},s)),ne(ii,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:c,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class OV extends Rt{constructor(){super(...arguments),this.rootElRef=wr(),this.slatElRefs=new js}render(){let{props:e,context:n}=this;return ne("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},ne("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,ne(DV,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new RV(new Pc(this.rootElRef.current,kV(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function kV(t,e){return e.map(n=>t[n.key])}function ef(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function p2(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class NV extends Rt{render(){let{props:e}=this;return ne(Zk,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>wN(e.hiddenSegs,e),defaultGenerator:IV,forceTimed:!0},n=>ne(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function IV(t){return t.shortText}function MV(t,e,n){let r=new Lk;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let i=r.addSegs(t),s=W7(i),a=jV(r);return a=FV(a,1),{segRects:UV(a),hiddenGroups:s}}function jV(t){const{entriesByLevel:e}=t,n=v_((r,i)=>r+":"+i,(r,i)=>{let s=BV(t,r,i),a=g2(s,n),c=e[r][i];return[Object.assign(Object.assign({},c),{nextLevelNodes:a[0]}),c.thickness+a[1]]});return g2(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function g2(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=t,s=r,a=[];for(;s<i;)a.push(e(n,s)),s+=1;return a.sort(PV),[a.map(LV),a[0][1]]}function PV(t,e){return e[1]-t[1]}function LV(t){return t[0]}function BV(t,e,n){let{levelCoords:r,entriesByLevel:i}=t,s=i[e][n],a=r[e]+s.thickness,c=r.length,f=e;for(;f<c&&r[f]<a;f+=1);for(;f<c;f+=1){let d=i[f],h,g=B1(d,s.span.start,L1),m=g[0]+g[1],v=m;for(;(h=d[v])&&h.span.start<s.span.end;)v+=1;if(m<v)return{level:f,lateralStart:m,lateralEnd:v}}return null}function FV(t,e){const n=v_((r,i,s)=>Vo(r),(r,i,s)=>{let{nextLevelNodes:a,thickness:c}=r,f=c+s,d=c/f,h,g=[];if(!a.length)h=e;else for(let v of a)if(h===void 0){let w=n(v,i,f);h=w[0],g.push(w[1])}else{let w=n(v,h,0);g.push(w[1])}let m=(h-i)*d;return[h-m,Object.assign(Object.assign({},r),{thickness:m,nextLevelNodes:g})]});return t.map(r=>n(r,0,0)[1])}function UV(t){let e=[];const n=v_((i,s,a)=>Vo(i),(i,s,a)=>{let c=Object.assign(Object.assign({},i),{levelCoord:s,stackDepth:a,stackForward:0});return e.push(c),c.stackForward=r(i.nextLevelNodes,s+i.thickness,a+1)+1});function r(i,s,a){let c=0;for(let f of i)c=Math.max(n(f,s,a),c);return c}return r(t,0,0),e}function v_(t,e){const n={};return(...r)=>{let i=t(...r);return i in n?n[i]:n[i]=e(...r)}}function m2(t,e,n=null,r=0){let i=[];if(n)for(let s=0;s<t.length;s+=1){let a=t[s],c=n.computeDateTop(a.start,e),f=Math.max(c+(r||0),n.computeDateTop(a.end,e));i.push({start:Math.round(c),end:Math.round(f)})}return i}function HV(t,e,n,r){let i=[],s=[];for(let d=0;d<t.length;d+=1){let h=e[d];h?i.push({index:d,thickness:1,span:h}):s.push(t[d])}let{segRects:a,hiddenGroups:c}=MV(i,n,r),f=[];for(let d of a)f.push({seg:t[d.index],rect:d});for(let d of s)f.push({seg:d,rect:null});return{segPlacements:f,hiddenGroups:c}}const zV=nn({hour:"numeric",minute:"2-digit",meridiem:!1});class _N extends Rt{render(){return ne(d_,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:zV}))}}class $V extends Rt{constructor(){super(...arguments),this.sortEventSegs=nt(Ak)}render(){let{props:e,context:n}=this,{options:r}=n,i=r.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},c=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return ne(p_,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},f=>ne("div",{className:"fc-timegrid-col-frame"},ne("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),ne("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(c,a,!1,!1,!1)),ne("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),ne("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),g_(r)&&ne(f,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,i,s,a){let{props:c}=this;return c.forPrint?wN(e,c):this.renderPositionedFgSegs(e,n,r,i,s,a)}renderPositionedFgSegs(e,n,r,i,s,a){let{eventMaxStack:c,eventShortHeight:f,eventOrderStrict:d,eventMinHeight:h}=this.context.options,{date:g,slatCoords:m,eventSelection:v,todayRange:w,nowDate:x}=this.props,b=r||i||s,S=m2(e,g,m,h),{segPlacements:T,hiddenGroups:A}=HV(e,S,d,c);return ne(qt,null,this.renderHiddenGroups(A,e),T.map(C=>{let{seg:P,rect:V}=C,I=P.eventRange.instance.instanceId,j=b||!!(!n[I]&&V),L=py(V&&V.span),K=!b&&V?this.computeSegHStyle(V):{left:0,right:0},te=!!V&&V.stackForward>0,X=!!V&&V.span.end-V.span.start<f;return ne("div",{className:"fc-timegrid-event-harness"+(te?" fc-timegrid-event-harness-inset":""),key:a||I,style:Object.assign(Object.assign({visibility:j?"":"hidden"},L),K)},ne(_N,Object.assign({seg:P,isDragging:r,isResizing:i,isDateSelecting:s,isSelected:I===v,isShort:X},La(P,w,x))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:a,eventSelection:c,eventDrag:f,eventResize:d}=this.props;return ne(qt,null,e.map(h=>{let g=py(h.span),m=VV(h.entries,n);return ne(NV,{key:sk(Jk(m)),hiddenSegs:m,top:g.top,bottom:g.bottom,extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:a,eventSelection:c,eventDrag:f,eventResize:d})}))}renderFillSegs(e,n){let{props:r,context:i}=this,a=m2(e,r.date,r.slatCoords,i.options.eventMinHeight).map((c,f)=>{let d=e[f];return ne("div",{key:Rk(d.eventRange),className:"fc-timegrid-bg-harness",style:py(c)},n==="bg-event"?ne(Xk,Object.assign({seg:d},La(d,r.todayRange,r.nowDate))):Kk(n))});return ne(qt,null,a)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((i,s)=>ne(h_,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,i=r.slotEventOverlap,s=e.levelCoord,a=e.levelCoord+e.thickness,c,f;i&&(a=Math.min(1,s+(a-s)*2)),n?(c=1-a,f=s):(c=s,f=1-a);let d={zIndex:e.stackDepth+1,left:c*100+"%",right:f*100+"%"};return i&&!e.stackForward&&(d[n?"marginLeft":"marginRight"]=10*2),d}}function wN(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:i,eventResize:s}){let a=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return ne(qt,null,t.map(c=>{let f=c.eventRange.instance.instanceId;return ne("div",{key:f,style:{visibility:a[f]?"hidden":""}},ne(_N,Object.assign({seg:c,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:f===r,isShort:!1},La(c,e,n))))}))}function py(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function VV(t,e){return t.map(n=>e[n.index])}class qV extends Rt{constructor(){super(...arguments),this.splitFgEventSegs=nt(ef),this.splitBgEventSegs=nt(ef),this.splitBusinessHourSegs=nt(ef),this.splitNowIndicatorSegs=nt(ef),this.splitDateSelectionSegs=nt(ef),this.splitEventDrag=nt(p2),this.splitEventResize=nt(p2),this.rootElRef=wr(),this.cellElRefs=new js}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,i),a=this.splitBgEventSegs(e.bgEventSegs,i),c=this.splitBusinessHourSegs(e.businessHourSegs,i),f=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),d=this.splitDateSelectionSegs(e.dateSelectionSegs,i),h=this.splitEventDrag(e.eventDrag,i),g=this.splitEventResize(e.eventResize,i);return ne("div",{className:"fc-timegrid-cols",ref:this.rootElRef},ne("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,ne("tbody",{role:"presentation"},ne("tr",{role:"row"},e.axis&&ne("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},ne("div",{className:"fc-timegrid-col-frame"},ne("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&ne(h_,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((m,v)=>ne($V,{key:m.key,elRef:this.cellElRefs.createRef(m.key),dateProfile:e.dateProfile,date:m.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,fgEventSegs:s[v],bgEventSegs:a[v],businessHourSegs:c[v],nowIndicatorSegs:f[v],dateSelectionSegs:d[v],eventDrag:h[v],eventResize:g[v],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Pc(this.rootElRef.current,WV(this.cellElRefs.currentMap,e.cells),!0,!1))}}function WV(t,e){return e.map(n=>t[n.key])}class GV extends hs{constructor(){super(...arguments),this.processSlotOptions=nt(YV),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let i=r.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return ne("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},ne(OV,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),ne(qV,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:i}=this.context,{colCoords:s}=this,{dateProfile:a}=this.props,{slatCoords:c}=this.state,{snapDuration:f,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),h=s.leftToIndex(e),g=c.positions.topToIndex(n);if(h!=null&&g!=null){let m=this.props.cells[h],v=c.positions.tops[g],w=c.positions.getHeight(g),x=(n-v)/w,b=Math.floor(x*d),S=g*d+b,T=this.props.cells[h].date,A=k1(a.slotMinTime,jH(f,S)),C=r.add(T,A),P=r.add(C,f);return{dateProfile:a,dateSpan:Object.assign({range:{start:C,end:P},allDay:!1},m.extraDateSpan),dayEl:s.els[h],rect:{left:s.lefts[h],right:s.rights[h],top:v,bottom:v+w},layer:0}}return null}}function YV(t,e){let n=e||t,r=Vx(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class XV extends $k{sliceRange(e,n){let r=[];for(let i=0;i<n.length;i+=1){let s=Xo(e,n[i]);s&&r.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:i})}return r}}class KV extends hs{constructor(){super(...arguments),this.buildDayRanges=nt(QV),this.slicer=new XV,this.timeColsRef=wr()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:i}=e,{nowIndicator:s,nextDayThreshold:a}=n.options,c=this.buildDayRanges(i,r,n.dateEnv);return ne(Kc,{unit:s?"minute":"day"},(f,d)=>ne(GV,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,c),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:f,nowIndicatorSegs:s&&this.slicer.sliceNowDate(f,r,a,n,c),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function QV(t,e,n){let r=[];for(let i of t.headerDates)r.push({start:n.add(i,e.slotMinTime),end:n.add(i,e.slotMaxTime)});return r}const v2=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function ZV(t,e,n,r,i){let s=new Date(0),a=t,c=yt(0),f=n||JV(r),d=[];for(;Bi(a)<Bi(e);){let h=i.add(s,a),g=Vx(c,f)!==null;d.push({date:h,time:a,key:h.toISOString(),isoTimeStr:QH(h),isLabeled:g}),a=k1(a,r),c=k1(c,r)}return d}function JV(t){let e,n,r;for(e=v2.length-1;e>=0;e-=1)if(n=yt(v2[e]),r=Vx(n,t),r!==null&&r>1)return n;return t}class eq extends AV{constructor(){super(...arguments),this.buildTimeColsModel=nt(tq),this.buildSlatMetas=nt(ZV)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:i}=this,{dateProfile:s}=i,a=this.buildTimeColsModel(s,r),c=this.allDaySplitter.splitProps(i),f=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:d}=e,h=!d,g=d,m=e.dayHeaders&&ne(Uk,{dates:a.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),v=e.allDaySlot!==!1&&(x=>ne(yN,Object.assign({},c.allDay,{dateProfile:s,dayTableModel:a,nextDayThreshold:e.nextDayThreshold,tableMinWidth:x.tableMinWidth,colGroupNode:x.tableColGroupNode,renderRowIntro:h?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:x.clientWidth,clientHeight:x.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),w=x=>ne(KV,Object.assign({},c.timed,{dayTableModel:a,dateProfile:s,axis:h,slotDuration:e.slotDuration,slatMetas:f,forPrint:i.forPrint,tableColGroupNode:x.tableColGroupNode,tableMinWidth:x.tableMinWidth,clientWidth:x.clientWidth,clientHeight:x.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:x.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return g?this.renderHScrollLayout(m,v,w,a.colCnt,d,f,this.state.slatCoords):this.renderSimpleLayout(m,v,w)}}function tq(t,e){let n=new Hk(t.renderRange,e);return new zk(n,!1)}var nq='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Fx(nq);const rq={allDaySlot:Boolean};var iq=Ks({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:rq,views:{timeGrid:{component:eq,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});c_.touchMouseIgnoreWait=500;let H1=0,up=0,z1=!1;class bN{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&sq(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,aq()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new sg,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),oq()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),lq()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||fr(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){z1=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?fr(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return H1||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(z1=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,a=0,c=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(a=i-this.origPageX,c=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:a,deltaY:c}}}function sq(t){return t.button===0&&!t.ctrlKey}function aq(){H1+=1,setTimeout(()=>{H1-=1},c_.touchMouseIgnoreWait)}function oq(){up+=1,up===1&&window.addEventListener("touchmove",EN,{passive:!1})}function lq(){up-=1,up||window.removeEventListener("touchmove",EN,{passive:!1})}function EN(t){z1&&t.preventDefault()}class cq{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",_f(r,{left:i.left,top:i.top}),_H(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(Hx(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&_f(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),_f(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class SN extends o_{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class TN extends SN{constructor(e,n){super(new V7(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return z7(this.scrollController.el)}}class uq extends SN{constructor(e){super(new q7,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const y2=typeof performance=="function"?performance.now:Date.now;class fq{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=y2();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,s=this.pointerScreenY===null?0:i-this.pointerScreenY,a=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(y2()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,a=s*s/(i*i)*this.maxVelocity*n,c=1;switch(e.name){case"left":c=-1;case"right":r.setScrollLeft(r.getScrollLeft()+a*c);break;case"top":c=-1;case"bottom":r.setScrollTop(r.getScrollTop()+a*c);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let a of s){let c=a.clientRect,f=e-c.left,d=c.right-e,h=n-c.top,g=c.bottom-n;f>=0&&d>=0&&h>=0&&g>=0&&(h<=r&&this.everMovedUp&&a.canScrollUp()&&(!i||i.distance>h)&&(i={scrollCache:a,name:"top",distance:h}),g<=r&&this.everMovedDown&&a.canScrollDown()&&(!i||i.distance>g)&&(i={scrollCache:a,name:"bottom",distance:g}),f<=r&&this.everMovedLeft&&a.canScrollLeft()&&(!i||i.distance>f)&&(i={scrollCache:a,name:"left",distance:f}),d<=r&&this.everMovedRight&&a.canScrollRight()&&(!i||i.distance>d)&&(i={scrollCache:a,name:"right",distance:d}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new uq(!1):new TN(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class dd extends Y7{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,wH(document.body),EH(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,a,{deltaX:c,deltaY:f}=i;a=c*c+f*f,a>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,bH(document.body),SH(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new bN(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new cq,this.autoScroller=new fq}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class dq{constructor(e){this.el=e,this.origRect=a_(e),this.scrollCaches=Pk(e).map(n=>new TN(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!hq(i.getEventTarget())&&!D7(r,i.clientRect))return!1;return!0}}function hq(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class ag{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new sg}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=a_(i),r=O7(r,s));let a=this.initialHit=this.queryHitForOffset(r.left,r.top);if(a){if(this.useSubjectCenter&&s){let c=Ik(s,a.rect);c&&(r=k7(c))}this.coordAdjust=N7(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!og(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=$s(this.droppableStore,e=>(e.component.prepareHits(),new dq(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let a in r){let c=r[a].component,f=i[a];if(f&&f.isWithinClipping(e,n)){let d=f.computeLeft(),h=f.computeTop(),g=e-d,m=n-h,{origRect:v}=f,w=v.right-v.left,x=v.bottom-v.top;if(g>=0&&g<w&&m>=0&&m<x){let b=c.queryHit(g,m,w,x);b&&rg(b.dateProfile.activeRange,b.dateSpan.range)&&(this.disablePointCheck||f.el.contains(f.el.getRootNode().elementFromPoint(g+d-window.scrollX,m+h-window.scrollY)))&&(!s||b.layer>s.layer)&&(b.componentId=a,b.context=c.context,b.rect.left+=d,b.rect.right+=d,b.rect.top+=h,b.rect.bottom+=h,s=b)}}}return s}}function og(t,e){return!t&&!e?!0:!!t!=!!e?!1:y7(t.dateSpan,e.dateSpan)}function AN(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,pq(t,e.dateEnv)),n}function pq(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class gq extends Xc{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:a,finalHit:c}=this.hitDragging;if(a&&c&&og(a,c)){let{context:f}=i,d=Object.assign(Object.assign({},AN(a.dateSpan,f)),{dayEl:a.dayEl,jsEvent:r.origEvent,view:f.viewApi||f.calendarApi.view});f.emitter.trigger("dateClick",d)}}},this.dragging=new dd(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new ag(this.dragging,i_(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class mq extends Xc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=a=>{let{component:c,dragging:f}=this,{options:d}=c.context,h=d.selectable&&c.isValidDateDownEl(a.origEvent.target);f.setIgnoreMove(!h),f.delay=a.isTouch?vq(c):null},this.handleDragStart=a=>{this.component.context.calendarApi.unselect(a)},this.handleHitUpdate=(a,c)=>{let{context:f}=this.component,d=null,h=!1;if(a){let g=this.hitDragging.initialHit;a.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,a)||(d=yq(g,a,f.pluginHooks.dateSelectionTransformers)),(!d||!e9(d,a.dateProfile,f))&&(h=!0,d=null)}d?f.dispatch({type:"SELECT_DATES",selection:d}):c||f.dispatch({type:"UNSELECT_DATES"}),h?zx():$x(),c||(this.dragSelection=d)},this.handlePointerUp=a=>{this.dragSelection&&(Ek(this.dragSelection,a,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new dd(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new ag(this.dragging,i_(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function vq(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function yq(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(DH);let a={};for(let c of n){let f=c(t,e);if(f===!1)return null;f&&Object.assign(a,f)}return a.range={start:s[0],end:s[3]},a.allDay=r.allDay,a}class hd extends Xc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let c=a.origEvent.target,{component:f,dragging:d}=this,{mirror:h}=d,{options:g}=f.context,m=f.context;this.subjectEl=a.subjectEl;let v=this.subjectSeg=jc(a.subjectEl),x=(this.eventRange=v.eventRange).instance.instanceId;this.relevantEvents=e_(m.getCurrentData().eventStore,x),d.minDistance=a.isTouch?0:g.eventDragMinDistance,d.delay=a.isTouch&&x!==f.props.eventSelection?_q(f):null,g.fixedMirrorParent?h.parentNode=g.fixedMirrorParent:h.parentNode=fr(c,".fc"),h.revertDuration=g.dragRevertDuration;let b=f.isValidSegDownEl(c)&&!fr(c,".fc-event-resizer");d.setIgnoreMove(!b),this.isDragging=b&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let c=this.component.context,f=this.eventRange,d=f.instance.instanceId;a.isTouch?d!==this.component.props.eventSelection&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):c.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(c.calendarApi.unselect(a),c.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Zt(c,f.def,f.instance),jsEvent:a.origEvent,view:c.viewApi}))},this.handleHitUpdate=(a,c)=>{if(!this.isDragging)return;let f=this.relevantEvents,d=this.hitDragging.initialHit,h=this.component.context,g=null,m=null,v=null,w=!1,x={affectedEvents:f,mutatedEvents:ti(),isEvent:!0};if(a){g=a.context;let b=g.options;h===g||b.editable&&b.droppable?(m=xq(d,a,this.eventRange.instance.range.start,g.getCurrentData().pluginHooks.eventDragMutationMassagers),m&&(v=r_(f,g.getCurrentData().eventUiBases,m,g),x.mutatedEvents=v,Vk(x,a.dateProfile,g)||(w=!0,m=null,v=null,x.mutatedEvents=ti()))):g=null}this.displayDrag(g,x),w?zx():$x(),c||(h===g&&og(d,a)&&(m=null),this.dragging.setMirrorNeedsRevert(!m),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=g,this.validMutation=m,this.mutatedRelevantEvents=v)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let c=this.component.context,f=c.viewApi,{receivingContext:d,validMutation:h}=this,g=this.eventRange.def,m=this.eventRange.instance,v=new Zt(c,g,m),w=this.relevantEvents,x=this.mutatedRelevantEvents,{finalHit:b}=this.hitDragging;if(this.clearDrag(),c.emitter.trigger("eventDragStop",{el:this.subjectEl,event:v,jsEvent:a.origEvent,view:f}),h){if(d===c){let S=new Zt(c,x.defs[g.defId],m?x.instances[m.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:x});let T={oldEvent:v,event:S,relatedEvents:$o(x,c,m),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:w})}},A={};for(let C of c.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(A,C(h,c));c.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},T),A),{el:a.subjectEl,delta:h.datesDelta,jsEvent:a.origEvent,view:f})),c.emitter.trigger("eventChange",T)}else if(d){let S={event:v,relatedEvents:$o(w,c,m),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:w})}};c.emitter.trigger("eventLeave",Object.assign(Object.assign({},S),{draggedEl:a.subjectEl,view:f})),c.dispatch({type:"REMOVE_EVENTS",eventStore:w}),c.emitter.trigger("eventRemove",S);let T=x.defs[g.defId],A=x.instances[m.instanceId],C=new Zt(d,T,A);d.dispatch({type:"MERGE_EVENTS",eventStore:x});let P={event:C,relatedEvents:$o(x,d,A),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:x})}};d.emitter.trigger("eventAdd",P),a.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:m.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},AN(b.dateSpan,d)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:b.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},P),{draggedEl:a.subjectEl,view:b.context.viewApi}))}}else c.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new dd(e.el);i.pointer.selector=hd.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new ag(this.dragging,P1);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:ti(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}hd.SELECTOR=".fc-event-draggable, .fc-event-resizable";function xq(t,e,n,r){let i=t.dateSpan,s=e.dateSpan,a=i.range.start,c=s.range.start,f={};i.allDay!==s.allDay&&(f.allDay=s.allDay,f.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?a=Wt(n):a=n);let d=gc(a,c,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);d.milliseconds&&(f.allDay=!1);let h={datesDelta:d,standardProps:f};for(let g of r)g(h,t,e);return h}function _q(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class wq extends Xc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:a}=this,c=this.querySegEl(s),f=jc(c),d=this.eventRange=f.eventRange;this.dragging.minDistance=a.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=s=>{let{context:a}=this.component,c=this.eventRange;this.relevantEvents=e_(a.getCurrentData().eventStore,this.eventRange.instance.instanceId);let f=this.querySegEl(s);this.draggingSegEl=f,this.draggingSeg=jc(f),a.calendarApi.unselect(),a.emitter.trigger("eventResizeStart",{el:f,event:new Zt(a,c.def,c.instance),jsEvent:s.origEvent,view:a.viewApi})},this.handleHitUpdate=(s,a,c)=>{let{context:f}=this.component,d=this.relevantEvents,h=this.hitDragging.initialHit,g=this.eventRange.instance,m=null,v=null,w=!1,x={affectedEvents:d,mutatedEvents:ti(),isEvent:!0};s&&(s.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,s)||(m=bq(h,s,c.subjectEl.classList.contains("fc-event-resizer-start"),g.range))),m&&(v=r_(d,f.getCurrentData().eventUiBases,m,f),x.mutatedEvents=v,Vk(x,s.dateProfile,f)||(w=!0,m=null,v=null,x.mutatedEvents=null)),v?f.dispatch({type:"SET_EVENT_RESIZE",state:x}):f.dispatch({type:"UNSET_EVENT_RESIZE"}),w?zx():$x(),a||(m&&og(h,s)&&(m=null),this.validMutation=m,this.mutatedRelevantEvents=v)},this.handleDragEnd=s=>{let{context:a}=this.component,c=this.eventRange.def,f=this.eventRange.instance,d=new Zt(a,c,f),h=this.relevantEvents,g=this.mutatedRelevantEvents;if(a.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:s.origEvent,view:a.viewApi}),this.validMutation){let m=new Zt(a,g.defs[c.defId],f?g.instances[f.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:g});let v={oldEvent:d,event:m,relatedEvents:$o(g,a,f),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:h})}};a.emitter.trigger("eventResize",Object.assign(Object.assign({},v),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||yt(0),endDelta:this.validMutation.endDelta||yt(0),jsEvent:s.origEvent,view:a.viewApi})),a.emitter.trigger("eventChange",v)}else a.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new dd(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new ag(this.dragging,i_(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return fr(e.subjectEl,".fc-event")}}function bq(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,a=e.dateSpan.range.start,c=gc(s,a,i,t.largeUnit);if(n){if(i.add(r.start,c)<r.end)return{startDelta:c}}else if(i.add(r.end,c)>r.start)return{endDelta:c};return null}class Eq{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=ek(r.origEvent);this.matchesCancel=!!fr(s,i),this.matchesEvent=!!fr(s,hd.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,a=i.getCurrentData();if(!s.wasTouchScroll){if(a.dateSelection&&!this.isRecentPointerDateSelect){let c=i.options.unselectAuto;c&&(!c||!this.matchesCancel)&&i.calendarApi.unselect(r)}a.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new bN(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Sq={fixedMirrorParent:_e},Tq={dateClick:_e,eventDragStart:_e,eventDragStop:_e,eventDrop:_e,eventResizeStart:_e,eventResizeStop:_e,eventResize:_e,drop:_e,eventReceive:_e,eventLeave:_e};c_.dataAttrPrefix="";var Aq=Ks({name:"@fullcalendar/interaction",componentInteractions:[gq,mq,hd,wq],calendarInteractions:[Eq],elementDraggingImpl:dd,optionRefiners:Sq,listenerRefiners:Tq}),Cq=Ks({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:gV,dateProfileGeneratorClass:vV},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});const{Option:Eo}=En,$1={meeting:"#1677ff",birthday:"#ff4d4f",task:"#13c2c2",reminder:"#722ed1"},Rq={low:{color:"green",label:"Low"},medium:{color:"gold",label:"Medium"},high:{color:"red",label:"High"}},x2=(t,e)=>!t||!e?null:t.hour(e.hour()).minute(e.minute()).second(0).toDate(),Dq=({form:t,accountOptions:e,serviceOptions:n,selectedEvent:r,handleSave:i,handleDelete:s})=>{const a=r==null?void 0:r.isNew;return _.jsxs(Je,{layout:"vertical",form:t,children:[_.jsx(pn,{gutter:16,children:_.jsx(ot,{span:24,children:_.jsx(Je.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Title is required"}],children:_.jsx(Zn,{placeholder:"Event title"})})})}),_.jsxs(pn,{gutter:16,children:[_.jsx(ot,{span:12,children:_.jsx(Je.Item,{name:"type",label:"Type",rules:[{required:!0,message:"Type is required"}],children:_.jsxs(En,{onChange:c=>t.setFieldValue("color",$1[c]),placeholder:"Select Type",children:[_.jsx(Eo,{value:"meeting",children:"Meeting"}),_.jsx(Eo,{value:"birthday",children:"Birthday"}),_.jsx(Eo,{value:"task",children:"Task"}),_.jsx(Eo,{value:"reminder",children:"Reminder"})]})})}),_.jsx(ot,{span:12,children:_.jsx(Je.Item,{name:"priority",label:"Priority",rules:[{required:!0,message:"Priority is required"}],children:_.jsxs(En,{placeholder:"Select Priority",children:[_.jsx(Eo,{value:"low",children:"Low"}),_.jsx(Eo,{value:"medium",children:"Medium"}),_.jsx(Eo,{value:"high",children:"High"})]})})})]}),_.jsxs(pn,{gutter:16,children:[_.jsx(ot,{span:12,children:_.jsx(Je.Item,{name:"accountId",label:"Account",children:_.jsx(En,{placeholder:"Select Account",options:e,allowClear:!0})})}),_.jsx(ot,{span:12,children:_.jsx(Je.Item,{name:"serviceId",label:"Service",children:_.jsx(En,{placeholder:"Select Service",options:n,allowClear:!0})})})]}),_.jsx(Je.Item,{name:"description",label:"Description",children:_.jsx(Zn.TextArea,{rows:3,placeholder:"Event details..."})}),_.jsxs(pn,{gutter:16,children:[_.jsx(ot,{span:12,children:_.jsx(Je.Item,{name:"startDate",label:"Start Date",rules:[{required:!0,message:"Start date required"}],children:_.jsx(kc,{style:{width:"100%"}})})}),_.jsx(ot,{span:12,children:_.jsx(Je.Item,{name:"startTime",label:"Start Time",rules:[{required:!0,message:"Start time required"}],children:_.jsx(WS,{format:"HH:mm",style:{width:"100%"}})})})]}),_.jsxs(pn,{gutter:16,children:[_.jsx(ot,{span:12,children:_.jsx(Je.Item,{name:"endDate",label:"End Date",rules:[{required:!0,message:"End date required"}],children:_.jsx(kc,{style:{width:"100%"}})})}),_.jsx(ot,{span:12,children:_.jsx(Je.Item,{name:"endTime",label:"End Time",rules:[{required:!0,message:"End time required"}],children:_.jsx(WS,{format:"HH:mm",style:{width:"100%"}})})})]}),_.jsxs(Je.Item,{name:"color",label:"Color Preview",children:[_.jsx(Zn,{type:"color",className:"color-preview-input"}),_.jsx("div",{className:"ant-form-text",children:"Selected color will be used for the event."})]}),_.jsx("div",{className:"drawer-footer-actions",children:_.jsxs(td,{children:[_.jsx(_t,{type:"primary",onClick:i,children:a?"Create Event":"Update Event"}),!a&&_.jsx(Xy,{title:"Delete this event permanently?",onConfirm:()=>s(r.id),children:_.jsx(_t,{danger:!0,children:"Delete"})}),_.jsx(_t,{onClick:()=>t.resetFields(),children:"Reset"})]})})]})},Oq=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!1),[i,s]=k.useState(null),[a,c]=k.useState("week"),[f,d]=k.useState(Ze()),[h,g]=k.useState(null),[m,v]=k.useState(!1),[w,x]=k.useState([]),[b,S]=k.useState([]),T=k.useRef(null),[A]=Je.useForm();k.useEffect(()=>{V(),C(),P()},[]);const C=k.useCallback(async()=>{try{const Q=await Ve.get("/api/accounts"),ae=Q.data.accounts||Q.data;x(ae.map(D=>({label:D.businessName,value:D._id,name:D.businessName})))}catch(Q){console.error(Q),mt.error("Failed to load account options.")}},[]),P=k.useCallback(async()=>{try{const Q=await Ve.get("/api/service"),ae=Q.data.services||Q.data;S(ae.map(D=>({label:D.title||D.serviceName,value:D._id,name:D.title||D.serviceName})))}catch(Q){console.error(Q),mt.error("Failed to load service options.")}},[]),V=k.useCallback(async()=>{try{const Q=await Ve.get("/api/events");e(Q.data.events.map(ae=>{var D,q;return{...ae,id:ae._id,title:ae.title,start:ae.start,end:ae.end,backgroundColor:ae.color,borderColor:ae.color,accountId:((D=ae.accountId)==null?void 0:D._id)||ae.accountId||null,serviceId:((q=ae.serviceId)==null?void 0:q._id)||ae.serviceId||null,account:ae.accountId,service:ae.serviceId}}))}catch(Q){console.error(Q),mt.error("Failed to load events")}},[]),I=()=>{r(!1),s(null),A.resetFields()},j=Q=>{const{start:ae,end:D}=Q,q="task";s({id:`evt-${Date.now()}`,start:ae,end:D,isNew:!0}),A.setFieldsValue({title:"",description:"",type:q,priority:"medium",color:$1[q],accountId:null,serviceId:null,startDate:Ze(ae),startTime:Ze(ae),endDate:Ze(D),endTime:Ze(D)}),r(!0)},L=Q=>{const ae=Q.event.extendedProps,D={id:Q.event.id,title:Q.event.title,description:ae.description,type:ae.type,priority:ae.priority,color:ae.color,start:Q.event.start,end:Q.event.end,accountId:ae.accountId||null,serviceId:ae.serviceId||null,isNew:!1};s(D),A.setFieldsValue({title:D.title,description:D.description,type:D.type,priority:D.priority,color:D.color,accountId:D.accountId,serviceId:D.serviceId,startDate:Ze(D.start),startTime:Ze(D.start),endDate:Ze(D.end),endTime:Ze(D.end)}),r(!0)},K=async Q=>{try{const ae=Q.event;await Ve.put(`/api/events/${ae.id}`,{start:ae.start,end:ae.end}),e(D=>D.map(q=>q.id===ae.id?{...q,start:ae.start,end:ae.end}:q)),mt.success("Event time updated")}catch(ae){console.error(ae),mt.error("Update failed")}},te=async()=>{try{const Q=await A.validateFields(),ae=x2(Q.startDate,Q.startTime),D=x2(Q.endDate,Q.endTime);if(!ae||!D)return mt.error("Invalid timing");if(Ze(ae).isAfter(Ze(D)))return mt.error("End must be after start");const q=w.find(be=>be.value===Q.accountId),z=b.find(be=>be.value===Q.serviceId),F={title:Q.title,description:Q.description,type:Q.type,priority:Q.priority,color:Q.color,start:ae,end:D,accountId:Q.accountId||null,serviceId:Q.serviceId||null};let se;i!=null&&i.isNew?se=(await Ve.post("/api/events",F)).data.event:se=(await Ve.put(`/api/events/${i.id}`,F)).data.event,e(be=>{const ke=Ce=>(Ce==null?void 0:Ce._id)||Ce||null,Ne={...se,id:se._id,backgroundColor:se.color,borderColor:se.color,accountId:ke(se.accountId),serviceId:ke(se.serviceId),account:q?{_id:Q.accountId,businessName:q.name}:null,service:z?{_id:Q.serviceId,title:z.name}:null};return i!=null&&i.isNew?[...be,Ne]:be.map(Ce=>Ce._id===se._id?Ne:Ce)}),I(),mt.success(`Event ${i!=null&&i.isNew?"created":"updated"}!`)}catch(Q){console.error(Q),mt.error("Save failed. Please check your inputs.")}},X=async Q=>{try{await Ve.delete(`/api/events/${Q}`),e(ae=>ae.filter(D=>D._id!==Q)),I(),mt.success("Event deleted")}catch{mt.error("Delete failed")}},ce=Q=>{var be,ke,Ne,Ce,xe;const ae=Q.event.extendedProps,{color:D,label:q}=Rq[ae.priority]||{},z=Q.view.type.includes("timeGrid")?Ze(Q.event.start).format("h:mm a"):null,F=((be=ae.account)==null?void 0:be.businessName)||((ke=w.find(J=>J.value===ae.accountId))==null?void 0:ke.name),se=((Ne=ae.service)==null?void 0:Ne.title)||((Ce=ae.service)==null?void 0:Ce.serviceName)||((xe=b.find(J=>J.value===ae.serviceId))==null?void 0:xe.name);return _.jsxs("div",{className:"custom-event-content",children:[z&&_.jsx("div",{className:"event-time",children:z}),_.jsxs("div",{className:"event-title-wrap",children:[_.jsx("div",{className:"event-title",children:Q.event.title}),_.jsx(Et,{color:D,className:"event-priority-tag",children:q})]}),_.jsxs("div",{className:"event-meta",children:[F&&_.jsx(Et,{color:"#009688",size:"small",bordered:!1,children:F}),se&&_.jsx(Et,{color:"#757575",size:"small",bordered:!1,children:se})]})]})},N=()=>_.jsxs("div",{className:"advanced-toolbar",children:[_.jsxs("div",{className:"view-mode-buttons",children:[_.jsx(_t,{type:a==="day"?"primary":"default",onClick:()=>le("day"),children:"Day"}),_.jsx(_t,{type:a==="week"?"primary":"default",onClick:()=>le("week"),children:"Week"}),_.jsx(_t,{type:a==="month"?"primary":"default",onClick:()=>le("month"),children:"Month"}),_.jsx(_t,{type:a==="year"?"primary":"default",onClick:()=>le("year"),children:"Year"})]}),_.jsx(_t,{type:"primary",onClick:()=>j({start:new Date,end:new Date}),className:"add-event-button",children:"+ Add Event"})]}),ee=Q=>{const ae=t.filter(D=>Ze(D.start).isSame(Q.date,"month")).map(D=>({...D,id:D._id}));g({month:Q.name,events:ae}),v(!0)},B=()=>{const Q=f.year(),ae=Array.from({length:12},(D,q)=>{const z=Ze().year(Q).month(q).startOf("month"),F=t.filter(se=>Ze(se.start).isSame(z,"month"));return{name:z.format("MMMM"),date:z,count:F.length,sample:F.slice(0,3)}});return _.jsx("div",{className:"year-grid",children:ae.map((D,q)=>_.jsxs("div",{className:"year-month-card",onClick:()=>ee(D),children:[_.jsx("h3",{className:"month-title",children:D.name}),_.jsx("p",{className:"month-count-badge",children:_.jsxs(Et,{color:D.count>0?"blue":"default",children:[D.count," events"]})}),D.sample.length>0&&_.jsx("ul",{className:"month-preview",children:D.sample.map(z=>_.jsxs("li",{children:[_.jsx("span",{style:{color:z.color||"#333"},children:""})," ",Ze(z.start).format("DD"),"  ",z.title]},z.id))}),D.count>D.sample.length&&_.jsxs("p",{className:"more-events",children:["...and ",D.count-D.sample.length," more"]})]},q))})},re=()=>{const Q=f.year(),ae=[Q-2,Q-1,Q,Q+1,Q+2],D=q=>{const z=Ze().year(q).startOf("year");d(z),c("year")};return _.jsxs("div",{className:"year-selector",children:[_.jsx(_t,{type:"text",onClick:()=>D(Q-1),children:_.jsx("span",{className:"arrow-button",children:" Prev"})}),_.jsx("div",{className:"year-list",children:ae.map(q=>_.jsx("div",{className:`year-item ${q===Q?"active-year":""}`,onClick:()=>D(q),children:q},q))}),_.jsx(_t,{type:"text",onClick:()=>D(Q+1),children:_.jsx("span",{className:"arrow-button",children:"Next "})})]})},le=(Q,ae=null)=>{var F;const D=(F=T.current)==null?void 0:F.getApi();if(!D)return;let q=ae||Ze();if(Q==="year"){d(Ze().startOf("year")),c("year");return}Q==="day"&&(q=Ze()),Q==="week"&&(q=Ze().startOf("week")),Q==="month"&&(q=Ze().startOf("month")),c(Q),d(q);const z={day:"timeGridDay",week:"timeGridWeek",month:"dayGridMonth"};D.changeView(z[Q],q.toDate())},ie=Q=>{a!=="year"&&d(Ze(Q.start))};return _.jsxs("div",{className:"scheduler-full-container",children:[N(),_.jsxs("div",{className:"calendar-main-content",children:[a==="year"&&_.jsxs("div",{className:"year-view-container",children:[re(),B()]}),a!=="year"&&_.jsx(cN,{ref:T,plugins:[iq,Aq,Cq],initialView:"timeGridWeek",selectable:!0,editable:!0,nowIndicator:!0,select:j,eventClick:L,eventDrop:K,eventResize:K,events:t,datesSet:ie,eventContent:ce,headerToolbar:{left:"prev,next today",center:"title",right:""},slotMinTime:"06:00:00",slotMaxTime:"23:00:00",allDaySlot:!1,height:"auto"})]}),_.jsx(Ui,{title:i!=null&&i.isNew?" Schedule New Event":` Edit Event: ${i==null?void 0:i.title}`,width:500,open:n,onClose:I,destroyOnClose:!0,className:"event-form-drawer",children:i&&_.jsx(Dq,{form:A,accountOptions:w,serviceOptions:b,selectedEvent:i,handleSave:te,handleDelete:X})}),_.jsx(Ui,{title:` ${h==null?void 0:h.month}  Events`,width:420,open:m,onClose:()=>v(!1),className:"year-detail-drawer",children:h&&_.jsxs(_.Fragment,{children:[_.jsxs("h3",{children:[h.events.length," events this month"]}),_.jsx("ul",{className:"month-event-list",children:h.events.map(Q=>_.jsxs("li",{className:"month-event-item",onClick:()=>L({event:{id:Q.id,title:Q.title,start:Q.start,end:Q.end,extendedProps:Q}}),children:[_.jsx(Et,{color:Q.color||$1[Q.type]||"#ccc",className:"event-color-dot"}),_.jsxs("div",{className:"event-details",children:[_.jsx("strong",{children:Ze(Q.start).format("DD MMM, HH:mm")}),_.jsx("br",{}),_.jsx("span",{className:"event-list-title",children:Q.title})]})]},Q.id))})]})})]})},{RangePicker:kq}=kc,{Title:Nq,Text:e0}=sl,Iq=[{label:"Sick Leave",value:"Sick"},{label:"Casual Leave",value:"Casual"},{label:"Medical Leave",value:"Medical"},{label:"Paid Leave",value:"Paid"},{label:"Lop",value:"Unpaid"}],_2={Sick:10,Casual:10,Medical:1/0,Paid:5,Unpaid:1/0};function Mq(){const t=JSON.parse(localStorage.getItem("user")),{socket:e}=k.useContext(ol),[n]=Je.useForm(),[r,i]=k.useState([]),[s,a]=k.useState({}),[c,f]=k.useState(!1),[d,h]=k.useState(0),g=async()=>{var w;try{const x=await Ve.get(`/api/leaves/my/${t._id}`);i(x.data.leaves||x.data||[]);const b=await Ve.get(`/api/leaves/balance/${t._id}`);a(((w=b.data)==null?void 0:w.balances)||b.data||{})}catch{mt.error(" Failed to load leave data")}};k.useEffect(()=>{g()},[]),k.useEffect(()=>{if(!e)return;const w=()=>g();return e.on("leave_status_update",w),e.on("leave_request_received",w),()=>{e.off("leave_status_update",w),e.off("leave_request_received",w)}},[e]);const m=async w=>{var x,b;try{const[S,T]=w.dates;await Ve.post("/api/leaves",{type:w.type,reason:w.reason,userId:t._id,fromDate:S.toISOString(),toDate:T.toISOString()}),e==null||e.emit("new_leave_request",{userId:t._id}),mt.success(" Leave Request Sent"),n.resetFields(),h(0),f(!1),g()}catch(S){mt.error(((b=(x=S.response)==null?void 0:x.data)==null?void 0:b.message)||"Failed to apply")}},v=(w,x)=>_.jsxs(Et,{color:x==="Approved"?"green":x==="Rejected"?"red":"orange",style:{marginRight:4},children:[w,": ",x||"Pending"]});return _.jsxs("div",{style:{padding:"0 20px"},children:[_.jsx(_t,{type:"primary",size:"large",className:"add-event-button",icon:_.jsx(mf,{}),onClick:()=>f(!0),style:{marginBottom:20},children:"Apply New Leave"}),_.jsx(Xt,{title:_.jsxs(_.Fragment,{children:[_.jsx(OR,{})," ",_.jsx(Nq,{level:5,style:{display:"inline-block",marginLeft:8},children:"Leave Balances"})]}),style:{marginBottom:20},children:_.jsx(pn,{gutter:[16,16],children:Object.keys(s).map(w=>{if(!_2[w])return null;const x=s[w],b=_2[w],S=b===1/0?"N/A":`${b-x} days`;return _.jsxs(ot,{xs:12,md:6,children:[_.jsx(Da,{title:w,value:b===1/0?"Unlimited":x,valueStyle:{color:x<=0?"red":"#1677ff"}}),_.jsxs(e0,{type:"secondary",children:["Used: ",S]})]},w)})})}),_.jsx(Ui,{title:"Submit Leave Request",width:450,open:c,onClose:()=>f(!1),destroyOnClose:!0,children:_.jsxs(Je,{layout:"vertical",form:n,onFinish:m,children:[_.jsx(Je.Item,{label:"Select Dates",name:"dates",rules:[{required:!0}],children:_.jsx(kq,{style:{width:"100%"},onChange:w=>{if(!w)return h(0);const x=Ze(w[1]).diff(Ze(w[0]),"day")+1;h(x)}})}),d>0&&_.jsxs(e0,{style:{color:"#1677ff"},children:["Selected: ",d," days"]}),_.jsx(Je.Item,{label:"Leave Type",name:"type",rules:[{required:!0}],children:_.jsx(En,{options:Iq})}),_.jsx(Je.Item,{label:"Reason",name:"reason",rules:[{required:!0}],children:_.jsx(Zn.TextArea,{rows:4})}),_.jsx(_t,{type:"primary",htmlType:"submit",icon:_.jsx(zp,{}),children:"Submit"})]})}),_.jsx(Xt,{title:"My Leave History",children:_.jsx(os,{dataSource:r,renderItem:w=>{var x,b,S;return _.jsxs(os.Item,{children:[_.jsxs("div",{style:{flex:1},children:[_.jsxs(e0,{strong:!0,children:[Ze(w.fromDate).format("DD MMM")," -"," ",Ze(w.toDate).format("DD MMM YYYY")]}),_.jsx(Et,{style:{marginLeft:8},children:w.type}),_.jsx("br",{}),_.jsxs("div",{style:{marginTop:8},children:[v("TL",(x=w.approval)==null?void 0:x["Team Leader"]),v("Admin",(b=w.approval)==null?void 0:b.Admin),v("SA",(S=w.approval)==null?void 0:S.Superadmin)]}),w.rejectReason&&_.jsxs(e0,{type:"danger",children:["Reason: ",w.rejectReason]})]}),_.jsx(Et,{color:w.status==="Approved"?"green":w.status==="Rejected"?"red":"orange",children:w.status})]})}})})]})}const{Text:gy,Title:jq}=sl;function Pq(){const t=JSON.parse(localStorage.getItem("user")),{socket:e}=k.useContext(ol),n=t==null?void 0:t.role,[r,i]=k.useState([]),[s,a]=k.useState([]),[c,f]=k.useState(!0),[d,h]=k.useState(!1),[g,m]=k.useState(""),[v,w]=k.useState(null),x=async()=>{f(!0);try{const P=await Ve.get("/api/leaves/pending",{params:{role:n,teamId:t.team}});i(P.data||[]);const V=await Ve.get("/api/leaves/all");a(V.data||[])}catch(P){console.error("Error fetching data:",P),mt.error("Failed to load leave data")}finally{f(!1)}};k.useEffect(()=>{x()},[]),k.useEffect(()=>{if(!e)return;const P=()=>x();return e.on("leave_request_received",P),e.on("leave_status_update",P),()=>{e.off("leave_request_received",P),e.off("leave_status_update",P)}},[e]);const b=P=>n==="Team Leader"&&P.currentLevel==="Team Leader"||n==="Admin"&&P.currentLevel==="Admin"||n==="Superadmin"&&P.currentLevel==="Superadmin",S=async P=>{await Ve.patch(`/api/leaves/${P._id}/status`,{status:"Approved",role:n}),e==null||e.emit("leave_status_update",{leaveId:P._id}),mt.success("Leave Approved"),x()},T=async()=>{if(!g.trim())return mt.error("Enter rejection reason");await Ve.patch(`/api/leaves/${v._id}/status`,{status:"Rejected",role:n,rejectReason:g}),e==null||e.emit("leave_status_update",{leaveId:v._id,status:"Rejected"}),h(!1),m(""),w(null),mt.error("Leave Rejected"),x()},A=(P,V)=>_.jsxs(Et,{color:V==="Approved"?"green":V==="Rejected"?"red":"orange",style:{marginRight:4},children:[P,": ",V||"Pending"]}),C=P=>{var V,I,j,L;return _.jsxs(os.Item,{actions:[P.status!=="Pending"?_.jsx(Et,{color:"default",children:"Completed"}):b(P)?_.jsxs(_.Fragment,{children:[_.jsx(_t,{type:"primary",onClick:()=>S(P),children:"Approve"}),_.jsx(_t,{danger:!0,onClick:()=>{w(P),h(!0)},children:"Reject"})]}):_.jsxs(Et,{color:"cyan",children:["Waiting for ",P.currentLevel]})],children:[_.jsxs("div",{style:{flex:1},children:[_.jsx(gy,{strong:!0,children:(V=P.userId)==null?void 0:V.name})," ",_.jsx(Et,{color:"blue",children:P.type}),_.jsx("br",{}),_.jsxs(gy,{type:"secondary",children:[Ze(P.fromDate).format("DD MMM")," "," ",Ze(P.toDate).format("DD MMM YYYY")]}),_.jsxs("div",{style:{marginTop:6},children:[A("TL",(I=P.approval)==null?void 0:I["Team Leader"]),A("Admin",(j=P.approval)==null?void 0:j.Admin),A("SA",(L=P.approval)==null?void 0:L.Superadmin)]}),P.rejectReason&&_.jsxs(gy,{type:"danger",children:["Reason: ",P.rejectReason]})]}),_.jsx(Et,{color:P.status==="Approved"?"green":P.status==="Rejected"?"red":"orange",children:P.status})]})};return _.jsxs(_.Fragment,{children:[_.jsxs(Xt,{children:[_.jsx(jq,{level:4,children:"Leave Approvals"}),_.jsx(fP,{items:[{key:"1",label:" Pending",children:c?_.jsx(GS,{active:!0}):_.jsx(os,{dataSource:r,renderItem:C})},{key:"2",label:" History",children:c?_.jsx(GS,{active:!0}):_.jsx(os,{dataSource:s,renderItem:C})}]})]}),_.jsx(Ui,{title:"Reject Leave",width:360,open:d,onClose:()=>h(!1),footer:_.jsxs(td,{style:{float:"right"},children:[_.jsx(_t,{onClick:()=>{h(!1),m("")},children:"Cancel"}),_.jsx(_t,{danger:!0,type:"primary",onClick:T,children:"Reject"})]}),children:_.jsx(Zn.TextArea,{rows:5,placeholder:"Reason required",value:g,onChange:P=>m(P.target.value)})})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var fp={};fp.version="0.18.5";var CN=1252,Lq=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],RN=function(t){Lq.indexOf(t)!=-1&&(CN=t)};function Bq(){RN(1252)}var Bf=function(t){RN(t)};function Fq(){Bf(1200),Bq()}var t0=function(e){return String.fromCharCode(e)},w2=function(e){return String.fromCharCode(e)},b2,Ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ff(t){for(var e="",n=0,r=0,i=0,s=0,a=0,c=0,f=0,d=0;d<t.length;)n=t.charCodeAt(d++),s=n>>2,r=t.charCodeAt(d++),a=(n&3)<<4|r>>4,i=t.charCodeAt(d++),c=(r&15)<<2|i>>6,f=i&63,isNaN(r)?c=f=64:isNaN(i)&&(f=64),e+=Ma.charAt(s)+Ma.charAt(a)+Ma.charAt(c)+Ma.charAt(f);return e}function Vs(t){var e="",n=0,r=0,i=0,s=0,a=0,c=0,f=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)s=Ma.indexOf(t.charAt(d++)),a=Ma.indexOf(t.charAt(d++)),n=s<<2|a>>4,e+=String.fromCharCode(n),c=Ma.indexOf(t.charAt(d++)),r=(a&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),f=Ma.indexOf(t.charAt(d++)),i=(c&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var Tt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Qs=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Qo(t){return Tt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function E2(t){return Tt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ji=function(e){return Tt?Qs(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function lg(t){if(typeof ArrayBuffer>"u")return ji(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function pd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function Uq(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Jn=Tt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Qs(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Hq(t){for(var e=[],n=0,r=t.length+250,i=Qo(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var c=t.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|c>>6&15|(a&3)<<4,i[n++]=128|c&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(e.push(i.slice(0,n)),n=0,i=Qo(65535),r=65530)}return e.push(i.slice(0,n)),Jn(e)}var Ef=/\u0000/g,n0=/[\u0001-\u0006]/g;function Ec(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Fi(t,e){var n=""+t;return n.length>=e?n:ln("0",e-n.length)+n}function y_(t,e){var n=""+t;return n.length>=e?n:ln(" ",e-n.length)+n}function dp(t,e){var n=""+t;return n.length>=e?n:n+ln(" ",e-n.length)}function zq(t,e){var n=""+Math.round(t);return n.length>=e?n:ln("0",e-n.length)+n}function $q(t,e){var n=""+t;return n.length>=e?n:ln("0",e-n.length)+n}var S2=Math.pow(2,32);function rc(t,e){if(t>S2||t<-S2)return zq(t,e);var n=Math.round(t);return $q(n,e)}function hp(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var T2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],my=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Vq(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var un={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},A2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},qq={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function pp(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,a=1,c=0,f=1,d=0,h=0,g=Math.floor(i);d<e&&(g=Math.floor(i),c=g*a+s,h=g*d+f,!(i-g<5e-8));)i=1/(i-g),s=a,a=c,f=d,d=h;if(h>e&&(d>e?(h=f,c=s):(h=d,c=a)),!n)return[0,r*c,h];var m=Math.floor(r*c/h);return[m,r*c-m*h,h]}function r0(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,a=[],c={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),a=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),n&&(s=Zq(f,a))}return c.y=a[0],c.m=a[1],c.d=a[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var DN=new Date(1899,11,31,0,0,0),Wq=DN.getTime(),Gq=new Date(1900,2,1,0,0,0);function ON(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=Gq&&(n+=24*60*60*1e3),(n-(Wq+(t.getTimezoneOffset()-DN.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function x_(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Yq(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Xq(t){var e=t<0?12:11,n=x_(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function Kq(t){var e=x_(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Qq(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=Xq(t):e===10?n=t.toFixed(10).substr(0,12):n=Kq(t),x_(Yq(n.toUpperCase()))}function V1(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Qq(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return qa(14,ON(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Zq(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function Jq(t,e,n,r){var i="",s=0,a=0,c=n.y,f,d=0;switch(t){case 98:c=n.y+543;case 121:switch(e.length){case 1:case 2:f=c%100,d=2;break;default:f=c%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:f=n.m,d=e.length;break;case 3:return my[n.m-1][1];case 5:return my[n.m-1][0];default:return my[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=n.d,d=e.length;break;case 3:return T2[n.q][0];default:return T2[n.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(n.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=n.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=n.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Fi(n.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Fi(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=n.D*24+n.H;break;case"[m]":case"[mm]":f=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":f=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:f=c,d=1;break}var h=d>0?Fi(f,d):"";return h}function ja(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var kN=/%/g;function eW(t,e,n){var r=e.replace(kN,""),i=e.length-r.length;return Bs(t,r,n*Math.pow(10,2*i))+ln("%",i)}function tW(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Bs(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function NN(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+NN(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,d,h){return f+d+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var IN=/# (\?+)( ?)\/( ?)(\d+)/;function nW(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,c=r;return n+(s===0?"":""+s)+" "+(a===0?ln(" ",t[1].length+1+t[4].length):y_(a,t[1].length)+t[2]+"/"+t[3]+Fi(c,t[4].length))}function rW(t,e,n){return n+(e===0?"":""+e)+ln(" ",t[1].length+2+t[4].length)}var MN=/^#*0*\.([0#]+)/,jN=/\).*[0#]/,PN=/\(###\) ###\\?-####/;function yr(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function C2(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function R2(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function iW(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function sW(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function mi(t,e,n){if(t.charCodeAt(0)===40&&!e.match(jN)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?mi("n",r,n):"("+mi("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return tW(t,e,n);if(e.indexOf("%")!==-1)return eW(t,e,n);if(e.indexOf("E")!==-1)return NN(e,n);if(e.charCodeAt(0)===36)return"$"+mi(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,c,f=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+rc(f,e.length);if(e.match(/^[#?]+$/))return i=rc(n,0),i==="0"&&(i=""),i.length>e.length?i:yr(e.substr(0,e.length-i.length))+i;if(s=e.match(IN))return nW(s,f,d);if(e.match(/^#+0+$/))return d+rc(f,e.length-e.indexOf("0"));if(s=e.match(MN))return i=C2(n,s[1].length).replace(/^([^\.]+)$/,"$1."+yr(s[1])).replace(/\.$/,"."+yr(s[1])).replace(/\.(\d*)$/,function(w,x){return"."+x+ln("0",yr(s[1]).length-x.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+C2(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+ja(rc(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+mi(t,e,-n):ja(""+(Math.floor(n)+iW(n,s[1].length)))+"."+Fi(R2(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return mi(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ec(mi(t,e.replace(/[\\-]/g,""),n)),a=0,Ec(Ec(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return a<i.length?i.charAt(a++):w==="0"?"0":""}));if(e.match(PN))return i=mi(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),c=pp(f,Math.pow(10,a)-1,!1),i=""+d,h=Bs("n",s[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=dp(c[2],a),h.length<s[4].length&&(h=yr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),c=pp(f,Math.pow(10,a)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?y_(c[1],a)+s[2]+"/"+s[3]+dp(c[2],a):ln(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=rc(n,0),e.length<=i.length?i:yr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var g=e.indexOf(".")-a,m=e.length-i.length-g;return yr(e.substr(0,g)+i+e.substr(e.length-m))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=R2(n,s[1].length),n<0?"-"+mi(t,e,-n):ja(sW(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Fi(0,3-w.length):"")+w})+"."+Fi(a,s[1].length);switch(e){case"###,##0.00":return mi(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var v=ja(rc(f,0));return v!=="0"?d+v:"";case"###,###.00":return mi(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return mi(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function aW(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Bs(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function oW(t,e,n){var r=e.replace(kN,""),i=e.length-r.length;return Bs(t,r,n*Math.pow(10,2*i))+ln("%",i)}function LN(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+LN(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,d,h){return f+d+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function rs(t,e,n){if(t.charCodeAt(0)===40&&!e.match(jN)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?rs("n",r,n):"("+rs("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return aW(t,e,n);if(e.indexOf("%")!==-1)return oW(t,e,n);if(e.indexOf("E")!==-1)return LN(e,n);if(e.charCodeAt(0)===36)return"$"+rs(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,c,f=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+Fi(f,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:yr(e.substr(0,e.length-i.length))+i;if(s=e.match(IN))return rW(s,f,d);if(e.match(/^#+0+$/))return d+Fi(f,e.length-e.indexOf("0"));if(s=e.match(MN))return i=(""+n).replace(/^([^\.]+)$/,"$1."+yr(s[1])).replace(/\.$/,"."+yr(s[1])),i=i.replace(/\.(\d*)$/,function(w,x){return"."+x+ln("0",yr(s[1]).length-x.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+ja(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+rs(t,e,-n):ja(""+n)+"."+ln("0",s[1].length);if(s=e.match(/^#,#*,#0/))return rs(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ec(rs(t,e.replace(/[\\-]/g,""),n)),a=0,Ec(Ec(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return a<i.length?i.charAt(a++):w==="0"?"0":""}));if(e.match(PN))return i=rs(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),c=pp(f,Math.pow(10,a)-1,!1),i=""+d,h=Bs("n",s[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=dp(c[2],a),h.length<s[4].length&&(h=yr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),c=pp(f,Math.pow(10,a)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?y_(c[1],a)+s[2]+"/"+s[3]+dp(c[2],a):ln(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:yr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var g=e.indexOf(".")-a,m=e.length-i.length-g;return yr(e.substr(0,g)+i+e.substr(e.length-m))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+rs(t,e,-n):ja(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Fi(0,3-w.length):"")+w})+"."+Fi(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=ja(""+f);return v!=="0"?d+v:"";default:if(e.match(/\.[0#?]*$/))return rs(t,e.slice(0,e.lastIndexOf(".")),n)+yr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Bs(t,e,n){return(n|0)===n?rs(t,e,n):mi(t,e,n)}function lW(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var BN=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function FN(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":hp(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(BN))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function cW(t,e,n,r){for(var i=[],s="",a=0,c="",f="t",d,h,g,m="H";a<t.length;)switch(c=t.charAt(a)){case"G":if(!hp(t,a))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(g=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(g);i[i.length]={t:"t",v:s},++a;break;case"\\":var v=t.charAt(++a),w=v==="("||v===")"?v:"t";i[i.length]={t:w,v},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(d==null&&(d=r0(e,n,t.charAt(a+1)==="2"),d==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},f=c,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=r0(e,n),d==null))return"";for(s=c;++a<t.length&&t.charAt(a).toLowerCase()===c;)s+=c;c==="m"&&f.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=m),i[i.length]={t:c,v:s},f=c;break;case"A":case"a":case"":var x={t:c,v:c};if(d==null&&(d=r0(e,n)),t.substr(a,3).toUpperCase()==="A/P"?(d!=null&&(x.v=d.H>=12?"P":"A"),x.t="T",m="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(d!=null&&(x.v=d.H>=12?"PM":"AM"),x.t="T",a+=5,m="h"):t.substr(a,5).toUpperCase()==="/"?(d!=null&&(x.v=d.H>=12?"":""),x.t="T",a+=5,m="h"):(x.t="t",++a),d==null&&x.t==="T")return"";i[i.length]=x,f=c;break;case"[":for(s=c;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(BN)){if(d==null&&(d=r0(e,n),d==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",FN(t)||(i[i.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=c;++a<t.length&&(c=t.charAt(a))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++a<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(a))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;t.charAt(++a)===c;)s+=c;i[i.length]={t:c,v:s},f=c;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++a;break}var b=0,S=0,T;for(a=i.length-1,f="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=m,f="h",b<1&&(b=1);break;case"s":(T=i[a].v.match(/\.0+$/))&&(S=Math.max(S,T[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":f=i[a].t;break;case"m":f==="s"&&(i[a].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&i[a].v.match(/[Hh]/)&&(b=1),b<2&&i[a].v.match(/[Mm]/)&&(b=2),b<3&&i[a].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var A="",C;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=Jq(i[a].t.charCodeAt(0),i[a].v,d,S),i[a].t="t";break;case"n":case"?":for(C=a+1;i[C]!=null&&((c=i[C].t)==="?"||c==="D"||(c===" "||c==="t")&&i[C+1]!=null&&(i[C+1].t==="?"||i[C+1].t==="t"&&i[C+1].v==="/")||i[a].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[C].v==="/"||i[C].v===" "&&i[C+1]!=null&&i[C+1].t=="?"));)i[a].v+=i[C].v,i[C]={v:"",t:";"},++C;A+=i[a].v,a=C-1;break;case"G":i[a].t="t",i[a].v=V1(e,n);break}var P="",V,I;if(A.length>0){A.charCodeAt(0)==40?(V=e<0&&A.charCodeAt(0)===45?-e:e,I=Bs("n",A,V)):(V=e<0&&r>1?-e:e,I=Bs("n",A,V),V<0&&i[0]&&i[0].t=="t"&&(I=I.substr(1),i[0].v="-"+i[0].v)),C=I.length-1;var j=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){j=a;break}var L=i.length;if(j===i.length&&I.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(C>=i[a].v.length-1?(C-=i[a].v.length,i[a].v=I.substr(C+1,i[a].v.length)):C<0?i[a].v="":(i[a].v=I.substr(0,C+1),C=-1),i[a].t="t",L=a);C>=0&&L<i.length&&(i[L].v=I.substr(0,C+1)+i[L].v)}else if(j!==i.length&&I.indexOf("E")===-1){for(C=I.indexOf(".")-1,a=j;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(h=i[a].v.indexOf(".")>-1&&a===j?i[a].v.indexOf(".")-1:i[a].v.length-1,P=i[a].v.substr(h+1);h>=0;--h)C>=0&&(i[a].v.charAt(h)==="0"||i[a].v.charAt(h)==="#")&&(P=I.charAt(C--)+P);i[a].v=P,i[a].t="t",L=a}for(C>=0&&L<i.length&&(i[L].v=I.substr(0,C+1)+i[L].v),C=I.indexOf(".")+1,a=j;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==j)){for(h=i[a].v.indexOf(".")>-1&&a===j?i[a].v.indexOf(".")+1:0,P=i[a].v.substr(0,h);h<i[a].v.length;++h)C<I.length&&(P+=I.charAt(C++));i[a].v=P,i[a].t="t",L=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(V=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=Bs(i[a].t,i[a].v,V),i[a].t="t");var K="";for(a=0;a!==i.length;++a)i[a]!=null&&(K+=i[a].v);return K}var D2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function O2(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function uW(t,e){var n=lW(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(D2),c=n[1].match(D2);return O2(e,a)?[r,n[0]]:O2(e,c)?[r,n[1]]:[r,n[a!=null&&c!=null?2:1]]}return[r,s]}function qa(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:un)[t],r==null&&(r=n.table&&n.table[A2[t]]||un[A2[t]]),r==null&&(r=qq[t]||"General");break}if(hp(r,0))return V1(e,n);e instanceof Date&&(e=ON(e,n.date1904));var i=uW(r,e);if(hp(i[1]))return V1(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return cW(i[1],e,n,i[0])}function UN(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(un[n]==null){e<0&&(e=n);continue}if(un[n]==t){e=n;break}}e<0&&(e=391)}return un[e]=t,e}function cg(t){for(var e=0;e!=392;++e)t[e]!==void 0&&UN(t[e],e)}function ug(){un=Vq()}var HN=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function fW(t){var e=typeof t=="number"?un[t]:t;return e=e.replace(HN,"(\\d+)"),new RegExp("^"+e+"$")}function dW(t,e,n){var r=-1,i=-1,s=-1,a=-1,c=-1,f=-1;(e.match(HN)||[]).forEach(function(g,m){var v=parseInt(n[m+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=v;break;case"d":s=v;break;case"h":a=v;break;case"s":f=v;break;case"m":a>=0?c=v:i=v;break}}),f>=0&&c==-1&&i>=0&&(c=i,i=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var h=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return a==-1&&c==-1&&f==-1?d:r==-1&&i==-1&&s==-1?h:d+"T"+h}var hW=function(){var t={};t.version="1.2.0";function e(){for(var I=0,j=new Array(256),L=0;L!=256;++L)I=L,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,j[L]=I;return typeof Int32Array<"u"?new Int32Array(j):j}var n=e();function r(I){var j=0,L=0,K=0,te=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(K=0;K!=256;++K)te[K]=I[K];for(K=0;K!=256;++K)for(L=I[K],j=256+K;j<4096;j+=256)L=te[j]=L>>>8^I[L&255];var X=[];for(K=1;K!=16;++K)X[K-1]=typeof Int32Array<"u"?te.subarray(K*256,K*256+256):te.slice(K*256,K*256+256);return X}var i=r(n),s=i[0],a=i[1],c=i[2],f=i[3],d=i[4],h=i[5],g=i[6],m=i[7],v=i[8],w=i[9],x=i[10],b=i[11],S=i[12],T=i[13],A=i[14];function C(I,j){for(var L=j^-1,K=0,te=I.length;K<te;)L=L>>>8^n[(L^I.charCodeAt(K++))&255];return~L}function P(I,j){for(var L=j^-1,K=I.length-15,te=0;te<K;)L=A[I[te++]^L&255]^T[I[te++]^L>>8&255]^S[I[te++]^L>>16&255]^b[I[te++]^L>>>24]^x[I[te++]]^w[I[te++]]^v[I[te++]]^m[I[te++]]^g[I[te++]]^h[I[te++]]^d[I[te++]]^f[I[te++]]^c[I[te++]]^a[I[te++]]^s[I[te++]]^n[I[te++]];for(K+=15;te<K;)L=L>>>8^n[(L^I[te++])&255];return~L}function V(I,j){for(var L=j^-1,K=0,te=I.length,X=0,ce=0;K<te;)X=I.charCodeAt(K++),X<128?L=L>>>8^n[(L^X)&255]:X<2048?(L=L>>>8^n[(L^(192|X>>6&31))&255],L=L>>>8^n[(L^(128|X&63))&255]):X>=55296&&X<57344?(X=(X&1023)+64,ce=I.charCodeAt(K++)&1023,L=L>>>8^n[(L^(240|X>>8&7))&255],L=L>>>8^n[(L^(128|X>>2&63))&255],L=L>>>8^n[(L^(128|ce>>6&15|(X&3)<<4))&255],L=L>>>8^n[(L^(128|ce&63))&255]):(L=L>>>8^n[(L^(224|X>>12&15))&255],L=L>>>8^n[(L^(128|X>>6&63))&255],L=L>>>8^n[(L^(128|X&63))&255]);return~L}return t.table=n,t.bstr=C,t.buf=P,t.str=V,t}(),Ut=function(){var e={};e.version="1.2.1";function n(O,G){for(var U=O.split("/"),H=G.split("/"),W=0,Y=0,pe=Math.min(U.length,H.length);W<pe;++W){if(Y=U[W].length-H[W].length)return Y;if(U[W]!=H[W])return U[W]<H[W]?-1:1}return U.length-H.length}function r(O){if(O.charAt(O.length-1)=="/")return O.slice(0,-1).indexOf("/")===-1?O:r(O.slice(0,-1));var G=O.lastIndexOf("/");return G===-1?O:O.slice(0,G+1)}function i(O){if(O.charAt(O.length-1)=="/")return i(O.slice(0,-1));var G=O.lastIndexOf("/");return G===-1?O:O.slice(G+1)}function s(O,G){typeof G=="string"&&(G=new Date(G));var U=G.getHours();U=U<<6|G.getMinutes(),U=U<<5|G.getSeconds()>>>1,O.write_shift(2,U);var H=G.getFullYear()-1980;H=H<<4|G.getMonth()+1,H=H<<5|G.getDate(),O.write_shift(2,H)}function a(O){var G=O.read_shift(2)&65535,U=O.read_shift(2)&65535,H=new Date,W=U&31;U>>>=5;var Y=U&15;U>>>=4,H.setMilliseconds(0),H.setFullYear(U+1980),H.setMonth(Y-1),H.setDate(W);var pe=G&31;G>>>=5;var Ee=G&63;return G>>>=6,H.setHours(G),H.setMinutes(Ee),H.setSeconds(pe<<1),H}function c(O){Xr(O,0);for(var G={},U=0;O.l<=O.length-4;){var H=O.read_shift(2),W=O.read_shift(2),Y=O.l+W,pe={};switch(H){case 21589:U=O.read_shift(1),U&1&&(pe.mtime=O.read_shift(4)),W>5&&(U&2&&(pe.atime=O.read_shift(4)),U&4&&(pe.ctime=O.read_shift(4))),pe.mtime&&(pe.mt=new Date(pe.mtime*1e3));break}O.l=Y,G[H]=pe}return G}var f;function d(){return f||(f={})}function h(O,G){if(O[0]==80&&O[1]==75)return Ei(O,G);if((O[0]|32)==109&&(O[1]|32)==105)return nu(O,G);if(O.length<512)throw new Error("CFB file size "+O.length+" < 512");var U=3,H=512,W=0,Y=0,pe=0,Ee=0,fe=0,ge=[],ve=O.slice(0,512);Xr(ve,0);var je=g(ve);switch(U=je[0],U){case 3:H=512;break;case 4:H=4096;break;case 0:if(je[1]==0)return Ei(O,G);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}H!==512&&(ve=O.slice(0,H),Xr(ve,28));var Be=O.slice(0,H);m(ve,U);var $e=ve.read_shift(4,"i");if(U===3&&$e!==0)throw new Error("# Directory Sectors: Expected 0 saw "+$e);ve.l+=4,pe=ve.read_shift(4,"i"),ve.l+=4,ve.chk("00100000","Mini Stream Cutoff Size: "),Ee=ve.read_shift(4,"i"),W=ve.read_shift(4,"i"),fe=ve.read_shift(4,"i"),Y=ve.read_shift(4,"i");for(var Le=-1,ze=0;ze<109&&(Le=ve.read_shift(4,"i"),!(Le<0));++ze)ge[ze]=Le;var at=v(O,H);b(fe,Y,at,H,ge);var At=T(at,pe,ge,H);At[pe].name="!Directory",W>0&&Ee!==ce&&(At[Ee].name="!MiniFAT"),At[ge[0]].name="!FAT",At.fat_addrs=ge,At.ssz=H;var Ct={},Pt=[],ai=[],Xi=[];A(pe,At,at,Pt,W,Ct,ai,Ee),w(ai,Xi,Pt),Pt.shift();var Sr={FileIndex:ai,FullPaths:Xi};return G&&G.raw&&(Sr.raw={header:Be,sectors:at}),Sr}function g(O){if(O[O.l]==80&&O[O.l+1]==75)return[0,0];O.chk(N,"Header Signature: "),O.l+=16;var G=O.read_shift(2,"u");return[O.read_shift(2,"u"),G]}function m(O,G){var U=9;switch(O.l+=2,U=O.read_shift(2)){case 9:if(G!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(G!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}O.chk("0600","Mini Sector Shift: "),O.chk("000000000000","Reserved: ")}function v(O,G){for(var U=Math.ceil(O.length/G)-1,H=[],W=1;W<U;++W)H[W-1]=O.slice(W*G,(W+1)*G);return H[U-1]=O.slice(U*G),H}function w(O,G,U){for(var H=0,W=0,Y=0,pe=0,Ee=0,fe=U.length,ge=[],ve=[];H<fe;++H)ge[H]=ve[H]=H,G[H]=U[H];for(;Ee<ve.length;++Ee)H=ve[Ee],W=O[H].L,Y=O[H].R,pe=O[H].C,ge[H]===H&&(W!==-1&&ge[W]!==W&&(ge[H]=ge[W]),Y!==-1&&ge[Y]!==Y&&(ge[H]=ge[Y])),pe!==-1&&(ge[pe]=H),W!==-1&&H!=ge[H]&&(ge[W]=ge[H],ve.lastIndexOf(W)<Ee&&ve.push(W)),Y!==-1&&H!=ge[H]&&(ge[Y]=ge[H],ve.lastIndexOf(Y)<Ee&&ve.push(Y));for(H=1;H<fe;++H)ge[H]===H&&(Y!==-1&&ge[Y]!==Y?ge[H]=ge[Y]:W!==-1&&ge[W]!==W&&(ge[H]=ge[W]));for(H=1;H<fe;++H)if(O[H].type!==0){if(Ee=H,Ee!=ge[Ee])do Ee=ge[Ee],G[H]=G[Ee]+"/"+G[H];while(Ee!==0&&ge[Ee]!==-1&&Ee!=ge[Ee]);ge[H]=-1}for(G[0]+="/",H=1;H<fe;++H)O[H].type!==2&&(G[H]+="/")}function x(O,G,U){for(var H=O.start,W=O.size,Y=[],pe=H;U&&W>0&&pe>=0;)Y.push(G.slice(pe*X,pe*X+X)),W-=X,pe=Io(U,pe*4);return Y.length===0?Se(0):Jn(Y).slice(0,O.size)}function b(O,G,U,H,W){var Y=ce;if(O===ce){if(G!==0)throw new Error("DIFAT chain shorter than expected")}else if(O!==-1){var pe=U[O],Ee=(H>>>2)-1;if(!pe)return;for(var fe=0;fe<Ee&&(Y=Io(pe,fe*4))!==ce;++fe)W.push(Y);b(Io(pe,H-4),G-1,U,H,W)}}function S(O,G,U,H,W){var Y=[],pe=[];W||(W=[]);var Ee=H-1,fe=0,ge=0;for(fe=G;fe>=0;){W[fe]=!0,Y[Y.length]=fe,pe.push(O[fe]);var ve=U[Math.floor(fe*4/H)];if(ge=fe*4&Ee,H<4+ge)throw new Error("FAT boundary crossed: "+fe+" 4 "+H);if(!O[ve])break;fe=Io(O[ve],ge)}return{nodes:Y,data:B2([pe])}}function T(O,G,U,H){var W=O.length,Y=[],pe=[],Ee=[],fe=[],ge=H-1,ve=0,je=0,Be=0,$e=0;for(ve=0;ve<W;++ve)if(Ee=[],Be=ve+G,Be>=W&&(Be-=W),!pe[Be]){fe=[];var Le=[];for(je=Be;je>=0;){Le[je]=!0,pe[je]=!0,Ee[Ee.length]=je,fe.push(O[je]);var ze=U[Math.floor(je*4/H)];if($e=je*4&ge,H<4+$e)throw new Error("FAT boundary crossed: "+je+" 4 "+H);if(!O[ze]||(je=Io(O[ze],$e),Le[je]))break}Y[Be]={nodes:Ee,data:B2([fe])}}return Y}function A(O,G,U,H,W,Y,pe,Ee){for(var fe=0,ge=H.length?2:0,ve=G[O].data,je=0,Be=0,$e;je<ve.length;je+=128){var Le=ve.slice(je,je+128);Xr(Le,64),Be=Le.read_shift(2),$e=S_(Le,0,Be-ge),H.push($e);var ze={name:$e,type:Le.read_shift(1),color:Le.read_shift(1),L:Le.read_shift(4,"i"),R:Le.read_shift(4,"i"),C:Le.read_shift(4,"i"),clsid:Le.read_shift(16),state:Le.read_shift(4,"i"),start:0,size:0},at=Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2);at!==0&&(ze.ct=C(Le,Le.l-8));var At=Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2);At!==0&&(ze.mt=C(Le,Le.l-8)),ze.start=Le.read_shift(4,"i"),ze.size=Le.read_shift(4,"i"),ze.size<0&&ze.start<0&&(ze.size=ze.type=0,ze.start=ce,ze.name=""),ze.type===5?(fe=ze.start,W>0&&fe!==ce&&(G[fe].name="!StreamData")):ze.size>=4096?(ze.storage="fat",G[ze.start]===void 0&&(G[ze.start]=S(U,ze.start,G.fat_addrs,G.ssz)),G[ze.start].name=ze.name,ze.content=G[ze.start].data.slice(0,ze.size)):(ze.storage="minifat",ze.size<0?ze.size=0:fe!==ce&&ze.start!==ce&&G[fe]&&(ze.content=x(ze,G[fe].data,(G[Ee]||{}).data))),ze.content&&Xr(ze.content,0),Y[$e]=ze,pe.push(ze)}}function C(O,G){return new Date((Qr(O,G+4)/1e7*Math.pow(2,32)+Qr(O,G)/1e7-11644473600)*1e3)}function P(O,G){return d(),h(f.readFileSync(O),G)}function V(O,G){var U=G&&G.type;switch(U||Tt&&Buffer.isBuffer(O)&&(U="buffer"),U||"base64"){case"file":return P(O,G);case"base64":return h(ji(Vs(O)),G);case"binary":return h(ji(O),G)}return h(O,G)}function I(O,G){var U=G||{},H=U.root||"Root Entry";if(O.FullPaths||(O.FullPaths=[]),O.FileIndex||(O.FileIndex=[]),O.FullPaths.length!==O.FileIndex.length)throw new Error("inconsistent CFB structure");O.FullPaths.length===0&&(O.FullPaths[0]=H+"/",O.FileIndex[0]={name:H,type:5}),U.CLSID&&(O.FileIndex[0].clsid=U.CLSID),j(O)}function j(O){var G="Sh33tJ5";if(!Ut.find(O,"/"+G)){var U=Se(4);U[0]=55,U[1]=U[3]=50,U[2]=54,O.FileIndex.push({name:G,type:2,content:U,size:4,L:69,R:69,C:69}),O.FullPaths.push(O.FullPaths[0]+G),L(O)}}function L(O,G){I(O);for(var U=!1,H=!1,W=O.FullPaths.length-1;W>=0;--W){var Y=O.FileIndex[W];switch(Y.type){case 0:H?U=!0:(O.FileIndex.pop(),O.FullPaths.pop());break;case 1:case 2:case 5:H=!0,isNaN(Y.R*Y.L*Y.C)&&(U=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!G)){var pe=new Date(1987,1,19),Ee=0,fe=Object.create?Object.create(null):{},ge=[];for(W=0;W<O.FullPaths.length;++W)fe[O.FullPaths[W]]=!0,O.FileIndex[W].type!==0&&ge.push([O.FullPaths[W],O.FileIndex[W]]);for(W=0;W<ge.length;++W){var ve=r(ge[W][0]);H=fe[ve],H||(ge.push([ve,{name:i(ve).replace("/",""),type:1,clsid:B,ct:pe,mt:pe,content:null}]),fe[ve]=!0)}for(ge.sort(function($e,Le){return n($e[0],Le[0])}),O.FullPaths=[],O.FileIndex=[],W=0;W<ge.length;++W)O.FullPaths[W]=ge[W][0],O.FileIndex[W]=ge[W][1];for(W=0;W<ge.length;++W){var je=O.FileIndex[W],Be=O.FullPaths[W];if(je.name=i(Be).replace("/",""),je.L=je.R=je.C=-(je.color=1),je.size=je.content?je.content.length:0,je.start=0,je.clsid=je.clsid||B,W===0)je.C=ge.length>1?1:-1,je.size=0,je.type=5;else if(Be.slice(-1)=="/"){for(Ee=W+1;Ee<ge.length&&r(O.FullPaths[Ee])!=Be;++Ee);for(je.C=Ee>=ge.length?-1:Ee,Ee=W+1;Ee<ge.length&&r(O.FullPaths[Ee])!=r(Be);++Ee);je.R=Ee>=ge.length?-1:Ee,je.type=1}else r(O.FullPaths[W+1]||"")==r(Be)&&(je.R=W+1),je.type=2}}}function K(O,G){var U=G||{};if(U.fileType=="mad")return si(O,U);switch(L(O),U.fileType){case"zip":return Gi(O,U)}var H=function($e){for(var Le=0,ze=0,at=0;at<$e.FileIndex.length;++at){var At=$e.FileIndex[at];if(At.content){var Ct=At.content.length;Ct>0&&(Ct<4096?Le+=Ct+63>>6:ze+=Ct+511>>9)}}for(var Pt=$e.FullPaths.length+3>>2,ai=Le+7>>3,Xi=Le+127>>7,Sr=ai+ze+Pt+Xi,Fr=Sr+127>>7,Si=Fr<=109?0:Math.ceil((Fr-109)/127);Sr+Fr+Si+127>>7>Fr;)Si=++Fr<=109?0:Math.ceil((Fr-109)/127);var Ti=[1,Si,Fr,Xi,Pt,ze,Le,0];return $e.FileIndex[0].size=Le<<6,Ti[7]=($e.FileIndex[0].start=Ti[0]+Ti[1]+Ti[2]+Ti[3]+Ti[4]+Ti[5])+(Ti[6]+7>>3),Ti}(O),W=Se(H[7]<<9),Y=0,pe=0;{for(Y=0;Y<8;++Y)W.write_shift(1,ee[Y]);for(Y=0;Y<8;++Y)W.write_shift(2,0);for(W.write_shift(2,62),W.write_shift(2,3),W.write_shift(2,65534),W.write_shift(2,9),W.write_shift(2,6),Y=0;Y<3;++Y)W.write_shift(2,0);for(W.write_shift(4,0),W.write_shift(4,H[2]),W.write_shift(4,H[0]+H[1]+H[2]+H[3]-1),W.write_shift(4,0),W.write_shift(4,4096),W.write_shift(4,H[3]?H[0]+H[1]+H[2]-1:ce),W.write_shift(4,H[3]),W.write_shift(-4,H[1]?H[0]-1:ce),W.write_shift(4,H[1]),Y=0;Y<109;++Y)W.write_shift(-4,Y<H[2]?H[1]+Y:-1)}if(H[1])for(pe=0;pe<H[1];++pe){for(;Y<236+pe*127;++Y)W.write_shift(-4,Y<H[2]?H[1]+Y:-1);W.write_shift(-4,pe===H[1]-1?ce:pe+1)}var Ee=function($e){for(pe+=$e;Y<pe-1;++Y)W.write_shift(-4,Y+1);$e&&(++Y,W.write_shift(-4,ce))};for(pe=Y=0,pe+=H[1];Y<pe;++Y)W.write_shift(-4,re.DIFSECT);for(pe+=H[2];Y<pe;++Y)W.write_shift(-4,re.FATSECT);Ee(H[3]),Ee(H[4]);for(var fe=0,ge=0,ve=O.FileIndex[0];fe<O.FileIndex.length;++fe)ve=O.FileIndex[fe],ve.content&&(ge=ve.content.length,!(ge<4096)&&(ve.start=pe,Ee(ge+511>>9)));for(Ee(H[6]+7>>3);W.l&511;)W.write_shift(-4,re.ENDOFCHAIN);for(pe=Y=0,fe=0;fe<O.FileIndex.length;++fe)ve=O.FileIndex[fe],ve.content&&(ge=ve.content.length,!(!ge||ge>=4096)&&(ve.start=pe,Ee(ge+63>>6)));for(;W.l&511;)W.write_shift(-4,re.ENDOFCHAIN);for(Y=0;Y<H[4]<<2;++Y){var je=O.FullPaths[Y];if(!je||je.length===0){for(fe=0;fe<17;++fe)W.write_shift(4,0);for(fe=0;fe<3;++fe)W.write_shift(4,-1);for(fe=0;fe<12;++fe)W.write_shift(4,0);continue}ve=O.FileIndex[Y],Y===0&&(ve.start=ve.size?ve.start-1:ce);var Be=Y===0&&U.root||ve.name;if(ge=2*(Be.length+1),W.write_shift(64,Be,"utf16le"),W.write_shift(2,ge),W.write_shift(1,ve.type),W.write_shift(1,ve.color),W.write_shift(-4,ve.L),W.write_shift(-4,ve.R),W.write_shift(-4,ve.C),ve.clsid)W.write_shift(16,ve.clsid,"hex");else for(fe=0;fe<4;++fe)W.write_shift(4,0);W.write_shift(4,ve.state||0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,ve.start),W.write_shift(4,ve.size),W.write_shift(4,0)}for(Y=1;Y<O.FileIndex.length;++Y)if(ve=O.FileIndex[Y],ve.size>=4096)if(W.l=ve.start+1<<9,Tt&&Buffer.isBuffer(ve.content))ve.content.copy(W,W.l,0,ve.size),W.l+=ve.size+511&-512;else{for(fe=0;fe<ve.size;++fe)W.write_shift(1,ve.content[fe]);for(;fe&511;++fe)W.write_shift(1,0)}for(Y=1;Y<O.FileIndex.length;++Y)if(ve=O.FileIndex[Y],ve.size>0&&ve.size<4096)if(Tt&&Buffer.isBuffer(ve.content))ve.content.copy(W,W.l,0,ve.size),W.l+=ve.size+63&-64;else{for(fe=0;fe<ve.size;++fe)W.write_shift(1,ve.content[fe]);for(;fe&63;++fe)W.write_shift(1,0)}if(Tt)W.l=W.length;else for(;W.l<W.length;)W.write_shift(1,0);return W}function te(O,G){var U=O.FullPaths.map(function(fe){return fe.toUpperCase()}),H=U.map(function(fe){var ge=fe.split("/");return ge[ge.length-(fe.slice(-1)=="/"?2:1)]}),W=!1;G.charCodeAt(0)===47?(W=!0,G=U[0].slice(0,-1)+G):W=G.indexOf("/")!==-1;var Y=G.toUpperCase(),pe=W===!0?U.indexOf(Y):H.indexOf(Y);if(pe!==-1)return O.FileIndex[pe];var Ee=!Y.match(n0);for(Y=Y.replace(Ef,""),Ee&&(Y=Y.replace(n0,"!")),pe=0;pe<U.length;++pe)if((Ee?U[pe].replace(n0,"!"):U[pe]).replace(Ef,"")==Y||(Ee?H[pe].replace(n0,"!"):H[pe]).replace(Ef,"")==Y)return O.FileIndex[pe];return null}var X=64,ce=-2,N="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],B="00000000000000000000000000000000",re={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ce,FREESECT:-1,HEADER_SIGNATURE:N,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:B,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function le(O,G,U){d();var H=K(O,U);f.writeFileSync(G,H)}function ie(O){for(var G=new Array(O.length),U=0;U<O.length;++U)G[U]=String.fromCharCode(O[U]);return G.join("")}function Q(O,G){var U=K(O,G);switch(G&&G.type||"buffer"){case"file":return d(),f.writeFileSync(G.filename,U),U;case"binary":return typeof U=="string"?U:ie(U);case"base64":return Ff(typeof U=="string"?U:ie(U));case"buffer":if(Tt)return Buffer.isBuffer(U)?U:Qs(U);case"array":return typeof U=="string"?ji(U):U}return U}var ae;function D(O){try{var G=O.InflateRaw,U=new G;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)ae=O;else throw new Error("zlib does not expose bytesRead")}catch(H){console.error("cannot use native zlib: "+(H.message||H))}}function q(O,G){if(!ae)return Wi(O,G);var U=ae.InflateRaw,H=new U,W=H._processChunk(O.slice(O.l),H._finishFlushFlag);return O.l+=H.bytesRead,W}function z(O){return ae?ae.deflateRawSync(O):qi(O)}var F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],be=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(O){var G=(O<<1|O<<11)&139536|(O<<5|O<<15)&558144;return(G>>16|G>>8|G)&255}for(var Ne=typeof Uint8Array<"u",Ce=Ne?new Uint8Array(256):[],xe=0;xe<256;++xe)Ce[xe]=ke(xe);function J(O,G){var U=Ce[O&255];return G<=8?U>>>8-G:(U=U<<8|Ce[O>>8&255],G<=16?U>>>16-G:(U=U<<8|Ce[O>>16&255],U>>>24-G))}function Ae(O,G){var U=G&7,H=G>>>3;return(O[H]|(U<=6?0:O[H+1]<<8))>>>U&3}function Pe(O,G){var U=G&7,H=G>>>3;return(O[H]|(U<=5?0:O[H+1]<<8))>>>U&7}function We(O,G){var U=G&7,H=G>>>3;return(O[H]|(U<=4?0:O[H+1]<<8))>>>U&15}function qe(O,G){var U=G&7,H=G>>>3;return(O[H]|(U<=3?0:O[H+1]<<8))>>>U&31}function Oe(O,G){var U=G&7,H=G>>>3;return(O[H]|(U<=1?0:O[H+1]<<8))>>>U&127}function He(O,G,U){var H=G&7,W=G>>>3,Y=(1<<U)-1,pe=O[W]>>>H;return U<8-H||(pe|=O[W+1]<<8-H,U<16-H)||(pe|=O[W+2]<<16-H,U<24-H)||(pe|=O[W+3]<<24-H),pe&Y}function Dt(O,G,U){var H=G&7,W=G>>>3;return H<=5?O[W]|=(U&7)<<H:(O[W]|=U<<H&255,O[W+1]=(U&7)>>8-H),G+3}function Nn(O,G,U){var H=G&7,W=G>>>3;return U=(U&1)<<H,O[W]|=U,G+1}function $n(O,G,U){var H=G&7,W=G>>>3;return U<<=H,O[W]|=U&255,U>>>=8,O[W+1]=U,G+8}function bi(O,G,U){var H=G&7,W=G>>>3;return U<<=H,O[W]|=U&255,U>>>=8,O[W+1]=U&255,O[W+2]=U>>>8,G+16}function Lr(O,G){var U=O.length,H=2*U>G?2*U:G+5,W=0;if(U>=G)return O;if(Tt){var Y=E2(H);if(O.copy)O.copy(Y);else for(;W<O.length;++W)Y[W]=O[W];return Y}else if(Ne){var pe=new Uint8Array(H);if(pe.set)pe.set(O);else for(;W<U;++W)pe[W]=O[W];return pe}return O.length=H,O}function rn(O){for(var G=new Array(O),U=0;U<O;++U)G[U]=0;return G}function Br(O,G,U){var H=1,W=0,Y=0,pe=0,Ee=0,fe=O.length,ge=Ne?new Uint16Array(32):rn(32);for(Y=0;Y<32;++Y)ge[Y]=0;for(Y=fe;Y<U;++Y)O[Y]=0;fe=O.length;var ve=Ne?new Uint16Array(fe):rn(fe);for(Y=0;Y<fe;++Y)ge[W=O[Y]]++,H<W&&(H=W),ve[Y]=0;for(ge[0]=0,Y=1;Y<=H;++Y)ge[Y+16]=Ee=Ee+ge[Y-1]<<1;for(Y=0;Y<fe;++Y)Ee=O[Y],Ee!=0&&(ve[Y]=ge[Ee+16]++);var je=0;for(Y=0;Y<fe;++Y)if(je=O[Y],je!=0)for(Ee=J(ve[Y],H)>>H-je,pe=(1<<H+4-je)-1;pe>=0;--pe)G[Ee|pe<<je]=je&15|Y<<4;return H}var Vn=Ne?new Uint16Array(512):rn(512),Gt=Ne?new Uint16Array(32):rn(32);if(!Ne){for(var Jt=0;Jt<512;++Jt)Vn[Jt]=0;for(Jt=0;Jt<32;++Jt)Gt[Jt]=0}(function(){for(var O=[],G=0;G<32;G++)O.push(5);Br(O,Gt,32);var U=[];for(G=0;G<=143;G++)U.push(8);for(;G<=255;G++)U.push(9);for(;G<=279;G++)U.push(7);for(;G<=287;G++)U.push(8);Br(U,Vn,288)})();var sn=function(){for(var G=Ne?new Uint8Array(32768):[],U=0,H=0;U<be.length-1;++U)for(;H<be[U+1];++H)G[H]=U;for(;H<32768;++H)G[H]=29;var W=Ne?new Uint8Array(259):[];for(U=0,H=0;U<se.length-1;++U)for(;H<se[U+1];++H)W[H]=U;function Y(Ee,fe){for(var ge=0;ge<Ee.length;){var ve=Math.min(65535,Ee.length-ge),je=ge+ve==Ee.length;for(fe.write_shift(1,+je),fe.write_shift(2,ve),fe.write_shift(2,~ve&65535);ve-- >0;)fe[fe.l++]=Ee[ge++]}return fe.l}function pe(Ee,fe){for(var ge=0,ve=0,je=Ne?new Uint16Array(32768):[];ve<Ee.length;){var Be=Math.min(65535,Ee.length-ve);if(Be<10){for(ge=Dt(fe,ge,+(ve+Be==Ee.length)),ge&7&&(ge+=8-(ge&7)),fe.l=ge/8|0,fe.write_shift(2,Be),fe.write_shift(2,~Be&65535);Be-- >0;)fe[fe.l++]=Ee[ve++];ge=fe.l*8;continue}ge=Dt(fe,ge,+(ve+Be==Ee.length)+2);for(var $e=0;Be-- >0;){var Le=Ee[ve];$e=($e<<5^Le)&32767;var ze=-1,at=0;if((ze=je[$e])&&(ze|=ve&-32768,ze>ve&&(ze-=32768),ze<ve))for(;Ee[ze+at]==Ee[ve+at]&&at<250;)++at;if(at>2){Le=W[at],Le<=22?ge=$n(fe,ge,Ce[Le+1]>>1)-1:($n(fe,ge,3),ge+=5,$n(fe,ge,Ce[Le-23]>>5),ge+=3);var At=Le<8?0:Le-4>>2;At>0&&(bi(fe,ge,at-se[Le]),ge+=At),Le=G[ve-ze],ge=$n(fe,ge,Ce[Le]>>3),ge-=3;var Ct=Le<4?0:Le-2>>1;Ct>0&&(bi(fe,ge,ve-ze-be[Le]),ge+=Ct);for(var Pt=0;Pt<at;++Pt)je[$e]=ve&32767,$e=($e<<5^Ee[ve])&32767,++ve;Be-=at-1}else Le<=143?Le=Le+48:ge=Nn(fe,ge,1),ge=$n(fe,ge,Ce[Le]),je[$e]=ve&32767,++ve}ge=$n(fe,ge,0)-1}return fe.l=(ge+7)/8|0,fe.l}return function(fe,ge){return fe.length<8?Y(fe,ge):pe(fe,ge)}}();function qi(O){var G=Se(50+Math.floor(O.length*1.1)),U=sn(O,G);return G.slice(0,U)}var fn=Ne?new Uint16Array(32768):rn(32768),ir=Ne?new Uint16Array(32768):rn(32768),gr=Ne?new Uint16Array(128):rn(128),mr=1,In=1;function sr(O,G){var U=qe(O,G)+257;G+=5;var H=qe(O,G)+1;G+=5;var W=We(O,G)+4;G+=4;for(var Y=0,pe=Ne?new Uint8Array(19):rn(19),Ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fe=1,ge=Ne?new Uint8Array(8):rn(8),ve=Ne?new Uint8Array(8):rn(8),je=pe.length,Be=0;Be<W;++Be)pe[F[Be]]=Y=Pe(O,G),fe<Y&&(fe=Y),ge[Y]++,G+=3;var $e=0;for(ge[0]=0,Be=1;Be<=fe;++Be)ve[Be]=$e=$e+ge[Be-1]<<1;for(Be=0;Be<je;++Be)($e=pe[Be])!=0&&(Ee[Be]=ve[$e]++);var Le=0;for(Be=0;Be<je;++Be)if(Le=pe[Be],Le!=0){$e=Ce[Ee[Be]]>>8-Le;for(var ze=(1<<7-Le)-1;ze>=0;--ze)gr[$e|ze<<Le]=Le&7|Be<<3}var at=[];for(fe=1;at.length<U+H;)switch($e=gr[Oe(O,G)],G+=$e&7,$e>>>=3){case 16:for(Y=3+Ae(O,G),G+=2,$e=at[at.length-1];Y-- >0;)at.push($e);break;case 17:for(Y=3+Pe(O,G),G+=3;Y-- >0;)at.push(0);break;case 18:for(Y=11+Oe(O,G),G+=7;Y-- >0;)at.push(0);break;default:at.push($e),fe<$e&&(fe=$e);break}var At=at.slice(0,U),Ct=at.slice(U);for(Be=U;Be<286;++Be)At[Be]=0;for(Be=H;Be<30;++Be)Ct[Be]=0;return mr=Br(At,fn,286),In=Br(Ct,ir,30),G}function Mn(O,G){if(O[0]==3&&!(O[1]&3))return[Qo(G),2];for(var U=0,H=0,W=E2(G||1<<18),Y=0,pe=W.length>>>0,Ee=0,fe=0;(H&1)==0;){if(H=Pe(O,U),U+=3,H>>>1)H>>1==1?(Ee=9,fe=5):(U=sr(O,U),Ee=mr,fe=In);else{U&7&&(U+=8-(U&7));var ge=O[U>>>3]|O[(U>>>3)+1]<<8;if(U+=32,ge>0)for(!G&&pe<Y+ge&&(W=Lr(W,Y+ge),pe=W.length);ge-- >0;)W[Y++]=O[U>>>3],U+=8;continue}for(;;){!G&&pe<Y+32767&&(W=Lr(W,Y+32767),pe=W.length);var ve=He(O,U,Ee),je=H>>>1==1?Vn[ve]:fn[ve];if(U+=je&15,je>>>=4,(je>>>8&255)===0)W[Y++]=je;else{if(je==256)break;je-=257;var Be=je<8?0:je-4>>2;Be>5&&(Be=0);var $e=Y+se[je];Be>0&&($e+=He(O,U,Be),U+=Be),ve=He(O,U,fe),je=H>>>1==1?Gt[ve]:ir[ve],U+=je&15,je>>>=4;var Le=je<4?0:je-2>>1,ze=be[je];for(Le>0&&(ze+=He(O,U,Le),U+=Le),!G&&pe<$e&&(W=Lr(W,$e+100),pe=W.length);Y<$e;)W[Y]=W[Y-ze],++Y}}}return G?[W,U+7>>>3]:[W.slice(0,Y),U+7>>>3]}function Wi(O,G){var U=O.slice(O.l||0),H=Mn(U,G);return O.l+=H[1],H[0]}function gs(O,G){if(O)typeof console<"u"&&console.error(G);else throw new Error(G)}function Ei(O,G){var U=O;Xr(U,0);var H=[],W=[],Y={FileIndex:H,FullPaths:W};I(Y,{root:G.root});for(var pe=U.length-4;(U[pe]!=80||U[pe+1]!=75||U[pe+2]!=5||U[pe+3]!=6)&&pe>=0;)--pe;U.l=pe+4,U.l+=4;var Ee=U.read_shift(2);U.l+=6;var fe=U.read_shift(4);for(U.l=fe,pe=0;pe<Ee;++pe){U.l+=20;var ge=U.read_shift(4),ve=U.read_shift(4),je=U.read_shift(2),Be=U.read_shift(2),$e=U.read_shift(2);U.l+=8;var Le=U.read_shift(4),ze=c(U.slice(U.l+je,U.l+je+Be));U.l+=je+Be+$e;var at=U.l;U.l=Le+4,ms(U,ge,ve,Y,ze),U.l=at}return Y}function ms(O,G,U,H,W){O.l+=2;var Y=O.read_shift(2),pe=O.read_shift(2),Ee=a(O);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var fe=O.read_shift(4),ge=O.read_shift(4),ve=O.read_shift(4),je=O.read_shift(2),Be=O.read_shift(2),$e="",Le=0;Le<je;++Le)$e+=String.fromCharCode(O[O.l++]);if(Be){var ze=c(O.slice(O.l,O.l+Be));(ze[21589]||{}).mt&&(Ee=ze[21589].mt),((W||{})[21589]||{}).mt&&(Ee=W[21589].mt)}O.l+=Be;var at=O.slice(O.l,O.l+ge);switch(pe){case 8:at=q(O,ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+pe)}var At=!1;Y&8&&(fe=O.read_shift(4),fe==134695760&&(fe=O.read_shift(4),At=!0),ge=O.read_shift(4),ve=O.read_shift(4)),ge!=G&&gs(At,"Bad compressed size: "+G+" != "+ge),ve!=U&&gs(At,"Bad uncompressed size: "+U+" != "+ve),yn(H,$e,at,{unsafe:!0,mt:Ee})}function Gi(O,G){var U=G||{},H=[],W=[],Y=Se(1),pe=U.compression?8:0,Ee=0,fe=0,ge=0,ve=0,je=0,Be=O.FullPaths[0],$e=Be,Le=O.FileIndex[0],ze=[],at=0;for(fe=1;fe<O.FullPaths.length;++fe)if($e=O.FullPaths[fe].slice(Be.length),Le=O.FileIndex[fe],!(!Le.size||!Le.content||$e=="Sh33tJ5")){var At=ve,Ct=Se($e.length);for(ge=0;ge<$e.length;++ge)Ct.write_shift(1,$e.charCodeAt(ge)&127);Ct=Ct.slice(0,Ct.l),ze[je]=hW.buf(Le.content,0);var Pt=Le.content;pe==8&&(Pt=z(Pt)),Y=Se(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,Ee),Y.write_shift(2,pe),Le.mt?s(Y,Le.mt):Y.write_shift(4,0),Y.write_shift(-4,ze[je]),Y.write_shift(4,Pt.length),Y.write_shift(4,Le.content.length),Y.write_shift(2,Ct.length),Y.write_shift(2,0),ve+=Y.length,H.push(Y),ve+=Ct.length,H.push(Ct),ve+=Pt.length,H.push(Pt),Y=Se(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,Ee),Y.write_shift(2,pe),Y.write_shift(4,0),Y.write_shift(-4,ze[je]),Y.write_shift(4,Pt.length),Y.write_shift(4,Le.content.length),Y.write_shift(2,Ct.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,At),at+=Y.l,W.push(Y),at+=Ct.length,W.push(Ct),++je}return Y=Se(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,je),Y.write_shift(2,je),Y.write_shift(4,at),Y.write_shift(4,ve),Y.write_shift(2,0),Jn([Jn(H),Jn(W),Y])}var Er={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ml(O,G){if(O.ctype)return O.ctype;var U=O.name||"",H=U.match(/\.([^\.]+)$/);return H&&Er[H[1]]||G&&(H=(U=G).match(/[\.\\]([^\.\\])+$/),H&&Er[H[1]])?Er[H[1]]:"application/octet-stream"}function vl(O){for(var G=Ff(O),U=[],H=0;H<G.length;H+=76)U.push(G.slice(H,H+76));return U.join(`\r
`)+`\r
`}function eo(O){var G=O.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var ve=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(ve.length==1?"0"+ve:ve)});G=G.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),G.charAt(0)==`
`&&(G="=0D"+G.slice(1)),G=G.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],H=G.split(`\r
`),W=0;W<H.length;++W){var Y=H[W];if(Y.length==0){U.push("");continue}for(var pe=0;pe<Y.length;){var Ee=76,fe=Y.slice(pe,pe+Ee);fe.charAt(Ee-1)=="="?Ee--:fe.charAt(Ee-2)=="="?Ee-=2:fe.charAt(Ee-3)=="="&&(Ee-=3),fe=Y.slice(pe,pe+Ee),pe+=Ee,pe<Y.length&&(fe+="="),U.push(fe)}}return U.join(`\r
`)}function to(O){for(var G=[],U=0;U<O.length;++U){for(var H=O[U];U<=O.length&&H.charAt(H.length-1)=="=";)H=H.slice(0,H.length-1)+O[++U];G.push(H)}for(var W=0;W<G.length;++W)G[W]=G[W].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return ji(G.join(`\r
`))}function yl(O,G,U){for(var H="",W="",Y="",pe,Ee=0;Ee<10;++Ee){var fe=G[Ee];if(!fe||fe.match(/^\s*$/))break;var ge=fe.match(/^(.*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":H=ge[2].trim();break;case"content-type":Y=ge[2].trim();break;case"content-transfer-encoding":W=ge[2].trim();break}}switch(++Ee,W.toLowerCase()){case"base64":pe=ji(Vs(G.slice(Ee).join("")));break;case"quoted-printable":pe=to(G.slice(Ee));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+W)}var ve=yn(O,H.slice(U.length),pe,{unsafe:!0});Y&&(ve.ctype=Y)}function nu(O,G){if(ie(O.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=G&&G.root||"",H=(Tt&&Buffer.isBuffer(O)?O.toString("binary"):ie(O)).split(`\r
`),W=0,Y="";for(W=0;W<H.length;++W)if(Y=H[W],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),U||(U=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),Y.slice(0,U.length)!=U););var pe=(H[1]||"").match(/boundary="(.*?)"/);if(!pe)throw new Error("MAD cannot find boundary");var Ee="--"+(pe[1]||""),fe=[],ge=[],ve={FileIndex:fe,FullPaths:ge};I(ve);var je,Be=0;for(W=0;W<H.length;++W){var $e=H[W];$e!==Ee&&$e!==Ee+"--"||(Be++&&yl(ve,H.slice(je,W),U),je=W)}return ve}function si(O,G){var U=G||{},H=U.boundary||"SheetJS";H="------="+H;for(var W=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+H.slice(2)+'"',"","",""],Y=O.FullPaths[0],pe=Y,Ee=O.FileIndex[0],fe=1;fe<O.FullPaths.length;++fe)if(pe=O.FullPaths[fe].slice(Y.length),Ee=O.FileIndex[fe],!(!Ee.size||!Ee.content||pe=="Sh33tJ5")){pe=pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(at){return"_x"+at.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(at){return"_u"+at.charCodeAt(0).toString(16)+"_"});for(var ge=Ee.content,ve=Tt&&Buffer.isBuffer(ge)?ge.toString("binary"):ie(ge),je=0,Be=Math.min(1024,ve.length),$e=0,Le=0;Le<=Be;++Le)($e=ve.charCodeAt(Le))>=32&&$e<128&&++je;var ze=je>=Be*4/5;W.push(H),W.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+pe),W.push("Content-Transfer-Encoding: "+(ze?"quoted-printable":"base64")),W.push("Content-Type: "+ml(Ee,pe)),W.push(""),W.push(ze?eo(ve):vl(ve))}return W.push(H+`--\r
`),W.join(`\r
`)}function vn(O){var G={};return I(G,O),G}function yn(O,G,U,H){var W=H&&H.unsafe;W||I(O);var Y=!W&&Ut.find(O,G);if(!Y){var pe=O.FullPaths[0];G.slice(0,pe.length)==pe?pe=G:(pe.slice(-1)!="/"&&(pe+="/"),pe=(pe+G).replace("//","/")),Y={name:i(G),type:2},O.FileIndex.push(Y),O.FullPaths.push(pe),W||Ut.utils.cfb_gc(O)}return Y.content=U,Y.size=U?U.length:0,H&&(H.CLSID&&(Y.clsid=H.CLSID),H.mt&&(Y.mt=H.mt),H.ct&&(Y.ct=H.ct)),Y}function Yi(O,G){I(O);var U=Ut.find(O,G);if(U){for(var H=0;H<O.FileIndex.length;++H)if(O.FileIndex[H]==U)return O.FileIndex.splice(H,1),O.FullPaths.splice(H,1),!0}return!1}function no(O,G,U){I(O);var H=Ut.find(O,G);if(H){for(var W=0;W<O.FileIndex.length;++W)if(O.FileIndex[W]==H)return O.FileIndex[W].name=i(U),O.FullPaths[W]=U,!0}return!1}function ru(O){L(O,!0)}return e.find=te,e.read=V,e.parse=h,e.write=Q,e.writeFile=le,e.utils={cfb_new:vn,cfb_add:yn,cfb_del:Yi,cfb_mov:no,cfb_gc:ru,ReadShift:Tf,CheckField:s4,prep_blob:Xr,bconcat:Jn,use_zlib:D,_deflateRaw:qi,_inflateRaw:Wi,consts:re},e}();function pW(t){return typeof t=="string"?lg(t):Array.isArray(t)?Uq(t):t}function gd(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=lg(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?Hf(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([pW(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=pd(e)),c.write(e),c.close(),e}catch(f){if(!f.message||!f.message.match(/onstruct/))throw f}throw new Error("cannot save file "+t)}function nr(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function k2(t,e){for(var n=[],r=nr(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function __(t){for(var e=[],n=nr(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function fg(t){for(var e=[],n=nr(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function gW(t){for(var e=[],n=nr(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var gp=new Date(1899,11,30,0,0,0);function Mr(t,e){var n=t.getTime(),r=gp.getTime()+(t.getTimezoneOffset()-gp.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var zN=new Date,mW=gp.getTime()+(zN.getTimezoneOffset()-gp.getTimezoneOffset())*6e4,N2=zN.getTimezoneOffset();function $N(t){var e=new Date;return e.setTime(t*24*60*60*1e3+mW),e.getTimezoneOffset()!==N2&&e.setTime(e.getTime()+(e.getTimezoneOffset()-N2)*6e4),e}var I2=new Date("2017-02-19T19:06:09.000Z"),VN=isNaN(I2.getFullYear())?new Date("2/19/17"):I2,vW=VN.getFullYear()==2017;function br(t,e){var n=new Date(t);if(vW)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(VN.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function dg(t,e){if(Tt&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function jr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=jr(t[n]));return e}function ln(t,e){for(var n="";n.length<e;)n+=t;return n}function Fs(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var yW=["january","february","march","april","may","june","july","august","september","october","november","december"];function Uf(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&yW.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function ct(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Tt?r=Qs(n):r=Hq(n),Ut.utils.cfb_add(t,e,r)}Ut.utils.cfb_add(t,e,n)}else t.file(e,n)}function w_(){return Ut.utils.cfb_new()}var Cn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,xW={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},b_=__(xW),E_=/[&<>'"]/g,_W=/[\u0000-\u0008\u000b-\u001f]/g;function Mt(t){var e=t+"";return e.replace(E_,function(n){return b_[n]}).replace(_W,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function M2(t){return Mt(t).replace(/ /g,"_x0020_")}var qN=/[\u0000-\u001f]/g;function wW(t){var e=t+"";return e.replace(E_,function(n){return b_[n]}).replace(/\n/g,"<br/>").replace(qN,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function bW(t){var e=t+"";return e.replace(E_,function(n){return b_[n]}).replace(qN,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function EW(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function SW(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function vy(t){for(var e="",n=0,r=0,i=0,s=0,a=0,c=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(n++),c=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function j2(t){var e=Qo(2*t.length),n,r,i=1,s=0,a=0,c;for(r=0;r<t.length;r+=i)i=1,(c=t.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(r+1)&63),i=2):c<240?(n=(c&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(c&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function P2(t){return Qs(t,"binary").toString("utf8")}var i0="foo bar baz",Sf=Tt&&(P2(i0)==vy(i0)&&P2||j2(i0)==vy(i0)&&j2)||vy,Hf=Tt?function(t){return Qs(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},TW=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}}(),WN=/(^\s|\s$|\n)/;function er(t,e){return"<"+t+(e.match(WN)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function zf(t){return nr(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Fe(t,e,n){return"<"+t+(n!=null?zf(n):"")+(e!=null?(e.match(WN)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function q1(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function AW(t,e){switch(typeof t){case"string":var n=Fe("vt:lpwstr",Mt(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Fe((t|0)==t?"vt:i4":"vt:r8",Mt(String(t)));case"boolean":return Fe("vt:bool",t?"true":"false")}if(t instanceof Date)return Fe("vt:filetime",q1(t));throw new Error("Unable to serialize "+t)}var Fn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Qc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Kr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function CW(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function RW(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)t[n+c]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var L2=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},B2=Tt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Qs(e)})):L2(t)}:L2,F2=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(df(t,i)));return r.join("").replace(Ef,"")},S_=Tt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Ef,""):F2(t,e,n)}:F2,U2=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},GN=Tt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):U2(t,e,n)}:U2,H2=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(pc(t,i)));return r.join("")},md=Tt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):H2(e,n,r)}:H2,YN=function(t,e){var n=Qr(t,e);return n>0?md(t,e+4,e+4+n-1):""},XN=YN,KN=function(t,e){var n=Qr(t,e);return n>0?md(t,e+4,e+4+n-1):""},QN=KN,ZN=function(t,e){var n=2*Qr(t,e);return n>0?md(t,e+4,e+4+n-1):""},JN=ZN,e4=function(e,n){var r=Qr(e,n);return r>0?S_(e,n+4,n+4+r):""},t4=e4,n4=function(t,e){var n=Qr(t,e);return n>0?md(t,e+4,e+4+n):""},r4=n4,i4=function(t,e){return CW(t,e)},mp=i4,T_=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Tt&&(XN=function(e,n){if(!Buffer.isBuffer(e))return YN(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},QN=function(e,n){if(!Buffer.isBuffer(e))return KN(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},JN=function(e,n){if(!Buffer.isBuffer(e))return ZN(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},t4=function(e,n){if(!Buffer.isBuffer(e))return e4(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},r4=function(e,n){if(!Buffer.isBuffer(e))return n4(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},mp=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):i4(e,n)},T_=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var pc=function(t,e){return t[e]},df=function(t,e){return t[e+1]*256+t[e]},DW=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Qr=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Io=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},OW=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Tf(t,e){var n="",r,i,s=[],a,c,f,d;switch(e){case"dbcs":if(d=this.l,Tt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(f=0;f<t;++f)n+=String.fromCharCode(df(this,d)),d+=2;t*=2;break;case"utf8":n=md(this,this.l,this.l+t);break;case"utf16le":t*=2,n=S_(this,this.l,this.l+t);break;case"wstr":return Tf.call(this,t,"dbcs");case"lpstr-ansi":n=XN(this,this.l),t=4+Qr(this,this.l);break;case"lpstr-cp":n=QN(this,this.l),t=4+Qr(this,this.l);break;case"lpwstr":n=JN(this,this.l),t=4+2*Qr(this,this.l);break;case"lpp4":t=4+Qr(this,this.l),n=t4(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Qr(this,this.l),n=r4(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(a=pc(this,this.l+t++))!==0;)s.push(t0(a));n=s.join("");break;case"_wstr":for(t=0,n="";(a=df(this,this.l+t))!==0;)s.push(t0(a)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",d=this.l,f=0;f<t;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return a=pc(this,d),this.l=d+1,c=Tf.call(this,t-f,a?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(t0(df(this,d))),d+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",d=this.l,f=0;f!=t;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return a=pc(this,d),this.l=d+1,c=Tf.call(this,t-f,a?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(t0(pc(this,d))),d+=1}n=s.join("");break;default:switch(t){case 1:return r=pc(this,this.l),this.l++,r;case 2:return r=(e==="i"?DW:df)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Io:OW)(this,this.l),this.l+=4,r):(i=Qr(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=mp(this,this.l):i=mp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=GN(this,this.l,t);break}}return this.l+=t,n}var kW=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},NW=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},IW=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function MW(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)IW(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,kW(this,e,this.l);break;case 8:if(r=8,n==="f"){RW(this,e,this.l);break}case 16:break;case-4:r=4,NW(this,e,this.l);break}return this.l+=r,this}function s4(t,e){var n=GN(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Xr(t,e){t.l=e,t.read_shift=Tf,t.chk=s4,t.write_shift=MW}function ds(t,e){t.l+=e}function Se(t){var e=Qo(t);return Xr(e,0),e}function Ir(){var t=[],e=Tt?256:2048,n=function(d){var h=Se(d);return Xr(h,0),h},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(d){return r&&d<r.length-r.l?r:(i(),r=n(Math.max(d+1,e)))},a=function(){return i(),Jn(t)},c=function(d){i(),r=d,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:c,end:a,_bufs:t}}function Me(t,e,n,r){var i=+e,s;if(!isNaN(i)){r||(r=CZ[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&T_(n)&&t.push(n)}}function Af(t,e,n){var r=jr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function z2(t,e,n){var r=jr(t);return r.s=Af(r.s,e.s,n),r.e=Af(r.e,e.s,n),r}function Cf(t,e){if(t.cRel&&t.c<0)for(t=jr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=jr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=jt(t);return!t.cRel&&t.cRel!=null&&(n=LW(n)),!t.rRel&&t.rRel!=null&&(n=jW(n)),n}function yy(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+dr(t.s.c)+":"+(t.e.cRel?"":"$")+dr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+tr(t.s.r)+":"+(t.e.rRel?"":"$")+tr(t.e.r):Cf(t.s,e.biff)+":"+Cf(t.e,e.biff)}function A_(t){return parseInt(PW(t),10)-1}function tr(t){return""+(t+1)}function jW(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function PW(t){return t.replace(/\$(\d+)$/,"$1")}function C_(t){for(var e=BW(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function dr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function LW(t){return t.replace(/^([A-Z])/,"$$$1")}function BW(t){return t.replace(/^\$([A-Z])/,"$1")}function FW(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Un(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function jt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function ni(t){var e=t.indexOf(":");return e==-1?{s:Un(t),e:Un(t)}:{s:Un(t.slice(0,e)),e:Un(t.slice(e+1))}}function An(t,e){return typeof e>"u"||typeof e=="number"?An(t.s,t.e):(typeof t!="string"&&(t=jt(t)),typeof e!="string"&&(e=jt(e)),t==e?t:t+":"+e)}function Kt(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function $2(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=qa(t.z,n?Mr(e):e)}catch{}try{return t.w=qa((t.XF||{}).numFmtId||(n?14:0),n?Mr(e):e)}catch{return""+e}}function qs(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?vd[t.v]||t.v:e==null?$2(t,t.v):$2(t,e))}function fl(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function a4(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),a=0,c=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var f=typeof r.origin=="string"?Un(r.origin):r.origin;a=f.r,c=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=Kt(s["!ref"]);d.s.c=h.s.c,d.s.r=h.s.r,d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),a==-1&&(d.e.r=a=h.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=e[g].length;++m)if(!(typeof e[g][m]>"u")){var v={v:e[g][m]},w=a+g,x=c+m;if(d.s.r>w&&(d.s.r=w),d.s.c>x&&(d.s.c=x),d.e.r<w&&(d.e.r=w),d.e.c<x&&(d.e.c=x),e[g][m]&&typeof e[g][m]=="object"&&!Array.isArray(e[g][m])&&!(e[g][m]instanceof Date))v=e[g][m];else if(Array.isArray(v.v)&&(v.f=e[g][m][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(r.nullError)v.t="e",v.v=0;else if(r.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=r.dateNF||un[14],r.cellDates?(v.t="d",v.w=qa(v.z,Mr(v.v))):(v.t="n",v.v=Mr(v.v),v.w=qa(v.z,v.v))):v.t="s";if(i)s[w]||(s[w]=[]),s[w][x]&&s[w][x].z&&(v.z=s[w][x].z),s[w][x]=v;else{var b=jt({c:x,r:w});s[b]&&s[b].z&&(v.z=s[b].z),s[b]=v}}}return d.s.c<1e7&&(s["!ref"]=An(d)),s}function Zc(t,e){return a4(null,t,e)}function UW(t){return t.read_shift(4,"i")}function Hi(t,e){return e||(e=Se(4)),e.write_shift(4,t),e}function hr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Hn(t,e){var n=!1;return e==null&&(n=!0,e=Se(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function HW(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function zW(t,e){return e||(e=Se(4)),e.write_shift(2,0),e.write_shift(2,0),e}function R_(t,e){var n=t.l,r=t.read_shift(1),i=hr(t),s=[],a={t:i,h:i};if((r&1)!==0){for(var c=t.read_shift(4),f=0;f!=c;++f)s.push(HW(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=n+e,a}function $W(t,e){var n=!1;return e==null&&(n=!0,e=Se(15+4*t.t.length)),e.write_shift(1,0),Hn(t.t,e),n?e.slice(0,e.l):e}var VW=R_;function qW(t,e){var n=!1;return e==null&&(n=!0,e=Se(23+4*t.t.length)),e.write_shift(1,1),Hn(t.t,e),e.write_shift(4,1),zW({},e),n?e.slice(0,e.l):e}function _i(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function dl(t,e){return e==null&&(e=Se(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function hl(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function pl(t,e){return e==null&&(e=Se(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var WW=hr,o4=Hn;function D_(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function vp(t,e){var n=!1;return e==null&&(n=!0,e=Se(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var GW=hr,W1=D_,O_=vp;function l4(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?mp([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Io(e,0)>>2;return n?i/100:i}function c4(t,e){e==null&&(e=Se(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function u4(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function YW(t,e){return e||(e=Se(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var gl=u4,Jc=YW;function eu(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Zo(t,e){return(e||Se(8)).write_shift(8,t,"f")}function XW(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),c=t.read_shift(1),f=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var d=iG[i];d&&(e.rgb=eC(d));break;case 2:e.rgb=eC([a,c,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function yp(t,e){if(e||(e=Se(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function KW(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function QW(t,e){e||(e=Se(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var f4=2,Yr=3,s0=11,xp=19,a0=64,ZW=65,JW=71,eG=4108,tG=4126,Qn=80,V2={1:{n:"CodePage",t:f4},2:{n:"Category",t:Qn},3:{n:"PresentationFormat",t:Qn},4:{n:"ByteCount",t:Yr},5:{n:"LineCount",t:Yr},6:{n:"ParagraphCount",t:Yr},7:{n:"SlideCount",t:Yr},8:{n:"NoteCount",t:Yr},9:{n:"HiddenCount",t:Yr},10:{n:"MultimediaClipCount",t:Yr},11:{n:"ScaleCrop",t:s0},12:{n:"HeadingPairs",t:eG},13:{n:"TitlesOfParts",t:tG},14:{n:"Manager",t:Qn},15:{n:"Company",t:Qn},16:{n:"LinksUpToDate",t:s0},17:{n:"CharacterCount",t:Yr},19:{n:"SharedDoc",t:s0},22:{n:"HyperlinksChanged",t:s0},23:{n:"AppVersion",t:Yr,p:"version"},24:{n:"DigSig",t:ZW},26:{n:"ContentType",t:Qn},27:{n:"ContentStatus",t:Qn},28:{n:"Language",t:Qn},29:{n:"Version",t:Qn},255:{},2147483648:{n:"Locale",t:xp},2147483651:{n:"Behavior",t:xp},1919054434:{}},q2={1:{n:"CodePage",t:f4},2:{n:"Title",t:Qn},3:{n:"Subject",t:Qn},4:{n:"Author",t:Qn},5:{n:"Keywords",t:Qn},6:{n:"Comments",t:Qn},7:{n:"Template",t:Qn},8:{n:"LastAuthor",t:Qn},9:{n:"RevNumber",t:Qn},10:{n:"EditTime",t:a0},11:{n:"LastPrinted",t:a0},12:{n:"CreatedDate",t:a0},13:{n:"ModifiedDate",t:a0},14:{n:"PageCount",t:Yr},15:{n:"WordCount",t:Yr},16:{n:"CharCount",t:Yr},17:{n:"Thumbnail",t:JW},18:{n:"Application",t:Qn},19:{n:"DocSecurity",t:Yr},255:{},2147483648:{n:"Locale",t:xp},2147483651:{n:"Behavior",t:xp},1919054434:{}};function nG(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var rG=nG([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),iG=jr(rG),vd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},sG={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},o0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function d4(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function h4(t,e){var n=gW(sG),r=[],i;r[r.length]=Cn,r[r.length]=Fe("Types",null,{xmlns:Fn.CT,"xmlns:xsd":Fn.xsd,"xmlns:xsi":Fn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(f){return Fe("Default",null,{Extension:f[0],ContentType:f[1]})}));var s=function(f){t[f]&&t[f].length>0&&(i=t[f][0],r[r.length]=Fe("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:o0[f][e.bookType]||o0[f].xlsx}))},a=function(f){(t[f]||[]).forEach(function(d){r[r.length]=Fe("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:o0[f][e.bookType]||o0[f].xlsx})})},c=function(f){(t[f]||[]).forEach(function(d){r[r.length]=Fe("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:n[f][0]})})};return s("workbooks"),a("sheets"),a("charts"),c("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),a("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var bt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function p4(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Sc(t){var e=[Cn,Fe("Relationships",null,{xmlns:Fn.RELS})];return nr(t["!id"]).forEach(function(n){e[e.length]=Fe("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function It(t,e,n,r,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[bt.HLINK,bt.XPATH,bt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function aG(t){var e=[Cn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function W2(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function oG(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function lG(t){var e=[Cn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(W2(t[n][0],t[n][1])),e.push(oG("",t[n][0]));return e.push(W2("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function g4(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+fp.version+"</meta:generator></office:meta></office:document-meta>"}var qo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function xy(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Mt(e),r[r.length]=n?Fe(t,e,n):er(t,e))}function m4(t,e){var n=e||{},r=[Cn,Fe("cp:coreProperties",null,{"xmlns:cp":Fn.CORE_PROPS,"xmlns:dc":Fn.dc,"xmlns:dcterms":Fn.dcterms,"xmlns:dcmitype":Fn.dcmitype,"xmlns:xsi":Fn.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&xy("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:q1(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&xy("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:q1(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=qo.length;++s){var a=qo[s],c=n.Props&&n.Props[a[1]]!=null?n.Props[a[1]]:t?t[a[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&xy(a[0],c,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Tc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],v4=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function y4(t){var e=[],n=Fe;return t||(t={}),t.Application="SheetJS",e[e.length]=Cn,e[e.length]=Fe("Properties",null,{xmlns:Fn.EXT_PROPS,"xmlns:vt":Fn.vt}),Tc.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Mt(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Mt(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function x4(t){var e=[Cn,Fe("Properties",null,{xmlns:Fn.CUST_PROPS,"xmlns:vt":Fn.vt})];if(!t)return e.join("");var n=1;return nr(t).forEach(function(i){++n,e[e.length]=Fe("property",AW(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Mt(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var G2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function cG(t,e){var n=[];return nr(G2).map(function(r){for(var i=0;i<qo.length;++i)if(qo[i][1]==r)return qo[i];for(i=0;i<Tc.length;++i)if(Tc[i][1]==r)return Tc[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(er(G2[r[1]]||r[1],i))}}),Fe("DocumentProperties",n.join(""),{xmlns:Kr.o})}function uG(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&nr(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<qo.length;++a)if(s==qo[a][1])return;for(a=0;a<Tc.length;++a)if(s==Tc[a][1])return;for(a=0;a<n.length;++a)if(s==n[a])return;var c=t[s],f="string";typeof c=="number"?(f="float",c=String(c)):c===!0||c===!1?(f="boolean",c=c?"1":"0"):c=String(c),i.push(Fe(M2(s),c,{"dt:dt":f}))}}),e&&nr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],c="string";typeof a=="number"?(c="float",a=String(a)):a===!0||a===!1?(c="boolean",a=a?"1":"0"):a instanceof Date?(c="dateTime.tz",a=a.toISOString()):a=String(a),i.push(Fe(M2(s),a,{"dt:dt":c}))}}),"<"+r+' xmlns="'+Kr.o+'">'+i.join("")+"</"+r+">"}function fG(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=Se(8);return a.write_shift(4,r),a.write_shift(4,i),a}function Y2(t,e){var n=Se(4),r=Se(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=Se(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=fG(e);break;case 31:case 80:for(r=Se(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Jn([n,r])}var _4=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function dG(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function X2(t,e,n){var r=Se(8),i=[],s=[],a=8,c=0,f=Se(8),d=Se(8);if(f.write_shift(4,2),f.write_shift(4,1200),d.write_shift(4,1),s.push(f),i.push(d),a+=8+f.length,!e){d=Se(8),d.write_shift(4,0),i.unshift(d);var h=[Se(4)];for(h[0].write_shift(4,t.length),c=0;c<t.length;++c){var g=t[c][0];for(f=Se(8+2*(g.length+1)+(g.length%2?0:2)),f.write_shift(4,c+2),f.write_shift(4,g.length+1),f.write_shift(0,g,"dbcs");f.l!=f.length;)f.write_shift(1,0);h.push(f)}f=Jn(h),s.unshift(f),a+=8+f.length}for(c=0;c<t.length;++c)if(!(e&&!e[t[c][0]])&&!(_4.indexOf(t[c][0])>-1||v4.indexOf(t[c][0])>-1)&&t[c][1]!=null){var m=t[c][1],v=0;if(e){v=+e[t[c][0]];var w=n[v];if(w.p=="version"&&typeof m=="string"){var x=m.split(".");m=(+x[0]<<16)+(+x[1]||0)}f=Y2(w.t,m)}else{var b=dG(m);b==-1&&(b=31,m=String(m)),f=Y2(b,m)}s.push(f),d=Se(8),d.write_shift(4,e?v:2+c),i.push(d),a+=8+f.length}var S=8*(s.length+1);for(c=0;c<s.length;++c)i[c].write_shift(4,S),S+=s[c].length;return r.write_shift(4,a),r.write_shift(4,s.length),Jn([r].concat(i).concat(s))}function K2(t,e,n,r,i,s){var a=Se(i?68:48),c=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Ut.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var f=X2(t,n,r);if(c.push(f),i){var d=X2(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+f.length),c.push(d)}return Jn(c)}function hG(t,e){e||(e=Se(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function pG(t,e){return t.read_shift(e)===1}function xr(t,e){return e||(e=Se(2)),e.write_shift(2,+!!t),e}function w4(t){return t.read_shift(2,"u")}function vi(t,e){return e||(e=Se(2)),e.write_shift(2,t),e}function b4(t,e,n){return n||(n=Se(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function E4(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return a}function gG(t){var e=t.t||"",n=Se(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=Se(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return Jn(i)}function mG(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function vG(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):mG(t,r,n)}function yG(t,e,n){if(n.biff>5)return vG(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function S4(t,e,n){return n||(n=Se(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function Q2(t,e){e||(e=Se(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function xG(t){var e=Se(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(n=0;n<a.length;++n)e.write_shift(4,a[n]);if(s==28)r=r.slice(1),Q2(r,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));var c=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(c.length+1)),n=0;n<c.length;++n)e.write_shift(2,c.charCodeAt(n));e.write_shift(2,0),s&8&&Q2(i>-1?r.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));for(var f=0;r.slice(f*3,f*3+3)=="../"||r.slice(f*3,f*3+3)=="..\\";)++f;for(e.write_shift(2,f),e.write_shift(4,r.length-3*f+1),n=0;n<r.length-3*f;++n)e.write_shift(1,r.charCodeAt(n+3*f)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function Jo(t,e,n,r){return r||(r=Se(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function _G(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),a=t.read_shift(r,"i");return[i,s,a]}function wG(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function T4(t,e){return e||(e=Se(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function k_(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Se(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function bG(t,e){var n=!e||e.biff==8,r=Se(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function EG(t,e){var n=!e||e.biff>=8?2:1,r=Se(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function SG(t,e){var n=Se(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=gG(t[i]);var s=Jn([n].concat(r));return s.parts=[n.length].concat(r.map(function(a){return a.length})),s}function TG(){var t=Se(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function AG(t){var e=Se(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function CG(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,s=Se(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function RG(t,e,n,r){var i=Se(10);return Jo(t,e,r,i),i.write_shift(4,n),i}function DG(t,e,n,r,i){var s=!i||i.biff==8,a=Se(8+ +s+(1+s)*n.length);return Jo(t,e,r,a),a.write_shift(2,n.length),s&&a.write_shift(1,1),a.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),a}function OG(t,e,n,r){var i=n&&n.biff==5;r||(r=Se(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function kG(t,e){var n=e.biff==8||!e.biff?4:2,r=Se(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function Z2(t,e,n,r){var i=n&&n.biff==5;r||(r=Se(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function NG(t){var e=Se(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function IG(t,e,n,r,i,s){var a=Se(8);return Jo(t,e,r,a),b4(n,s,a),a}function MG(t,e,n,r){var i=Se(14);return Jo(t,e,r,i),Zo(n,i),i}function jG(t,e,n){if(n.biff<8)return PG(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(_G(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function PG(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=E4(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function LG(t){var e=Se(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)T4(t[n],e);return e}function BG(t){var e=Se(24),n=Un(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Jn([e,xG(t[1])])}function FG(t){var e=t[1].Tooltip,n=Se(10+2*(e.length+1));n.write_shift(2,2048);var r=Un(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function UG(t){return t||(t=Se(4)),t.write_shift(2,1),t.write_shift(2,1),t}function HG(t,e,n){if(!n.cellStyles)return ds(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),a=t.read_shift(r),c=t.read_shift(r),f=t.read_shift(2);r==2&&(t.l+=2);var d={s:i,e:s,w:a,ixfe:c,flags:f};return(n.biff>=5||!n.biff)&&(d.level=f>>8&7),d}function zG(t,e){var n=Se(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function $G(t){for(var e=Se(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function VG(t,e,n){var r=Se(15);return xd(r,t,e),r.write_shift(8,n,"f"),r}function qG(t,e,n){var r=Se(9);return xd(r,t,e),r.write_shift(2,n),r}var WG=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=__({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,f){var d=[],h=Qo(1);switch(f.type){case"base64":h=ji(Vs(c));break;case"binary":h=ji(c);break;case"buffer":case"array":h=c;break}Xr(h,0);var g=h.read_shift(1),m=!!(g&136),v=!1,w=!1;switch(g){case 2:break;case 3:break;case 48:v=!0,m=!0;break;case 49:v=!0,m=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var x=0,b=521;g==2&&(x=h.read_shift(2)),h.l+=3,g!=2&&(x=h.read_shift(4)),x>1048576&&(x=1e6),g!=2&&(b=h.read_shift(2));var S=h.read_shift(2),T=f.codepage||1252;g!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(T=t[h[h.l]]),h.l+=1,h.l+=2),w&&(h.l+=36);for(var A=[],C={},P=Math.min(h.length,g==2?521:b-10-(v?264:0)),V=w?32:11;h.l<P&&h[h.l]!=13;)switch(C={},C.name=b2.utils.decode(T,h.slice(h.l,h.l+V)).replace(/[\u0000\r\n].*$/g,""),h.l+=V,C.type=String.fromCharCode(h.read_shift(1)),g!=2&&!w&&(C.offset=h.read_shift(4)),C.len=h.read_shift(1),g==2&&(C.offset=h.read_shift(2)),C.dec=h.read_shift(1),C.name.length&&A.push(C),g!=2&&(h.l+=w?13:14),C.type){case"B":(!v||C.len!=8)&&f.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(h[h.l]!==13&&(h.l=b-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=b;var I=0,j=0;for(d[0]=[],j=0;j!=A.length;++j)d[0][j]=A[j].name;for(;x-- >0;){if(h[h.l]===42){h.l+=S;continue}for(++h.l,d[++I]=[],j=0,j=0;j!=A.length;++j){var L=h.slice(h.l,h.l+A[j].len);h.l+=A[j].len,Xr(L,0);var K=b2.utils.decode(T,L);switch(A[j].type){case"C":K.trim().length&&(d[I][j]=K.replace(/\s+$/,""));break;case"D":K.length===8?d[I][j]=new Date(+K.slice(0,4),+K.slice(4,6)-1,+K.slice(6,8)):d[I][j]=K;break;case"F":d[I][j]=parseFloat(K.trim());break;case"+":case"I":d[I][j]=w?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(K.trim().toUpperCase()){case"Y":case"T":d[I][j]=!0;break;case"N":case"F":d[I][j]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+K+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));d[I][j]="##MEMO##"+(w?parseInt(K.trim(),10):L.read_shift(4));break;case"N":K=K.replace(/\u0000/g,"").trim(),K&&K!="."&&(d[I][j]=+K||0);break;case"@":d[I][j]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":d[I][j]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":d[I][j]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[I][j]=-L.read_shift(-8,"f");break;case"B":if(v&&A[j].len==8){d[I][j]=L.read_shift(8,"f");break}case"G":case"P":L.l+=A[j].len;break;case"0":if(A[j].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[j].type)}}}if(g!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return f&&f.sheetRows&&(d=d.slice(0,f.sheetRows)),f.DBF=A,d}function r(c,f){var d=f||{};d.dateNF||(d.dateNF="yyyymmdd");var h=Zc(n(c,d),d);return h["!cols"]=d.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete d.DBF,h}function i(c,f){try{return fl(r(c,f),f)}catch(d){if(f&&f.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(c,f){var d=f||{};if(+d.codepage>=0&&Bf(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var h=Ir(),g=Sp(c,{header:1,raw:!0,cellDates:!0}),m=g[0],v=g.slice(1),w=c["!cols"]||[],x=0,b=0,S=0,T=1;for(x=0;x<m.length;++x){if(((w[x]||{}).DBF||{}).name){m[x]=w[x].DBF.name,++S;continue}if(m[x]!=null){if(++S,typeof m[x]=="number"&&(m[x]=m[x].toString(10)),typeof m[x]!="string")throw new Error("DBF Invalid column name "+m[x]+" |"+typeof m[x]+"|");if(m.indexOf(m[x])!==x){for(b=0;b<1024;++b)if(m.indexOf(m[x]+"_"+b)==-1){m[x]+="_"+b;break}}}}var A=Kt(c["!ref"]),C=[],P=[],V=[];for(x=0;x<=A.e.c-A.s.c;++x){var I="",j="",L=0,K=[];for(b=0;b<v.length;++b)v[b][x]!=null&&K.push(v[b][x]);if(K.length==0||m[x]==null){C[x]="?";continue}for(b=0;b<K.length;++b){switch(typeof K[b]){case"number":j="B";break;case"string":j="C";break;case"boolean":j="L";break;case"object":j=K[b]instanceof Date?"D":"C";break;default:j="C"}L=Math.max(L,String(K[b]).length),I=I&&I!=j?"C":j}L>250&&(L=250),j=((w[x]||{}).DBF||{}).type,j=="C"&&w[x].DBF.len>L&&(L=w[x].DBF.len),I=="B"&&j=="N"&&(I="N",V[x]=w[x].DBF.dec,L=w[x].DBF.len),P[x]=I=="C"||j=="N"?L:s[I]||0,T+=P[x],C[x]=I}var te=h.next(32);for(te.write_shift(4,318902576),te.write_shift(4,v.length),te.write_shift(2,296+32*S),te.write_shift(2,T),x=0;x<4;++x)te.write_shift(4,0);for(te.write_shift(4,0|(+e[CN]||3)<<8),x=0,b=0;x<m.length;++x)if(m[x]!=null){var X=h.next(32),ce=(m[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);X.write_shift(1,ce,"sbcs"),X.write_shift(1,C[x]=="?"?"C":C[x],"sbcs"),X.write_shift(4,b),X.write_shift(1,P[x]||s[C[x]]||0),X.write_shift(1,V[x]||0),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(1,0),X.write_shift(4,0),X.write_shift(4,0),b+=P[x]||s[C[x]]||0}var N=h.next(264);for(N.write_shift(4,13),x=0;x<65;++x)N.write_shift(4,0);for(x=0;x<v.length;++x){var ee=h.next(T);for(ee.write_shift(1,0),b=0;b<m.length;++b)if(m[b]!=null)switch(C[b]){case"L":ee.write_shift(1,v[x][b]==null?63:v[x][b]?84:70);break;case"B":ee.write_shift(8,v[x][b]||0,"f");break;case"N":var B="0";for(typeof v[x][b]=="number"&&(B=v[x][b].toFixed(V[b]||0)),S=0;S<P[b]-B.length;++S)ee.write_shift(1,32);ee.write_shift(1,B,"sbcs");break;case"D":v[x][b]?(ee.write_shift(4,("0000"+v[x][b].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(v[x][b].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+v[x][b].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var re=String(v[x][b]!=null?v[x][b]:"").slice(0,P[b]);for(ee.write_shift(1,re,"sbcs"),S=0;S<P[b]-re.length;++S)ee.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}}(),GG=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+nr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(m,v){var w=t[v];return typeof w=="number"?w2(w):w},r=function(m,v,w){var x=v.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return x==59?m:w2(x)};t["|"]=254;function i(m,v){switch(v.type){case"base64":return s(Vs(m),v);case"binary":return s(m,v);case"buffer":return s(Tt&&Buffer.isBuffer(m)?m.toString("binary"):pd(m),v);case"array":return s(dg(m),v)}throw new Error("Unrecognized type "+v.type)}function s(m,v){var w=m.split(/[\n\r]+/),x=-1,b=-1,S=0,T=0,A=[],C=[],P=null,V={},I=[],j=[],L=[],K=0,te;for(+v.codepage>=0&&Bf(+v.codepage);S!==w.length;++S){K=0;var X=w[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),ce=X.replace(/;;/g,"\0").split(";").map(function(F){return F.replace(/\u0000/g,";")}),N=ce[0],ee;if(X.length>0)switch(N){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ce[1].charAt(0)=="P"&&C.push(X.slice(3).replace(/;;/g,";"));break;case"C":var B=!1,re=!1,le=!1,ie=!1,Q=-1,ae=-1;for(T=1;T<ce.length;++T)switch(ce[T].charAt(0)){case"A":break;case"X":b=parseInt(ce[T].slice(1))-1,re=!0;break;case"Y":for(x=parseInt(ce[T].slice(1))-1,re||(b=0),te=A.length;te<=x;++te)A[te]=[];break;case"K":ee=ce[T].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(Fs(ee))?isNaN(Uf(ee).getDate())||(ee=br(ee)):(ee=Fs(ee),P!==null&&FN(P)&&(ee=$N(ee))),B=!0;break;case"E":ie=!0;var D=qY(ce[T].slice(1),{r:x,c:b});A[x][b]=[A[x][b],D];break;case"S":le=!0,A[x][b]=[A[x][b],"S5S"];break;case"G":break;case"R":Q=parseInt(ce[T].slice(1))-1;break;case"C":ae=parseInt(ce[T].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+X)}if(B&&(A[x][b]&&A[x][b].length==2?A[x][b][0]=ee:A[x][b]=ee,P=null),le){if(ie)throw new Error("SYLK shared formula cannot have own formula");var q=Q>-1&&A[Q][ae];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");A[x][b][1]=WY(q[1],{r:x-Q,c:b-ae})}break;case"F":var z=0;for(T=1;T<ce.length;++T)switch(ce[T].charAt(0)){case"X":b=parseInt(ce[T].slice(1))-1,++z;break;case"Y":for(x=parseInt(ce[T].slice(1))-1,te=A.length;te<=x;++te)A[te]=[];break;case"M":K=parseInt(ce[T].slice(1))/20;break;case"F":break;case"G":break;case"P":P=C[parseInt(ce[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=ce[T].slice(1).split(" "),te=parseInt(L[0],10);te<=parseInt(L[1],10);++te)K=parseInt(L[2],10),j[te-1]=K===0?{hidden:!0}:{wch:K},N_(j[te-1]);break;case"C":b=parseInt(ce[T].slice(1))-1,j[b]||(j[b]={});break;case"R":x=parseInt(ce[T].slice(1))-1,I[x]||(I[x]={}),K>0?(I[x].hpt=K,I[x].hpx=O4(K)):K===0&&(I[x].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+X)}z<1&&(P=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+X)}}return I.length>0&&(V["!rows"]=I),j.length>0&&(V["!cols"]=j),v&&v.sheetRows&&(A=A.slice(0,v.sheetRows)),[A,V]}function a(m,v){var w=i(m,v),x=w[0],b=w[1],S=Zc(x,v);return nr(b).forEach(function(T){S[T]=b[T]}),S}function c(m,v){return fl(a(m,v),v)}function f(m,v,w,x){var b="C;Y"+(w+1)+";X"+(x+1)+";K";switch(m.t){case"n":b+=m.v||0,m.f&&!m.F&&(b+=";E"+M_(m.f,{r:w,c:x}));break;case"b":b+=m.v?"TRUE":"FALSE";break;case"e":b+=m.w||m.v;break;case"d":b+='"'+(m.w||m.v)+'"';break;case"s":b+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(m,v){v.forEach(function(w,x){var b="F;W"+(x+1)+" "+(x+1)+" ";w.hidden?b+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=_p(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=wp(w.wpx)),typeof w.wch=="number"&&(b+=Math.round(w.wch))),b.charAt(b.length-1)!=" "&&m.push(b)})}function h(m,v){v.forEach(function(w,x){var b="F;";w.hidden?b+="M0;":w.hpt?b+="M"+20*w.hpt+";":w.hpx&&(b+="M"+20*bp(w.hpx)+";"),b.length>2&&m.push(b+"R"+(x+1))})}function g(m,v){var w=["ID;PWXL;N;E"],x=[],b=Kt(m["!ref"]),S,T=Array.isArray(m),A=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),m["!cols"]&&d(w,m["!cols"]),m["!rows"]&&h(w,m["!rows"]),w.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var C=b.s.r;C<=b.e.r;++C)for(var P=b.s.c;P<=b.e.c;++P){var V=jt({r:C,c:P});S=T?(m[C]||[])[P]:m[V],!(!S||S.v==null&&(!S.f||S.F))&&x.push(f(S,m,C,P))}return w.join(A)+A+x.join(A)+A+"E"+A}return{to_workbook:c,to_sheet:a,from_sheet:g}}(),YG=function(){function t(s,a){switch(a.type){case"base64":return e(Vs(s),a);case"binary":return e(s,a);case"buffer":return e(Tt&&Buffer.isBuffer(s)?s.toString("binary"):pd(s),a);case"array":return e(dg(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var c=s.split(`
`),f=-1,d=-1,h=0,g=[];h!==c.length;++h){if(c[h].trim()==="BOT"){g[++f]=[],d=0;continue}if(!(f<0)){var m=c[h].trim().split(","),v=m[0],w=m[1];++h;for(var x=c[h]||"";(x.match(/["]/g)||[]).length&1&&h<c.length-1;)x+=`
`+c[++h];switch(x=x.trim(),+v){case-1:if(x==="BOT"){g[++f]=[],d=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?g[f][d]=!0:x==="FALSE"?g[f][d]=!1:isNaN(Fs(w))?isNaN(Uf(w).getDate())?g[f][d]=w:g[f][d]=br(w):g[f][d]=Fs(w),++d;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),g[f][d++]=x!==""?x:null;break}if(x==="EOD")break}}return a&&a.sheetRows&&(g=g.slice(0,a.sheetRows)),g}function n(s,a){return Zc(t(s,a),a)}function r(s,a){return fl(n(s,a),a)}var i=function(){var s=function(f,d,h,g,m){f.push(d),f.push(h+","+g),f.push('"'+m.replace(/"/g,'""')+'"')},a=function(f,d,h,g){f.push(d+","+h),f.push(d==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(f){var d=[],h=Kt(f["!ref"]),g,m=Array.isArray(f);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,h.e.r-h.s.r+1,""),s(d,"TUPLES",0,h.e.c-h.s.c+1,""),s(d,"DATA",0,0,"");for(var v=h.s.r;v<=h.e.r;++v){a(d,-1,0,"BOT");for(var w=h.s.c;w<=h.e.c;++w){var x=jt({r:v,c:w});if(g=m?(f[v]||[])[w]:f[x],!g){a(d,1,0,"");continue}switch(g.t){case"n":var b=g.w;!b&&g.v!=null&&(b=g.v),b==null?g.f&&!g.F?a(d,1,0,"="+g.f):a(d,1,0,""):a(d,0,b,"V");break;case"b":a(d,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":a(d,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=qa(g.z||un[14],Mr(br(g.v)))),a(d,0,g.w,"V");break;default:a(d,1,0,"")}}}a(d,-1,0,"EOD");var S=`\r
`,T=d.join(S);return T}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),A4=function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(g,m){for(var v=g.split(`
`),w=-1,x=-1,b=0,S=[];b!==v.length;++b){var T=v[b].trim().split(":");if(T[0]==="cell"){var A=Un(T[1]);if(S.length<=A.r)for(w=S.length;w<=A.r;++w)S[w]||(S[w]=[]);switch(w=A.r,x=A.c,T[2]){case"t":S[w][x]=t(T[3]);break;case"v":S[w][x]=+T[3];break;case"vtf":var C=T[T.length-1];case"vtc":switch(T[3]){case"nl":S[w][x]=!!+T[4];break;default:S[w][x]=+T[4];break}T[2]=="vtf"&&(S[w][x]=[S[w][x],C])}}}return m&&m.sheetRows&&(S=S.slice(0,m.sheetRows)),S}function r(g,m){return Zc(n(g,m),m)}function i(g,m){return fl(r(g,m),m)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function d(g){if(!g||!g["!ref"])return"";for(var m=[],v=[],w,x="",b=ni(g["!ref"]),S=Array.isArray(g),T=b.s.r;T<=b.e.r;++T)for(var A=b.s.c;A<=b.e.c;++A)if(x=jt({r:T,c:A}),w=S?(g[T]||[])[A]:g[x],!(!w||w.v==null||w.t==="z")){switch(v=["cell",x,"t"],w.t){case"s":case"str":v.push(e(w.v));break;case"n":w.f?(v[2]="vtf",v[3]="n",v[4]=w.v,v[5]=e(w.f)):(v[2]="v",v[3]=w.v);break;case"b":v[2]="vt"+(w.f?"f":"c"),v[3]="nl",v[4]=w.v?"1":"0",v[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var C=Mr(br(w.v));v[2]="vtc",v[3]="nd",v[4]=""+C,v[5]=w.w||qa(w.z||un[14],C);break;case"e":continue}m.push(v.join(":"))}return m.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function h(g){return[s,a,c,a,d(g),f].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:h}}(),XG=function(){function t(h,g,m,v,w){w.raw?g[m][v]=h:h===""||(h==="TRUE"?g[m][v]=!0:h==="FALSE"?g[m][v]=!1:isNaN(Fs(h))?isNaN(Uf(h).getDate())?g[m][v]=h:g[m][v]=br(h):g[m][v]=Fs(h))}function e(h,g){var m=g||{},v=[];if(!h||h.length===0)return v;for(var w=h.split(/[\r\n]/),x=w.length-1;x>=0&&w[x].length===0;)--x;for(var b=10,S=0,T=0;T<=x;++T)S=w[T].indexOf(" "),S==-1?S=w[T].length:S++,b=Math.max(b,S);for(T=0;T<=x;++T){v[T]=[];var A=0;for(t(w[T].slice(0,b).trim(),v,T,A,m),A=1;A<=(w[T].length-b)/10+1;++A)t(w[T].slice(b+(A-1)*10,b+A*10).trim(),v,T,A,m)}return m.sheetRows&&(v=v.slice(0,m.sheetRows)),v}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(h){for(var g={},m=!1,v=0,w=0;v<h.length;++v)(w=h.charCodeAt(v))==34?m=!m:!m&&w in n&&(g[w]=(g[w]||0)+1);w=[];for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&w.push([g[v],v]);if(!w.length){g=r;for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&w.push([g[v],v])}return w.sort(function(x,b){return x[0]-b[0]||r[x[1]]-r[b[1]]}),n[w.pop()[1]]||44}function s(h,g){var m=g||{},v="",w=m.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(v=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(v=h.charAt(4),h=h.slice(6)):v=i(h.slice(0,1024)):m&&m.FS?v=m.FS:v=i(h.slice(0,1024));var b=0,S=0,T=0,A=0,C=0,P=v.charCodeAt(0),V=!1,I=0,j=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var L=m.dateNF!=null?fW(m.dateNF):null;function K(){var te=h.slice(A,C),X={};if(te.charAt(0)=='"'&&te.charAt(te.length-1)=='"'&&(te=te.slice(1,-1).replace(/""/g,'"')),te.length===0)X.t="z";else if(m.raw)X.t="s",X.v=te;else if(te.trim().length===0)X.t="s",X.v=te;else if(te.charCodeAt(0)==61)te.charCodeAt(1)==34&&te.charCodeAt(te.length-1)==34?(X.t="s",X.v=te.slice(2,-1).replace(/""/g,'"')):GY(te)?(X.t="n",X.f=te.slice(1)):(X.t="s",X.v=te);else if(te=="TRUE")X.t="b",X.v=!0;else if(te=="FALSE")X.t="b",X.v=!1;else if(!isNaN(T=Fs(te)))X.t="n",m.cellText!==!1&&(X.w=te),X.v=T;else if(!isNaN(Uf(te).getDate())||L&&te.match(L)){X.z=m.dateNF||un[14];var ce=0;L&&te.match(L)&&(te=dW(te,m.dateNF,te.match(L)||[]),ce=1),m.cellDates?(X.t="d",X.v=br(te,ce)):(X.t="n",X.v=Mr(br(te,ce))),m.cellText!==!1&&(X.w=qa(X.z,X.v instanceof Date?Mr(X.v):X.v)),m.cellNF||delete X.z}else X.t="s",X.v=te;if(X.t=="z"||(m.dense?(w[b]||(w[b]=[]),w[b][S]=X):w[jt({c:S,r:b})]=X),A=C+1,j=h.charCodeAt(A),x.e.c<S&&(x.e.c=S),x.e.r<b&&(x.e.r=b),I==P)++S;else if(S=0,++b,m.sheetRows&&m.sheetRows<=b)return!0}e:for(;C<h.length;++C)switch(I=h.charCodeAt(C)){case 34:j===34&&(V=!V);break;case P:case 10:case 13:if(!V&&K())break e;break}return C-A>0&&K(),w["!ref"]=An(x),w}function a(h,g){return!(g&&g.PRN)||g.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,g):Zc(e(h,g),g)}function c(h,g){var m="",v=g.type=="string"?[0,0,0,0]:oJ(h,g);switch(g.type){case"base64":m=Vs(h);break;case"binary":m=h;break;case"buffer":g.codepage==65001?m=h.toString("utf8"):(g.codepage,m=Tt&&Buffer.isBuffer(h)?h.toString("binary"):pd(h));break;case"array":m=dg(h);break;case"string":m=h;break;default:throw new Error("Unrecognized type "+g.type)}return v[0]==239&&v[1]==187&&v[2]==191?m=Sf(m.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?m=Sf(m):g.type=="binary",m.slice(0,19)=="socialcalc:version:"?A4.to_sheet(g.type=="string"?m:Sf(m),g):a(m,g)}function f(h,g){return fl(c(h,g),g)}function d(h){for(var g=[],m=Kt(h["!ref"]),v,w=Array.isArray(h),x=m.s.r;x<=m.e.r;++x){for(var b=[],S=m.s.c;S<=m.e.c;++S){var T=jt({r:x,c:S});if(v=w?(h[x]||[])[S]:h[T],!v||v.v==null){b.push("          ");continue}for(var A=(v.w||(qs(v),v.w)||"").slice(0,10);A.length<10;)A+=" ";b.push(A+(S===0?" ":""))}g.push(b.join(""))}return g.join(`
`)}return{to_workbook:f,to_sheet:c,from_sheet:d}}(),J2=function(){function t(D,q,z){if(D){Xr(D,D.l||0);for(var F=z.Enum||Q;D.l<D.length;){var se=D.read_shift(2),be=F[se]||F[65535],ke=D.read_shift(2),Ne=D.l+ke,Ce=be.f&&be.f(D,ke,z);if(D.l=Ne,q(Ce,be,se))return}}}function e(D,q){switch(q.type){case"base64":return n(ji(Vs(D)),q);case"binary":return n(ji(D),q);case"buffer":case"array":return n(D,q)}throw"Unsupported type "+q.type}function n(D,q){if(!D)return D;var z=q||{},F=z.dense?[]:{},se="Sheet1",be="",ke=0,Ne={},Ce=[],xe=[],J={s:{r:0,c:0},e:{r:0,c:0}},Ae=z.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)z.Enum=Q,t(D,function(Oe,He,Dt){switch(Dt){case 0:z.vers=Oe,Oe>=4096&&(z.qpro=!0);break;case 6:J=Oe;break;case 204:Oe&&(be=Oe);break;case 222:be=Oe;break;case 15:case 51:z.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:Dt==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=z.dateNF||un[14],z.cellDates&&(Oe[1].t="d",Oe[1].v=$N(Oe[1].v))),z.qpro&&Oe[3]>ke&&(F["!ref"]=An(J),Ne[se]=F,Ce.push(se),F=z.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},ke=Oe[3],se=be||"Sheet"+(ke+1),be="");var Nn=z.dense?(F[Oe[0].r]||[])[Oe[0].c]:F[jt(Oe[0])];if(Nn){Nn.t=Oe[1].t,Nn.v=Oe[1].v,Oe[1].z!=null&&(Nn.z=Oe[1].z),Oe[1].f!=null&&(Nn.f=Oe[1].f);break}z.dense?(F[Oe[0].r]||(F[Oe[0].r]=[]),F[Oe[0].r][Oe[0].c]=Oe[1]):F[jt(Oe[0])]=Oe[1];break}},z);else if(D[2]==26||D[2]==14)z.Enum=ae,D[2]==14&&(z.qpro=!0,D.l=0),t(D,function(Oe,He,Dt){switch(Dt){case 204:se=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>ke&&(F["!ref"]=An(J),Ne[se]=F,Ce.push(se),F=z.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},ke=Oe[3],se="Sheet"+(ke+1)),Ae>0&&Oe[0].r>=Ae)break;z.dense?(F[Oe[0].r]||(F[Oe[0].r]=[]),F[Oe[0].r][Oe[0].c]=Oe[1]):F[jt(Oe[0])]=Oe[1],J.e.c<Oe[0].c&&(J.e.c=Oe[0].c),J.e.r<Oe[0].r&&(J.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(xe[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:xe[Oe[0]]=Oe[1],Oe[0]==ke&&(se=Oe[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(F["!ref"]=An(J),Ne[be||se]=F,Ce.push(be||se),!xe.length)return{SheetNames:Ce,Sheets:Ne};for(var Pe={},We=[],qe=0;qe<xe.length;++qe)Ne[Ce[qe]]?(We.push(xe[qe]||Ce[qe]),Pe[xe[qe]]=Ne[xe[qe]]||Ne[Ce[qe]]):(We.push(xe[qe]),Pe[xe[qe]]={"!ref":"A1"});return{SheetNames:We,Sheets:Pe}}function r(D,q){var z=q||{};if(+z.codepage>=0&&Bf(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var F=Ir(),se=Kt(D["!ref"]),be=Array.isArray(D),ke=[];Ue(F,0,s(1030)),Ue(F,6,f(se));for(var Ne=Math.min(se.e.r,8191),Ce=se.s.r;Ce<=Ne;++Ce)for(var xe=tr(Ce),J=se.s.c;J<=se.e.c;++J){Ce===se.s.r&&(ke[J]=dr(J));var Ae=ke[J]+xe,Pe=be?(D[Ce]||[])[J]:D[Ae];if(!(!Pe||Pe.t=="z"))if(Pe.t=="n")(Pe.v|0)==Pe.v&&Pe.v>=-32768&&Pe.v<=32767?Ue(F,13,v(Ce,J,Pe.v)):Ue(F,14,x(Ce,J,Pe.v));else{var We=qs(Pe);Ue(F,15,g(Ce,J,We.slice(0,239)))}}return Ue(F,1),F.end()}function i(D,q){var z=q||{};if(+z.codepage>=0&&Bf(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var F=Ir();Ue(F,0,a(D));for(var se=0,be=0;se<D.SheetNames.length;++se)(D.Sheets[D.SheetNames[se]]||{})["!ref"]&&Ue(F,27,ie(D.SheetNames[se],be++));var ke=0;for(se=0;se<D.SheetNames.length;++se){var Ne=D.Sheets[D.SheetNames[se]];if(!(!Ne||!Ne["!ref"])){for(var Ce=Kt(Ne["!ref"]),xe=Array.isArray(Ne),J=[],Ae=Math.min(Ce.e.r,8191),Pe=Ce.s.r;Pe<=Ae;++Pe)for(var We=tr(Pe),qe=Ce.s.c;qe<=Ce.e.c;++qe){Pe===Ce.s.r&&(J[qe]=dr(qe));var Oe=J[qe]+We,He=xe?(Ne[Pe]||[])[qe]:Ne[Oe];if(!(!He||He.t=="z"))if(He.t=="n")Ue(F,23,K(Pe,qe,ke,He.v));else{var Dt=qs(He);Ue(F,22,I(Pe,qe,ke,Dt.slice(0,239)))}}++ke}}return Ue(F,1),F.end()}function s(D){var q=Se(2);return q.write_shift(2,D),q}function a(D){var q=Se(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var z=0,F=0,se=0,be=0;be<D.SheetNames.length;++be){var ke=D.SheetNames[be],Ne=D.Sheets[ke];if(!(!Ne||!Ne["!ref"])){++se;var Ce=ni(Ne["!ref"]);z<Ce.e.r&&(z=Ce.e.r),F<Ce.e.c&&(F=Ce.e.c)}}return z>8191&&(z=8191),q.write_shift(2,z),q.write_shift(1,se),q.write_shift(1,F),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function c(D,q,z){var F={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&z.qpro?(F.s.c=D.read_shift(1),D.l++,F.s.r=D.read_shift(2),F.e.c=D.read_shift(1),D.l++,F.e.r=D.read_shift(2),F):(F.s.c=D.read_shift(2),F.s.r=D.read_shift(2),q==12&&z.qpro&&(D.l+=2),F.e.c=D.read_shift(2),F.e.r=D.read_shift(2),q==12&&z.qpro&&(D.l+=2),F.s.c==65535&&(F.s.c=F.e.c=F.s.r=F.e.r=0),F)}function f(D){var q=Se(8);return q.write_shift(2,D.s.c),q.write_shift(2,D.s.r),q.write_shift(2,D.e.c),q.write_shift(2,D.e.r),q}function d(D,q,z){var F=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(F[0].c=D.read_shift(1),F[3]=D.read_shift(1),F[0].r=D.read_shift(2),D.l+=2):(F[2]=D.read_shift(1),F[0].c=D.read_shift(2),F[0].r=D.read_shift(2)),F}function h(D,q,z){var F=D.l+q,se=d(D,q,z);if(se[1].t="s",z.vers==20768){D.l++;var be=D.read_shift(1);return se[1].v=D.read_shift(be,"utf8"),se}return z.qpro&&D.l++,se[1].v=D.read_shift(F-D.l,"cstr"),se}function g(D,q,z){var F=Se(7+z.length);F.write_shift(1,255),F.write_shift(2,q),F.write_shift(2,D),F.write_shift(1,39);for(var se=0;se<F.length;++se){var be=z.charCodeAt(se);F.write_shift(1,be>=128?95:be)}return F.write_shift(1,0),F}function m(D,q,z){var F=d(D,q,z);return F[1].v=D.read_shift(2,"i"),F}function v(D,q,z){var F=Se(7);return F.write_shift(1,255),F.write_shift(2,q),F.write_shift(2,D),F.write_shift(2,z,"i"),F}function w(D,q,z){var F=d(D,q,z);return F[1].v=D.read_shift(8,"f"),F}function x(D,q,z){var F=Se(13);return F.write_shift(1,255),F.write_shift(2,q),F.write_shift(2,D),F.write_shift(8,z,"f"),F}function b(D,q,z){var F=D.l+q,se=d(D,q,z);if(se[1].v=D.read_shift(8,"f"),z.qpro)D.l=F;else{var be=D.read_shift(2);C(D.slice(D.l,D.l+be),se),D.l+=be}return se}function S(D,q,z){var F=q&32768;return q&=-32769,q=(F?D:0)+(q>=8192?q-16384:q),(F?"":"$")+(z?dr(q):tr(q))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(D,q){Xr(D,0);for(var z=[],F=0,se="",be="",ke="",Ne="";D.l<D.length;){var Ce=D[D.l++];switch(Ce){case 0:z.push(D.read_shift(8,"f"));break;case 1:be=S(q[0].c,D.read_shift(2),!0),se=S(q[0].r,D.read_shift(2),!1),z.push(be+se);break;case 2:{var xe=S(q[0].c,D.read_shift(2),!0),J=S(q[0].r,D.read_shift(2),!1);be=S(q[0].c,D.read_shift(2),!0),se=S(q[0].r,D.read_shift(2),!1),z.push(xe+J+":"+be+se)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(D.read_shift(2));break;case 6:{for(var Ae="";Ce=D[D.l++];)Ae+=String.fromCharCode(Ce);z.push('"'+Ae.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:Ne=z.pop(),ke=z.pop(),z.push(["AND","OR"][Ce-20]+"("+ke+","+Ne+")");break;default:if(Ce<32&&A[Ce])Ne=z.pop(),ke=z.pop(),z.push(ke+A[Ce]+Ne);else if(T[Ce]){if(F=T[Ce][1],F==69&&(F=D[D.l++]),F>z.length){console.error("WK1 bad formula parse 0x"+Ce.toString(16)+":|"+z.join("|")+"|");return}var Pe=z.slice(-F);z.length-=F,z.push(T[Ce][0]+"("+Pe.join(",")+")")}else return Ce<=7?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=24?console.error("WK1 unsupported op "+Ce.toString(16)):Ce<=30?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=115?console.error("WK1 unsupported function opcode "+Ce.toString(16)):console.error("WK1 unrecognized opcode "+Ce.toString(16))}}z.length==1?q[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function P(D){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=D.read_shift(2),q[3]=D[D.l++],q[0].c=D[D.l++],q}function V(D,q){var z=P(D);return z[1].t="s",z[1].v=D.read_shift(q-4,"cstr"),z}function I(D,q,z,F){var se=Se(6+F.length);se.write_shift(2,D),se.write_shift(1,z),se.write_shift(1,q),se.write_shift(1,39);for(var be=0;be<F.length;++be){var ke=F.charCodeAt(be);se.write_shift(1,ke>=128?95:ke)}return se.write_shift(1,0),se}function j(D,q){var z=P(D);z[1].v=D.read_shift(2);var F=z[1].v>>1;if(z[1].v&1)switch(F&7){case 0:F=(F>>3)*5e3;break;case 1:F=(F>>3)*500;break;case 2:F=(F>>3)/20;break;case 3:F=(F>>3)/200;break;case 4:F=(F>>3)/2e3;break;case 5:F=(F>>3)/2e4;break;case 6:F=(F>>3)/16;break;case 7:F=(F>>3)/64;break}return z[1].v=F,z}function L(D,q){var z=P(D),F=D.read_shift(4),se=D.read_shift(4),be=D.read_shift(2);if(be==65535)return F===0&&se===3221225472?(z[1].t="e",z[1].v=15):F===0&&se===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var ke=be&32768;return be=(be&32767)-16446,z[1].v=(1-ke*2)*(se*Math.pow(2,be+32)+F*Math.pow(2,be)),z}function K(D,q,z,F){var se=Se(14);if(se.write_shift(2,D),se.write_shift(1,z),se.write_shift(1,q),F==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var be=0,ke=0,Ne=0,Ce=0;return F<0&&(be=1,F=-F),ke=Math.log2(F)|0,F/=Math.pow(2,ke-31),Ce=F>>>0,(Ce&2147483648)==0&&(F/=2,++ke,Ce=F>>>0),F-=Ce,Ce|=2147483648,Ce>>>=0,F*=Math.pow(2,32),Ne=F>>>0,se.write_shift(4,Ne),se.write_shift(4,Ce),ke+=16383+(be?32768:0),se.write_shift(2,ke),se}function te(D,q){var z=L(D);return D.l+=q-14,z}function X(D,q){var z=P(D),F=D.read_shift(4);return z[1].v=F>>6,z}function ce(D,q){var z=P(D),F=D.read_shift(8,"f");return z[1].v=F,z}function N(D,q){var z=ce(D);return D.l+=q-10,z}function ee(D,q){return D[D.l+q-1]==0?D.read_shift(q,"cstr"):""}function B(D,q){var z=D[D.l++];z>q-1&&(z=q-1);for(var F="";F.length<z;)F+=String.fromCharCode(D[D.l++]);return F}function re(D,q,z){if(!(!z.qpro||q<21)){var F=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var se=D.read_shift(q-21,"cstr");return[F,se]}}function le(D,q){for(var z={},F=D.l+q;D.l<F;){var se=D.read_shift(2);if(se==14e3){for(z[se]=[0,""],z[se][0]=D.read_shift(2);D[D.l];)z[se][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return z}function ie(D,q){var z=Se(5+D.length);z.write_shift(2,14e3),z.write_shift(2,q);for(var F=0;F<D.length;++F){var se=D.charCodeAt(F);z[z.l++]=se>127?95:se}return z[z.l++]=0,z}var Q={0:{n:"BOF",f:w4},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:B},65535:{n:""}},ae={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:V},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:j},25:{n:"FORMULA19",f:te},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:le},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:X},38:{n:"??"},39:{n:"NUMBER27",f:ce},40:{n:"FORMULA28",f:N},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:re},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}(),KG=/^\s|\s$|[\t\n\r]/;function C4(t,e){if(!e.bookSST)return"";var n=[Cn];n[n.length]=Fe("sst",null,{xmlns:Qc[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(KG)&&(s+=' xml:space="preserve"'),s+=">"+Mt(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function QG(t){return[t.read_shift(4),t.read_shift(4)]}function ZG(t,e){return e||(e=Se(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var JG=$W;function eY(t){var e=Ir();Me(e,159,ZG(t));for(var n=0;n<t.length;++n)Me(e,19,JG(t[n]));return Me(e,160),e.end()}function tY(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function R4(t){var e=0,n,r=tY(t),i=r.length+1,s,a,c,f,d;for(n=Qo(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],c=(e&16384)===0?0:1,f=e<<1&32767,d=c|f,e=d^a;return e^52811}var nY=function(){function t(i,s){switch(s.type){case"base64":return e(Vs(i),s);case"binary":return e(i,s);case"buffer":return e(Tt&&Buffer.isBuffer(i)?i.toString("binary"):pd(i),s);case"array":return e(dg(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},c=a.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(h,g){Array.isArray(c)&&(c[g]=[]);for(var m=/\\\w+\b/g,v=0,w,x=-1;w=m.exec(h);){switch(w[0]){case"\\cell":var b=h.slice(v,m.lastIndex-w[0].length);if(b[0]==" "&&(b=b.slice(1)),++x,b.length){var S={v:b,t:"s"};Array.isArray(c)?c[g][x]=S:c[jt({r:g,c:x})]=S}break}v=m.lastIndex}x>d.e.c&&(d.e.c=x)}),c["!ref"]=An(d),c}function n(i,s){return fl(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=Kt(i["!ref"]),c,f=Array.isArray(i),d=a.s.r;d<=a.e.r;++d){s.push("\\trowd\\trautofit1");for(var h=a.s.c;h<=a.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=a.s.c;h<=a.e.c;++h){var g=jt({r:d,c:h});c=f?(i[d]||[])[h]:i[g],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(qs(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function eC(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var rY=6,Us=rY;function _p(t){return Math.floor((t+Math.round(128/Us)/256)*Us)}function wp(t){return Math.floor((t-5)/Us*100+.5)/100}function G1(t){return Math.round((t*Us+5)/Us*256)/256}function N_(t){t.width?(t.wpx=_p(t.width),t.wch=wp(t.wpx),t.MDW=Us):t.wpx?(t.wch=wp(t.wpx),t.width=G1(t.wch),t.MDW=Us):typeof t.wch=="number"&&(t.width=G1(t.wch),t.wpx=_p(t.width),t.MDW=Us),t.customWidth&&delete t.customWidth}var iY=96,D4=iY;function bp(t){return t*96/D4}function O4(t){return t*D4/96}function sY(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Fe("numFmt",null,{numFmtId:r,formatCode:Mt(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Fe("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function aY(t){var e=[];return e[e.length]=Fe("cellXfs",null),t.forEach(function(n){e[e.length]=Fe("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Fe("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function k4(t,e){var n=[Cn,Fe("styleSheet",null,{xmlns:Qc[0],"xmlns:vt":Fn.vt})],r;return t.SSF&&(r=sY(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=aY(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function oY(t,e){var n=t.read_shift(2),r=hr(t);return[n,r]}function lY(t,e,n){n||(n=Se(6+4*e.length)),n.write_shift(2,t),Hn(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function cY(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=KW(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(r.underline=a);var c=t.read_shift(1);c>0&&(r.family=c);var f=t.read_shift(1);switch(f>0&&(r.charset=f),t.l++,r.color=XW(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=hr(t),r}function uY(t,e){e||(e=Se(25+4*32)),e.write_shift(2,t.sz*20),QW(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),yp(t.color,e);var r=0;return r=2,e.write_shift(1,r),Hn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var fY=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],_y,dY=ds;function tC(t,e){e||(e=Se(4*3+8*7+16*1)),_y||(_y=__(fY));var n=_y[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(yp({auto:1},e),yp({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function hY(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function N4(t,e,n){n||(n=Se(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function tf(t,e){return e||(e=Se(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var pY=ds;function gY(t,e){return e||(e=Se(51)),e.write_shift(1,0),tf(null,e),tf(null,e),tf(null,e),tf(null,e),tf(null,e),e.length>e.l?e.slice(0,e.l):e}function mY(t,e){return e||(e=Se(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),vp(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function vY(t,e,n){var r=Se(2052);return r.write_shift(4,t),vp(e,r),vp(n,r),r.length>r.l?r.slice(0,r.l):r}function yY(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(Me(t,615,Hi(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Me(t,44,lY(i,e[i]))}),Me(t,616))}}function xY(t){var e=1;Me(t,611,Hi(e)),Me(t,43,uY({sz:12,color:{theme:1},name:"Calibri",family:2})),Me(t,612)}function _Y(t){var e=2;Me(t,603,Hi(e)),Me(t,45,tC({patternType:"none"})),Me(t,45,tC({patternType:"gray125"})),Me(t,604)}function wY(t){var e=1;Me(t,613,Hi(e)),Me(t,46,gY()),Me(t,614)}function bY(t){var e=1;Me(t,626,Hi(e)),Me(t,47,N4({numFmtId:0},65535)),Me(t,627)}function EY(t,e){Me(t,617,Hi(e.length)),e.forEach(function(n){Me(t,47,N4(n,0))}),Me(t,618)}function SY(t){var e=1;Me(t,619,Hi(e)),Me(t,48,mY({xfId:0,name:"Normal"})),Me(t,620)}function TY(t){var e=0;Me(t,505,Hi(e)),Me(t,506)}function AY(t){var e=0;Me(t,508,vY(e,"TableStyleMedium9","PivotStyleMedium4")),Me(t,509)}function CY(t,e){var n=Ir();return Me(n,278),yY(n,t.SSF),xY(n),_Y(n),wY(n),bY(n),EY(n,e.cellXfs),SY(n),TY(n),AY(n),Me(n,279),n.end()}function I4(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Cn];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function RY(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:hr(t)}}function DY(t){var e=Se(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Hn(t.name,e),e.slice(0,e.l)}function OY(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function kY(t){var e=Se(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function NY(t,e){var n=Se(8+2*e.length);return n.write_shift(4,t),Hn(e,n),n.slice(0,n.l)}function IY(t){return t.l+=4,t.read_shift(4)!=0}function MY(t,e){var n=Se(8);return n.write_shift(4,t),n.write_shift(4,1),n}function jY(){var t=Ir();return Me(t,332),Me(t,334,Hi(1)),Me(t,335,DY({name:"XLDAPR",version:12e4,flags:3496657072})),Me(t,336),Me(t,339,NY(1,"XLDAPR")),Me(t,52),Me(t,35,Hi(514)),Me(t,4096,Hi(0)),Me(t,4097,vi(1)),Me(t,36),Me(t,53),Me(t,340),Me(t,337,MY(1)),Me(t,51,kY([[1,0]])),Me(t,338),Me(t,333),t.end()}function M4(){var t=[Cn];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function PY(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=jt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var mc=1024;function j4(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Fe("xml",null,{"xmlns:v":Kr.v,"xmlns:o":Kr.o,"xmlns:x":Kr.x,"xmlns:mv":Kr.mv}).replace(/\/>/,">"),Fe("o:shapelayout",Fe("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Fe("v:shapetype",[Fe("v:stroke",null,{joinstyle:"miter"}),Fe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];mc<t*1e3;)mc+=1e3;return e.forEach(function(s){var a=Un(s[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var f=c.type=="gradient"?Fe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Fe("v:fill",f,c),h={on:"t",obscured:"t"};++mc,i=i.concat(["<v:shape"+zf({id:"_x0000_s"+mc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Fe("v:shadow",null,h),Fe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",er("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),er("x:AutoFill","False"),er("x:Row",String(a.r)),er("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function P4(t){var e=[Cn,Fe("comments",null,{xmlns:Qc[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var s=Mt(i.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(f){f.a&&(i=n.indexOf(Mt(f.a))),s.push(f.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(er("t",Mt(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,c=1;c<s.length;++c)a+=`Reply:
    `+s[c]+`
`;e.push(er("t",Mt(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function LY(t,e,n){var r=[Cn,Fe("ThreadedComments",null,{xmlns:Fn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,c){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var f={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};c==0?s=f.id:f.parentId=s,a.ID=f.id,a.a&&(f.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),r.push(Fe("threadedComment",er("text",a.t||""),f))})}),r.push("</ThreadedComments>"),r.join("")}function BY(t){var e=[Cn,Fe("personList",null,{xmlns:Fn.TCMNT,"xmlns:x":Qc[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Fe("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function FY(t){var e={};e.iauthor=t.read_shift(4);var n=gl(t);return e.rfx=n.s,e.ref=jt(n.s),t.l+=16,e}function UY(t,e){return e==null&&(e=Se(36)),e.write_shift(4,t[1].iauthor),Jc(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var HY=hr;function zY(t){return Hn(t.slice(0,54))}function $Y(t){var e=Ir(),n=[];return Me(e,628),Me(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),Me(e,632,zY(i.a)))})}),Me(e,631),Me(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Un(r[0]),e:Un(r[0])};Me(e,635,UY([s,i])),i.t&&i.t.length>0&&Me(e,637,qW(i)),Me(e,636),delete i.iauthor})}),Me(e,634),Me(e,629),e.end()}function VY(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Ut.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var L4=["xlsb","xlsm","xlam","biff8","xla"],qY=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,a){var c=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,h=a.length>0?parseInt(a,10)|0:0;return c?h+=e.c:--h,f?d+=e.r:--d,i+(c?"":"$")+dr(h)+(f?"":"$")+tr(d)}return function(i,s){return e=s,i.replace(t,n)}}(),I_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,M_=function(){return function(e,n){return e.replace(I_,function(r,i,s,a,c,f){var d=C_(a)-(s?0:n.c),h=A_(f)-(c?0:n.r),g=h==0?"":c?h+1:"["+h+"]",m=d==0?"":s?d+1:"["+d+"]";return i+"R"+g+"C"+m})}}();function WY(t,e){return t.replace(I_,function(n,r,i,s,a,c){return r+(i=="$"?i+s:dr(C_(s)+e.c))+(a=="$"?a+c:tr(A_(c)+e.r))})}function GY(t){return t.length!=1}function wn(t){t.l+=1}function Wa(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function B4(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return F4(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),a=Wa(t),c=Wa(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function F4(t){var e=Wa(t),n=Wa(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function YY(t,e,n){if(n.biff<8)return F4(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=Wa(t),a=Wa(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function U4(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return XY(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Wa(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function XY(t){var e=Wa(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function KY(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function QY(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return ZY(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:c}}function ZY(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function JY(t,e,n){var r=(t[t.l++]&96)>>5,i=B4(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function eX(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=B4(t,s,n);return[r,i,a]}function tX(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function nX(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function rX(t,e,n){var r=(t[t.l++]&96)>>5,i=YY(t,e-1,n);return[r,i]}function iX(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function nC(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function sX(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function aX(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function oX(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function lX(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function cX(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function H4(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function uX(t){return t.read_shift(2),H4(t)}function fX(t){return t.read_shift(2),H4(t)}function dX(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=U4(t,0,n);return[r,i]}function hX(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=QY(t,0,n);return[r,i]}function pX(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=U4(t,0,n);return[r,i,s]}function gX(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[gK[i],V4[i],r]}function mX(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:vX(t);return[i,(s[0]===0?V4:pK)[s[1]]]}function vX(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function yX(t,e,n){t.l+=n&&n.biff==2?3:4}function xX(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function _X(t){return t.l++,vd[t.read_shift(1)]}function wX(t){return t.l++,t.read_shift(2)}function bX(t){return t.l++,t.read_shift(1)!==0}function EX(t){return t.l++,eu(t)}function SX(t,e,n){return t.l++,E4(t,e-1,n)}function TX(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=pG(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=vd[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=eu(t);break;case 2:n[1]=yG(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function AX(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?gl:wG)(t));return i}function CX(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var c=0;c!=i;++c)a[s][c]=TX(t,n.biff);return a}function RX(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function DX(t,e,n){if(n.biff==5)return OX(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function OX(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function kX(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function NX(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function IX(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function MX(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var jX=ds,PX=ds,LX=ds;function yd(t,e,n){return t.l+=2,[KY(t)]}function j_(t){return t.l+=6,[]}var BX=yd,FX=j_,UX=j_,HX=yd;function z4(t){return t.l+=2,[w4(t),t.read_shift(2)&1]}var zX=yd,$X=z4,VX=j_,qX=yd,WX=yd,GX=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function YX(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=GX[n>>2&31];return{ixti:e,coltype:n&3,rt:a,idx:r,c:i,C:s}}function XX(t){return t.l+=2,[t.read_shift(4)]}function KX(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function QX(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function ZX(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function JX(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function eK(t){return t.l+=4,[0,0]}var rC={1:{n:"PtgExp",f:xX},2:{n:"PtgTbl",f:LX},3:{n:"PtgAdd",f:wn},4:{n:"PtgSub",f:wn},5:{n:"PtgMul",f:wn},6:{n:"PtgDiv",f:wn},7:{n:"PtgPower",f:wn},8:{n:"PtgConcat",f:wn},9:{n:"PtgLt",f:wn},10:{n:"PtgLe",f:wn},11:{n:"PtgEq",f:wn},12:{n:"PtgGe",f:wn},13:{n:"PtgGt",f:wn},14:{n:"PtgNe",f:wn},15:{n:"PtgIsect",f:wn},16:{n:"PtgUnion",f:wn},17:{n:"PtgRange",f:wn},18:{n:"PtgUplus",f:wn},19:{n:"PtgUminus",f:wn},20:{n:"PtgPercent",f:wn},21:{n:"PtgParen",f:wn},22:{n:"PtgMissArg",f:wn},23:{n:"PtgStr",f:SX},26:{n:"PtgSheet",f:KX},27:{n:"PtgEndSheet",f:QX},28:{n:"PtgErr",f:_X},29:{n:"PtgBool",f:bX},30:{n:"PtgInt",f:wX},31:{n:"PtgNum",f:EX},32:{n:"PtgArray",f:iX},33:{n:"PtgFunc",f:gX},34:{n:"PtgFuncVar",f:mX},35:{n:"PtgName",f:RX},36:{n:"PtgRef",f:dX},37:{n:"PtgArea",f:JY},38:{n:"PtgMemArea",f:kX},39:{n:"PtgMemErr",f:jX},40:{n:"PtgMemNoMem",f:PX},41:{n:"PtgMemFunc",f:NX},42:{n:"PtgRefErr",f:IX},43:{n:"PtgAreaErr",f:tX},44:{n:"PtgRefN",f:hX},45:{n:"PtgAreaN",f:rX},46:{n:"PtgMemAreaN",f:ZX},47:{n:"PtgMemNoMemN",f:JX},57:{n:"PtgNameX",f:DX},58:{n:"PtgRef3d",f:pX},59:{n:"PtgArea3d",f:eX},60:{n:"PtgRefErr3d",f:MX},61:{n:"PtgAreaErr3d",f:nX},255:{}},tK={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},nK={1:{n:"PtgElfLel",f:z4},2:{n:"PtgElfRw",f:qX},3:{n:"PtgElfCol",f:BX},6:{n:"PtgElfRwV",f:WX},7:{n:"PtgElfColV",f:HX},10:{n:"PtgElfRadical",f:zX},11:{n:"PtgElfRadicalS",f:VX},13:{n:"PtgElfColS",f:FX},15:{n:"PtgElfColSV",f:UX},16:{n:"PtgElfRadicalLel",f:$X},25:{n:"PtgList",f:YX},29:{n:"PtgSxName",f:XX},255:{}},rK={0:{n:"PtgAttrNoop",f:eK},1:{n:"PtgAttrSemi",f:cX},2:{n:"PtgAttrIf",f:oX},4:{n:"PtgAttrChoose",f:sX},8:{n:"PtgAttrGoto",f:aX},16:{n:"PtgAttrSum",f:yX},32:{n:"PtgAttrBaxcel",f:nC},33:{n:"PtgAttrBaxcel",f:nC},64:{n:"PtgAttrSpace",f:uX},65:{n:"PtgAttrSpaceSemi",f:fX},128:{n:"PtgAttrIfError",f:lX},255:{}};function iK(t,e,n,r){if(r.biff<8)return ds(t,e);for(var i=t.l+e,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=CX(t,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=AX(t,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=t.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return e=i-t.l,e!==0&&s.push(ds(t,e)),s}function sK(t,e,n){for(var r=t.l+e,i,s,a=[];r!=t.l;)e=r-t.l,s=t[t.l],i=rC[s]||rC[tK[s]],(s===24||s===25)&&(i=(s===24?nK:rK)[t[t.l+1]]),!i||!i.f?ds(t,e):a.push([i.n,i.f(t,e,n)]);return a}function aK(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var oK={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function lK(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function $4(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function iC(t,e,n){var r=$4(t,e,n);return r=="#REF"?r:lK(r,n)}function Lc(t,e,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},c=[],f,d,h,g=0,m=0,v,w="";if(!t[0]||!t[0][0])return"";for(var x=-1,b="",S=0,T=t[0].length;S<T;++S){var A=t[0][S];switch(A[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=c.pop(),d=c.pop(),x>=0){switch(t[0][x][1][0]){case 0:b=ln(" ",t[0][x][1][1]);break;case 1:b=ln("\r",t[0][x][1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}d=d+b,x=-1}c.push(d+oK[A[0]]+f);break;case"PtgIsect":f=c.pop(),d=c.pop(),c.push(d+" "+f);break;case"PtgUnion":f=c.pop(),d=c.pop(),c.push(d+","+f);break;case"PtgRange":f=c.pop(),d=c.pop(),c.push(d+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Af(A[1][1],a,i),c.push(Cf(h,s));break;case"PtgRefN":h=n?Af(A[1][1],n,i):A[1][1],c.push(Cf(h,s));break;case"PtgRef3d":g=A[1][1],h=Af(A[1][2],a,i),w=iC(r,g,i),c.push(w+"!"+Cf(h,s));break;case"PtgFunc":case"PtgFuncVar":var C=A[1][0],P=A[1][1];C||(C=0),C&=127;var V=C==0?[]:c.slice(-C);c.length-=C,P==="User"&&(P=V.shift()),c.push(P+"("+V.join(",")+")");break;case"PtgBool":c.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(A[1]);break;case"PtgNum":c.push(String(A[1]));break;case"PtgStr":c.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(A[1]);break;case"PtgAreaN":v=z2(A[1][1],n?{s:n}:a,i),c.push(yy(v,i));break;case"PtgArea":v=z2(A[1][1],a,i),c.push(yy(v,i));break;case"PtgArea3d":g=A[1][1],v=A[1][2],w=iC(r,g,i),c.push(w+"!"+yy(v,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=A[1][2];var I=(r.names||[])[m-1]||(r[0]||[])[m],j=I?I.Name:"SH33TJSNAME"+String(m);j&&j.slice(0,6)=="_xlfn."&&!i.xlfn&&(j=j.slice(6)),c.push(j);break;case"PtgNameX":var L=A[1][1];m=A[1][2];var K;if(i.biff<=5)L<0&&(L=-L),r[L]&&(K=r[L][m]);else{var te="";if(((r[L]||[])[0]||[])[0]==14849||(((r[L]||[])[0]||[])[0]==1025?r[L][m]&&r[L][m].itab>0&&(te=r.SheetNames[r[L][m].itab-1]+"!"):te=r.SheetNames[m-1]+"!"),r[L]&&r[L][m])te+=r[L][m].Name;else if(r[0]&&r[0][m])te+=r[0][m].Name;else{var X=($4(r,L,i)||"").split(";;");X[m-1]?te=X[m-1]:te+="SH33TJSERRX"}c.push(te);break}K||(K={Name:"SH33TJSERRY"}),c.push(K.Name);break;case"PtgParen":var ce="(",N=")";if(x>=0){switch(b="",t[0][x][1][0]){case 2:ce=ln(" ",t[0][x][1][1])+ce;break;case 3:ce=ln("\r",t[0][x][1][1])+ce;break;case 4:N=ln(" ",t[0][x][1][1])+N;break;case 5:N=ln("\r",t[0][x][1][1])+N;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}x=-1}c.push(ce+c.pop()+N);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":h={c:A[1][1],r:A[1][0]};var ee={c:n.c,r:n.r};if(r.sharedf[jt(h)]){var B=r.sharedf[jt(h)];c.push(Lc(B,a,ee,r,i))}else{var re=!1;for(f=0;f!=r.arrayf.length;++f)if(d=r.arrayf[f],!(h.c<d[0].s.c||h.c>d[0].e.c)&&!(h.r<d[0].s.r||h.r>d[0].e.r)){c.push(Lc(d[1],a,ee,r,i)),re=!0;break}re||c.push(A[1])}break;case"PtgArray":c.push("{"+aK(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var le=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&x>=0&&le.indexOf(t[0][S][0])==-1){A=t[0][x];var ie=!0;switch(A[1][0]){case 4:ie=!1;case 0:b=ln(" ",A[1][1]);break;case 5:ie=!1;case 1:b=ln("\r",A[1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}c.push((ie?b:"")+c.pop()+(ie?"":b)),x=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function cK(t){if(t==null){var e=Se(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Zo(t);return Zo(0)}function uK(t,e,n,r,i){var s=Jo(e,n,i),a=cK(t.v),c=Se(6),f=33;c.write_shift(2,f),c.write_shift(4,0);for(var d=Se(t.bf.length),h=0;h<t.bf.length;++h)d[h]=t.bf[h];var g=Jn([s,a,c,d]);return g}function hg(t,e,n){var r=t.read_shift(4),i=sK(t,r,n),s=t.read_shift(4),a=s>0?iK(t,s,i,n):null;return[i,a]}var fK=hg,pg=hg,dK=hg,hK=hg,pK={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},V4={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},gK={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function mK(t){var e="of:="+t.replace(I_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function vK(t){return t.replace(/\./,"!")}var Rf=typeof Map<"u";function P_(t,e,n){var r=0,i=t.length;if(n){if(Rf?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=Rf?n.get(e):n[e];r<s.length;++r)if(t[s[r]].t===e)return t.Count++,s[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(Rf?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function gg(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(Us=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=wp(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=G1(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function q4(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Ja(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){UN(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===r)return i;return t[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function yK(t,e,n){if(t&&t["!ref"]){var r=Kt(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function xK(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+An(t[n])+'"/>';return e+"</mergeCells>"}function _K(t,e,n,r,i){var s=!1,a={},c=null;if(r.bookType!=="xlsx"&&e.vbaraw){var f=e.SheetNames[n];try{e.Workbook&&(f=e.Workbook.Sheets[n].CodeName||f)}catch{}s=!0,a.codeName=Hf(Mt(f))}if(t&&t["!outline"]){var d={summaryBelow:1,summaryRight:1};t["!outline"].above&&(d.summaryBelow=0),t["!outline"].left&&(d.summaryRight=0),c=(c||"")+Fe("outlinePr",null,d)}!s&&!c||(i[i.length]=Fe("sheetPr",c,a))}var wK=["objects","scenarios","selectLockedCells","selectUnlockedCells"],bK=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function EK(t){var e={sheet:1};return wK.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),bK.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=R4(t.password).toString(16).toUpperCase()),Fe("sheetProtection",null,e)}function SK(t){return q4(t),Fe("pageMargins",null,t)}function TK(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=Fe("col",null,gg(i,r)));return n[n.length]="</cols>",n.join("")}function AK(t,e,n,r){var i=typeof t.ref=="string"?t.ref:An(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=ni(i);a.s.r==a.e.r&&(a.e.r=ni(e["!ref"]).e.r,i=An(a));for(var c=0;c<s.length;++c){var f=s[c];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Fe("autoFilter",null,{ref:i})}function CK(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Fe("sheetViews",Fe("sheetView",null,i),{})}function RK(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=vd[t.v];break;case"d":r&&r.cellDates?i=br(t.v,-1).toISOString():(t=jr(t),t.t="n",i=""+(t.v=Mr(br(t.v)))),typeof t.z>"u"&&(t.z=un[14]);break;default:i=t.v;break}var c=er("v",Mt(i)),f={r:e},d=Ja(r.cellXfs,t,r);switch(d!==0&&(f.s=d),t.t){case"n":break;case"d":f.t="d";break;case"b":f.t="b";break;case"e":f.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=er("v",""+P_(r.Strings,t.v,r.revStrings)),f.t="s";break}f.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var h=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;c=Fe("f",Mt(t.f),h)+(t.v!=null?c:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(f.cm=1),Fe("c",c,f)}function DK(t,e,n,r){var i=[],s=[],a=Kt(t["!ref"]),c="",f,d="",h=[],g=0,m=0,v=t["!rows"],w=Array.isArray(t),x={r:d},b,S=-1;for(m=a.s.c;m<=a.e.c;++m)h[m]=dr(m);for(g=a.s.r;g<=a.e.r;++g){for(s=[],d=tr(g),m=a.s.c;m<=a.e.c;++m){f=h[m]+d;var T=w?(t[g]||[])[m]:t[f];T!==void 0&&(c=RK(T,f,t,e))!=null&&s.push(c)}(s.length>0||v&&v[g])&&(x={r:d},v&&v[g]&&(b=v[g],b.hidden&&(x.hidden=1),S=-1,b.hpx?S=bp(b.hpx):b.hpt&&(S=b.hpt),S>-1&&(x.ht=S,x.customHeight=1),b.level&&(x.outlineLevel=b.level)),i[i.length]=Fe("row",s.join(""),x))}if(v)for(;g<v.length;++g)v&&v[g]&&(x={r:g+1},b=v[g],b.hidden&&(x.hidden=1),S=-1,b.hpx?S=bp(b.hpx):b.hpt&&(S=b.hpt),S>-1&&(x.ht=S,x.customHeight=1),b.level&&(x.outlineLevel=b.level),i[i.length]=Fe("row","",x));return i.join("")}function W4(t,e,n,r){var i=[Cn,Fe("worksheet",null,{xmlns:Qc[0],"xmlns:r":Fn.r})],s=n.SheetNames[t],a=0,c="",f=n.Sheets[s];f==null&&(f={});var d=f["!ref"]||"A1",h=Kt(d);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),d=An(h)}r||(r={}),f["!comments"]=[];var g=[];_K(f,n,t,e,i),i[i.length]=Fe("dimension",null,{ref:d}),i[i.length]=CK(f,e,t,n),e.sheetFormat&&(i[i.length]=Fe("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),f["!cols"]!=null&&f["!cols"].length>0&&(i[i.length]=TK(f,f["!cols"])),i[a=i.length]="<sheetData/>",f["!links"]=[],f["!ref"]!=null&&(c=DK(f,e),c.length>0&&(i[i.length]=c)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),f["!protect"]&&(i[i.length]=EK(f["!protect"])),f["!autofilter"]!=null&&(i[i.length]=AK(f["!autofilter"],f,n,t)),f["!merges"]!=null&&f["!merges"].length>0&&(i[i.length]=xK(f["!merges"]));var m=-1,v,w=-1;return f["!links"].length>0&&(i[i.length]="<hyperlinks>",f["!links"].forEach(function(x){x[1].Target&&(v={ref:x[0]},x[1].Target.charAt(0)!="#"&&(w=It(r,-1,Mt(x[1].Target).replace(/#.*$/,""),bt.HLINK),v["r:id"]="rId"+w),(m=x[1].Target.indexOf("#"))>-1&&(v.location=Mt(x[1].Target.slice(m+1))),x[1].Tooltip&&(v.tooltip=Mt(x[1].Tooltip)),i[i.length]=Fe("hyperlink",null,v))}),i[i.length]="</hyperlinks>"),delete f["!links"],f["!margins"]!=null&&(i[i.length]=SK(f["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=er("ignoredErrors",Fe("ignoredError",null,{numberStoredAsText:1,sqref:d}))),g.length>0&&(w=It(r,-1,"../drawings/drawing"+(t+1)+".xml",bt.DRAW),i[i.length]=Fe("drawing",null,{"r:id":"rId"+w}),f["!drawing"]=g),f["!comments"].length>0&&(w=It(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",bt.VML),i[i.length]=Fe("legacyDrawing",null,{"r:id":"rId"+w}),f["!legacy"]=w),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function OK(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function kK(t,e,n){var r=Se(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var s=320;i.hpx?s=bp(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var c=0,f=r.l;r.l+=4;for(var d={r:t,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var g=-1,m=-1,v=h<<10;v<h+1<<10;++v){d.c=v;var w=Array.isArray(n)?(n[d.r]||[])[d.c]:n[jt(d)];w&&(g<0&&(g=v),m=v)}g<0||(++c,r.write_shift(4,g),r.write_shift(4,m))}var x=r.l;return r.l=f,r.write_shift(4,c),r.l=x,r.length>r.l?r.slice(0,r.l):r}function NK(t,e,n,r){var i=kK(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&Me(t,0,i)}var IK=gl,MK=Jc;function jK(){}function PK(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=WW(t),n}function LK(t,e,n){n==null&&(n=Se(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return yp({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),o4(t,n),n.slice(0,n.l)}function BK(t){var e=_i(t);return[e]}function FK(t,e,n){return n==null&&(n=Se(8)),dl(e,n)}function UK(t){var e=hl(t);return[e]}function HK(t,e,n){return n==null&&(n=Se(4)),pl(e,n)}function zK(t){var e=_i(t),n=t.read_shift(1);return[e,n,"b"]}function $K(t,e,n){return n==null&&(n=Se(9)),dl(e,n),n.write_shift(1,t.v?1:0),n}function VK(t){var e=hl(t),n=t.read_shift(1);return[e,n,"b"]}function qK(t,e,n){return n==null&&(n=Se(5)),pl(e,n),n.write_shift(1,t.v?1:0),n}function WK(t){var e=_i(t),n=t.read_shift(1);return[e,n,"e"]}function GK(t,e,n){return n==null&&(n=Se(9)),dl(e,n),n.write_shift(1,t.v),n}function YK(t){var e=hl(t),n=t.read_shift(1);return[e,n,"e"]}function XK(t,e,n){return n==null&&(n=Se(8)),pl(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function KK(t){var e=_i(t),n=t.read_shift(4);return[e,n,"s"]}function QK(t,e,n){return n==null&&(n=Se(12)),dl(e,n),n.write_shift(4,e.v),n}function ZK(t){var e=hl(t),n=t.read_shift(4);return[e,n,"s"]}function JK(t,e,n){return n==null&&(n=Se(8)),pl(e,n),n.write_shift(4,e.v),n}function eQ(t){var e=_i(t),n=eu(t);return[e,n,"n"]}function tQ(t,e,n){return n==null&&(n=Se(16)),dl(e,n),Zo(t.v,n),n}function nQ(t){var e=hl(t),n=eu(t);return[e,n,"n"]}function rQ(t,e,n){return n==null&&(n=Se(12)),pl(e,n),Zo(t.v,n),n}function iQ(t){var e=_i(t),n=l4(t);return[e,n,"n"]}function sQ(t,e,n){return n==null&&(n=Se(12)),dl(e,n),c4(t.v,n),n}function aQ(t){var e=hl(t),n=l4(t);return[e,n,"n"]}function oQ(t,e,n){return n==null&&(n=Se(8)),pl(e,n),c4(t.v,n),n}function lQ(t){var e=_i(t),n=R_(t);return[e,n,"is"]}function cQ(t){var e=_i(t),n=hr(t);return[e,n,"str"]}function uQ(t,e,n){return n==null&&(n=Se(12+4*t.v.length)),dl(e,n),Hn(t.v,n),n.length>n.l?n.slice(0,n.l):n}function fQ(t){var e=hl(t),n=hr(t);return[e,n,"str"]}function dQ(t,e,n){return n==null&&(n=Se(8+4*t.v.length)),pl(e,n),Hn(t.v,n),n.length>n.l?n.slice(0,n.l):n}function hQ(t,e,n){var r=t.l+e,i=_i(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(n.cellFormula){t.l+=2;var c=pg(t,r-t.l,n);a[3]=Lc(c,null,i,n.supbooks,n)}else t.l=r;return a}function pQ(t,e,n){var r=t.l+e,i=_i(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(n.cellFormula){t.l+=2;var c=pg(t,r-t.l,n);a[3]=Lc(c,null,i,n.supbooks,n)}else t.l=r;return a}function gQ(t,e,n){var r=t.l+e,i=_i(t);i.r=n["!row"];var s=eu(t),a=[i,s,"n"];if(n.cellFormula){t.l+=2;var c=pg(t,r-t.l,n);a[3]=Lc(c,null,i,n.supbooks,n)}else t.l=r;return a}function mQ(t,e,n){var r=t.l+e,i=_i(t);i.r=n["!row"];var s=hr(t),a=[i,s,"str"];if(n.cellFormula){t.l+=2;var c=pg(t,r-t.l,n);a[3]=Lc(c,null,i,n.supbooks,n)}else t.l=r;return a}var vQ=gl,yQ=Jc;function xQ(t,e){return e==null&&(e=Se(4)),e.write_shift(4,t),e}function _Q(t,e){var n=t.l+e,r=gl(t),i=D_(t),s=hr(t),a=hr(t),c=hr(t);t.l=n;var f={rfx:r,relId:i,loc:s,display:c};return a&&(f.Tooltip=a),f}function wQ(t,e){var n=Se(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Jc({s:Un(t[0]),e:Un(t[0])},n),O_("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Hn(i||"",n),Hn(t[1].Tooltip||"",n),Hn("",n),n.slice(0,n.l)}function bQ(){}function EQ(t,e,n){var r=t.l+e,i=u4(t),s=t.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var c=fK(t,r-t.l,n);a[1]=c}else t.l=r;return a}function SQ(t,e,n){var r=t.l+e,i=gl(t),s=[i];if(n.cellFormula){var a=hK(t,r-t.l,n);s[1]=a,t.l=r}else t.l=r;return s}function TQ(t,e,n){n==null&&(n=Se(18));var r=gg(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var G4=["left","right","top","bottom","header","footer"];function AQ(t){var e={};return G4.forEach(function(n){e[n]=eu(t)}),e}function CQ(t,e){return e==null&&(e=Se(6*8)),q4(t),G4.forEach(function(n){Zo(t[n],e)}),e}function RQ(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function DQ(t,e,n){n==null&&(n=Se(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function OQ(t){var e=Se(24);return e.write_shift(4,4),e.write_shift(4,1),Jc(t,e),e}function kQ(t,e){return e==null&&(e=Se(16*4+2)),e.write_shift(2,t.password?R4(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function NQ(){}function IQ(){}function MQ(t,e,n,r,i,s,a){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=jr(e),e.z=e.z||un[14],e.v=Mr(br(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var f={r:n,c:r};switch(f.s=Ja(i.cellXfs,e,i),e.l&&s["!links"].push([jt(f),e.l]),e.c&&s["!comments"].push([jt(f),e.c]),e.t){case"s":case"str":return i.bookSST?(c=P_(i.Strings,e.v,i.revStrings),f.t="s",f.v=c,a?Me(t,18,JK(e,f)):Me(t,7,QK(e,f))):(f.t="str",a?Me(t,17,dQ(e,f)):Me(t,6,uQ(e,f))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?Me(t,13,oQ(e,f)):Me(t,2,sQ(e,f)):a?Me(t,16,rQ(e,f)):Me(t,5,tQ(e,f)),!0;case"b":return f.t="b",a?Me(t,15,qK(e,f)):Me(t,4,$K(e,f)),!0;case"e":return f.t="e",a?Me(t,14,XK(e,f)):Me(t,3,GK(e,f)),!0}return a?Me(t,12,HK(e,f)):Me(t,1,FK(e,f)),!0}function jQ(t,e,n,r){var i=Kt(e["!ref"]||"A1"),s,a="",c=[];Me(t,145);var f=Array.isArray(e),d=i.e.r;e["!rows"]&&(d=Math.max(i.e.r,e["!rows"].length-1));for(var h=i.s.r;h<=d;++h){a=tr(h),NK(t,e,i,h);var g=!1;if(h<=i.e.r)for(var m=i.s.c;m<=i.e.c;++m){h===i.s.r&&(c[m]=dr(m)),s=c[m]+a;var v=f?(e[h]||[])[m]:e[s];if(!v){g=!1;continue}g=MQ(t,v,h,m,r,e,g)}}Me(t,146)}function PQ(t,e){!e||!e["!merges"]||(Me(t,177,xQ(e["!merges"].length)),e["!merges"].forEach(function(n){Me(t,176,yQ(n))}),Me(t,178))}function LQ(t,e){!e||!e["!cols"]||(Me(t,390),e["!cols"].forEach(function(n,r){n&&Me(t,60,TQ(r,n))}),Me(t,391))}function BQ(t,e){!e||!e["!ref"]||(Me(t,648),Me(t,649,OQ(Kt(e["!ref"]))),Me(t,650))}function FQ(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=It(n,-1,r[1].Target.replace(/#.*$/,""),bt.HLINK);Me(t,494,wQ(r,i))}}),delete e["!links"]}function UQ(t,e,n,r){if(e["!comments"].length>0){var i=It(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",bt.VML);Me(t,551,O_("rId"+i)),e["!legacy"]=i}}function HQ(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:An(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,c=ni(s);c.s.r==c.e.r&&(c.e.r=ni(e["!ref"]).e.r,s=An(c));for(var f=0;f<a.length;++f){var d=a[f];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+n.SheetNames[r]+"'!"+s;break}}f==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Me(t,161,Jc(Kt(s))),Me(t,162)}}function zQ(t,e,n){Me(t,133),Me(t,137,DQ(e,n)),Me(t,138),Me(t,134)}function $Q(t,e){e["!protect"]&&Me(t,535,kQ(e["!protect"]))}function VQ(t,e,n,r){var i=Ir(),s=n.SheetNames[t],a=n.Sheets[s]||{},c=s;try{n&&n.Workbook&&(c=n.Workbook.Sheets[t].CodeName||c)}catch{}var f=Kt(a["!ref"]||"A1");if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],Me(i,129),(n.vbaraw||a["!outline"])&&Me(i,147,LK(c,a["!outline"])),Me(i,148,MK(f)),zQ(i,a,n.Workbook),LQ(i,a),jQ(i,a,t,e),$Q(i,a),HQ(i,a,n,t),PQ(i,a),FQ(i,a,r),a["!margins"]&&Me(i,476,CQ(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&BQ(i,a),UQ(i,a,t,r),Me(i,130),i.end()}function qQ(t,e){t.l+=10;var n=hr(t);return{name:n}}var WQ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function GQ(t){return!t.Workbook||!t.Workbook.WBProps?"false":SW(t.Workbook.WBProps.date1904)?"true":"false"}var YQ="][*?/\\".split("");function Y4(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return YQ.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function XQ(t,e,n){t.forEach(function(r,i){Y4(r);for(var s=0;s<i;++s)if(r==t[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var a=e&&e[i]&&e[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function KQ(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];XQ(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)yK(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function X4(t){var e=[Cn];e[e.length]=Fe("workbook",null,{xmlns:Qc[0],"xmlns:r":Fn.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(WQ.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Fe("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Mt(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=Fe("sheet",null,a)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var f={name:c.Name};c.Comment&&(f.comment=c.Comment),c.Sheet!=null&&(f.localSheetId=""+c.Sheet),c.Hidden&&(f.hidden="1"),c.Ref&&(e[e.length]=Fe("definedName",Mt(c.Ref),f))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function QQ(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=W1(t),n.name=hr(t),n}function ZQ(t,e){return e||(e=Se(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),O_(t.strRelID,e),Hn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function JQ(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?hr(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function eZ(t,e){e||(e=Se(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),o4(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function tZ(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=GW(t),a=dK(t,0,n),c=D_(t);t.l=r;var f={Name:s,Ptg:a};return i<268435455&&(f.Sheet=i),c&&(f.Comment=c),f}function nZ(t,e){Me(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};Me(t,156,ZQ(i))}Me(t,144)}function rZ(t,e){e||(e=Se(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Hn("SheetJS",e),Hn(fp.version,e),Hn(fp.version,e),Hn("7262",e),e.length>e.l?e.slice(0,e.l):e}function iZ(t,e){e||(e=Se(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function sZ(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(Me(t,135),Me(t,158,iZ(i)),Me(t,136))}}function aZ(t,e){var n=Ir();return Me(n,131),Me(n,128,rZ()),Me(n,153,eZ(t.Workbook&&t.Workbook.WBProps||null)),sZ(n,t),nZ(n,t),Me(n,132),n.end()}function oZ(t,e,n){return(e.slice(-4)===".bin"?aZ:X4)(t)}function lZ(t,e,n,r,i){return(e.slice(-4)===".bin"?VQ:W4)(t,n,r,i)}function cZ(t,e,n){return(e.slice(-4)===".bin"?CY:k4)(t,n)}function uZ(t,e,n){return(e.slice(-4)===".bin"?eY:C4)(t,n)}function fZ(t,e,n){return(e.slice(-4)===".bin"?$Y:P4)(t)}function dZ(t){return(t.slice(-4)===".bin"?jY:M4)()}function hZ(t,e){var n=[];return t.Props&&n.push(cG(t.Props,e)),t.Custprops&&n.push(uG(t.Props,t.Custprops)),n.join("")}function pZ(){return""}function gZ(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(Fe("NumberFormat",null,{"ss:Format":Mt(un[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};n.push(Fe("Style",s.join(""),a))}),Fe("Styles",n.join(""))}function K4(t){return Fe("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+M_(t.Ref,{r:0,c:0})})}function mZ(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(K4(i)))}return Fe("Names",n.join(""))}function vZ(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var c=i[a];c.Sheet==n&&(c.Name.match(/^_xlfn\./)||s.push(K4(c)))}return s.join("")}function yZ(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Fe("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Fe("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Fe("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Fe("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(er("ProtectContents","True")),t["!protect"].objects&&i.push(er("ProtectObjects","True")),t["!protect"].scenarios&&i.push(er("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(er("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(er("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":Fe("WorksheetOptions",i.join(""),{xmlns:Kr.x})}function xZ(t){return t.map(function(e){var n=EW(e.t||""),r=Fe("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Fe("Comment",r,{"ss:Author":e.a})}).join("")}function _Z(t,e,n,r,i,s,a){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+Mt(M_(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var f=Un(t.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(f.r==a.r?"":"["+(f.r-a.r)+"]")+"C"+(f.c==a.c?"":"["+(f.c-a.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=Mt(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=Mt(t.l.Tooltip))),n["!merges"])for(var d=n["!merges"],h=0;h!=d.length;++h)d[h].s.c!=a.c||d[h].s.r!=a.r||(d[h].e.c>d[h].s.c&&(c["ss:MergeAcross"]=d[h].e.c-d[h].s.c),d[h].e.r>d[h].s.r&&(c["ss:MergeDown"]=d[h].e.r-d[h].s.r));var g="",m="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":g="Number",m=String(t.v);break;case"b":g="Boolean",m=t.v?"1":"0";break;case"e":g="Error",m=vd[t.v];break;case"d":g="DateTime",m=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||un[14]);break;case"s":g="String",m=bW(t.v||"");break}var v=Ja(r.cellXfs,t,r);c["ss:StyleID"]="s"+(21+v),c["ss:Index"]=a.c+1;var w=t.v!=null?m:"",x=t.t=="z"?"":'<Data ss:Type="'+g+'">'+w+"</Data>";return(t.c||[]).length>0&&(x+=xZ(t.c)),Fe("Cell",x,c)}function wZ(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=O4(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function bZ(t,e,n,r){if(!t["!ref"])return"";var i=Kt(t["!ref"]),s=t["!merges"]||[],a=0,c=[];t["!cols"]&&t["!cols"].forEach(function(b,S){N_(b);var T=!!b.width,A=gg(S,b),C={"ss:Index":S+1};T&&(C["ss:Width"]=_p(A.width)),b.hidden&&(C["ss:Hidden"]="1"),c.push(Fe("Column",null,C))});for(var f=Array.isArray(t),d=i.s.r;d<=i.e.r;++d){for(var h=[wZ(d,(t["!rows"]||[])[d])],g=i.s.c;g<=i.e.c;++g){var m=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>g)&&!(s[a].s.r>d)&&!(s[a].e.c<g)&&!(s[a].e.r<d)){(s[a].s.c!=g||s[a].s.r!=d)&&(m=!0);break}if(!m){var v={r:d,c:g},w=jt(v),x=f?(t[d]||[])[g]:t[w];h.push(_Z(x,w,t,e,n,r,v))}}h.push("</Row>"),h.length>2&&c.push(h.join(""))}return c.join("")}function EZ(t,e,n){var r=[],i=n.SheetNames[t],s=n.Sheets[i],a=s?vZ(s,e,t,n):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?bZ(s,e,t,n):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(yZ(s,e,t,n)),r.join("")}function SZ(t,e){e||(e={}),t.SSF||(t.SSF=jr(un)),t.SSF&&(ug(),cg(t.SSF),e.revssf=fg(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Ja(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(hZ(t,e)),n.push(pZ()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Fe("Worksheet",EZ(r,e,t),{"ss:Name":Mt(t.SheetNames[r])}));return n[2]=gZ(t,e),n[3]=mZ(t),Cn+Fe("Workbook",n.join(""),{xmlns:Kr.ss,"xmlns:o":Kr.o,"xmlns:x":Kr.x,"xmlns:ss":Kr.ss,"xmlns:dt":Kr.dt,"xmlns:html":Kr.html})}var wy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function TZ(t,e){var n=[],r=[],i=[],s=0,a,c=k2(V2,"n"),f=k2(q2,"n");if(t.Props)for(a=nr(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(c,a[s])?n:Object.prototype.hasOwnProperty.call(f,a[s])?r:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=nr(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(c,a[s])?n:Object.prototype.hasOwnProperty.call(f,a[s])?r:i).push([a[s],t.Custprops[a[s]]]);var d=[];for(s=0;s<i.length;++s)_4.indexOf(i[s][0])>-1||v4.indexOf(i[s][0])>-1||i[s][1]!=null&&d.push(i[s]);r.length&&Ut.utils.cfb_add(e,"/SummaryInformation",K2(r,wy.SI,f,q2)),(n.length||d.length)&&Ut.utils.cfb_add(e,"/DocumentSummaryInformation",K2(n,wy.DSI,c,V2,d.length?d:null,wy.UDI))}function AZ(t,e){var n=e||{},r=Ut.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Ut.utils.cfb_add(r,i,Q4(t,n)),n.biff==8&&(t.Props||t.Custprops)&&TZ(t,r),n.biff==8&&t.vbaraw&&VY(r,Ut.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var CZ={0:{f:OK},1:{f:BK},2:{f:iQ},3:{f:WK},4:{f:zK},5:{f:eQ},6:{f:cQ},7:{f:KK},8:{f:mQ},9:{f:gQ},10:{f:hQ},11:{f:pQ},12:{f:UK},13:{f:aQ},14:{f:YK},15:{f:VK},16:{f:nQ},17:{f:fQ},18:{f:ZK},19:{f:R_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:tZ},40:{},42:{},43:{f:cY},44:{f:oY},45:{f:dY},46:{f:pY},47:{f:hY},48:{},49:{f:UW},50:{},51:{f:OY},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:HG},62:{f:lQ},63:{f:PY},64:{f:NQ},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ds,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:RQ},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:PK},148:{f:IK,p:16},151:{f:bQ},152:{},153:{f:JQ},154:{},155:{},156:{f:QQ},157:{},158:{},159:{T:1,f:QG},160:{T:-1},161:{T:1,f:gl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:vQ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:RY},336:{T:-1},337:{f:IY,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:W1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:jG},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:EQ},427:{f:SQ},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:AQ},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:jK},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:_Q},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:W1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:HY},633:{T:1},634:{T:-1},635:{T:1,f:FY},636:{T:-1},637:{f:VW},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:qQ},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:IQ},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ue(t,e,n,r){var i=e;if(!isNaN(i)){var s=r||(n||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&T_(n)&&t.push(n)}}function RZ(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return Ue(t,e,n,i);var s=e;if(!isNaN(s)){for(var a=n.parts||[],c=0,f=0,d=0;d+(a[c]||8224)<=8224;)d+=a[c]||8224,c++;var h=t.next(4);for(h.write_shift(2,s),h.write_shift(2,d),t.push(n.slice(f,f+d)),f+=d;f<i;){for(h=t.next(4),h.write_shift(2,60),d=0;d+(a[c]||8224)<=8224;)d+=a[c]||8224,c++;h.write_shift(2,d),t.push(n.slice(f,f+d)),f+=d}}}function xd(t,e,n){return t||(t=Se(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function DZ(t,e,n,r){var i=Se(9);return xd(i,t,e),b4(n,r||"b",i),i}function OZ(t,e,n){var r=Se(8+2*n.length);return xd(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function kZ(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Mr(br(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Ue(t,2,qG(n,r,i)):Ue(t,3,VG(n,r,i));return;case"b":case"e":Ue(t,5,DZ(n,r,e.v,e.t));return;case"s":case"str":Ue(t,4,OZ(n,r,(e.v||"").slice(0,255)));return}Ue(t,1,xd(null,n,r))}function NZ(t,e,n,r){var i=Array.isArray(e),s=Kt(e["!ref"]||"A1"),a,c="",f=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=An(s)}for(var d=s.s.r;d<=s.e.r;++d){c=tr(d);for(var h=s.s.c;h<=s.e.c;++h){d===s.s.r&&(f[h]=dr(h)),a=f[h]+c;var g=i?(e[d]||[])[h]:e[a];g&&kZ(t,g,d,h)}}}function IZ(t,e){for(var n=e||{},r=Ir(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Ue(r,n.biff==4?1033:n.biff==3?521:9,k_(t,16,n)),NZ(r,t.Sheets[t.SheetNames[i]],i,n),Ue(r,10),r.end()}function MZ(t,e,n){Ue(t,49,CG({sz:12,name:"Arial"},n))}function jZ(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Ue(t,1054,OG(i,e[i],n))})}function PZ(t,e){var n=Se(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Ue(t,2151,n),n=Se(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),T4(Kt(e["!ref"]||"A1"),n),n.write_shift(4,4),Ue(t,2152,n)}function LZ(t,e){for(var n=0;n<16;++n)Ue(t,224,Z2({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Ue(t,224,Z2(r,0,e))})}function BZ(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];Ue(t,440,BG(r)),r[1].Tooltip&&Ue(t,2048,FG(r))}delete e["!links"]}function FZ(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&Ue(t,125,zG(gg(i,r),i))})}}function UZ(t,e,n,r,i){var s=16+Ja(i.cellXfs,e,i);if(e.v==null&&!e.bf){Ue(t,513,Jo(n,r,s));return}if(e.bf)Ue(t,6,uK(e,n,r,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?Mr(br(e.v)):e.v;Ue(t,515,MG(n,r,a,s));break;case"b":case"e":Ue(t,517,IG(n,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var c=P_(i.Strings,e.v,i.revStrings);Ue(t,253,RG(n,r,c,s))}else Ue(t,516,DG(n,r,(e.v||"").slice(0,255),s,i));break;default:Ue(t,513,Jo(n,r,s))}}function HZ(t,e,n){var r=Ir(),i=n.SheetNames[t],s=n.Sheets[i]||{},a=(n||{}).Workbook||{},c=(a.Sheets||[])[t]||{},f=Array.isArray(s),d=e.biff==8,h,g="",m=[],v=Kt(s["!ref"]||"A1"),w=d?65536:16384;if(v.e.c>255||v.e.r>=w){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,w-1)}Ue(r,2057,k_(n,16,e)),Ue(r,13,vi(1)),Ue(r,12,vi(100)),Ue(r,15,xr(!0)),Ue(r,17,xr(!1)),Ue(r,16,Zo(.001)),Ue(r,95,xr(!0)),Ue(r,42,xr(!1)),Ue(r,43,xr(!1)),Ue(r,130,vi(1)),Ue(r,128,NG()),Ue(r,131,xr(!1)),Ue(r,132,xr(!1)),d&&FZ(r,s["!cols"]),Ue(r,512,kG(v,e)),d&&(s["!links"]=[]);for(var x=v.s.r;x<=v.e.r;++x){g=tr(x);for(var b=v.s.c;b<=v.e.c;++b){x===v.s.r&&(m[b]=dr(b)),h=m[b]+g;var S=f?(s[x]||[])[b]:s[h];S&&(UZ(r,S,x,b,e),d&&S.l&&s["!links"].push([h,S.l]))}}var T=c.CodeName||c.name||i;return d&&Ue(r,574,AG((a.Views||[])[0])),d&&(s["!merges"]||[]).length&&Ue(r,229,LG(s["!merges"])),d&&BZ(r,s),Ue(r,442,S4(T)),d&&PZ(r,s),Ue(r,10),r.end()}function zZ(t,e,n){var r=Ir(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},c=n.biff==8,f=n.biff==5;if(Ue(r,2057,k_(t,5,n)),n.bookType=="xla"&&Ue(r,135),Ue(r,225,c?vi(1200):null),Ue(r,193,hG(2)),f&&Ue(r,191),f&&Ue(r,192),Ue(r,226),Ue(r,92,bG("SheetJS",n)),Ue(r,66,vi(c?1200:1252)),c&&Ue(r,353,vi(0)),c&&Ue(r,448),Ue(r,317,$G(t.SheetNames.length)),c&&t.vbaraw&&Ue(r,211),c&&t.vbaraw){var d=a.CodeName||"ThisWorkbook";Ue(r,442,S4(d))}Ue(r,156,vi(17)),Ue(r,25,xr(!1)),Ue(r,18,xr(!1)),Ue(r,19,vi(0)),c&&Ue(r,431,xr(!1)),c&&Ue(r,444,vi(0)),Ue(r,61,TG()),Ue(r,64,xr(!1)),Ue(r,141,vi(0)),Ue(r,34,xr(GQ(t)=="true")),Ue(r,14,xr(!0)),c&&Ue(r,439,xr(!1)),Ue(r,218,vi(0)),MZ(r,t,n),jZ(r,t.SSF,n),LZ(r,n),c&&Ue(r,352,xr(!1));var h=r.end(),g=Ir();c&&Ue(g,140,UG()),c&&n.Strings&&RZ(g,252,SG(n.Strings)),Ue(g,10);var m=g.end(),v=Ir(),w=0,x=0;for(x=0;x<t.SheetNames.length;++x)w+=(c?12:11)+(c?2:1)*t.SheetNames[x].length;var b=h.length+w+m.length;for(x=0;x<t.SheetNames.length;++x){var S=s[x]||{};Ue(v,133,EG({pos:b,hs:S.Hidden||0,dt:0,name:t.SheetNames[x]},n)),b+=e[x].length}var T=v.end();if(w!=T.length)throw new Error("BS8 "+w+" != "+T.length);var A=[];return h.length&&A.push(h),T.length&&A.push(T),m.length&&A.push(m),Jn(A)}function $Z(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=jr(un)),t&&t.SSF&&(ug(),cg(t.SSF),n.revssf=fg(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,L_(n),n.cellXfs=[],Ja(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=HZ(i,n,t);return r.unshift(zZ(t,r,n)),Jn(r)}function Q4(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=ni(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return $Z(t,e);case 4:case 3:case 2:return IZ(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function VZ(t,e,n,r){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var c=0,f=0,d=0;d<i.length;++d)if(!(i[d].s.r>n||i[d].s.c>a)&&!(i[d].e.r<n||i[d].e.c<a)){if(i[d].s.r<n||i[d].s.c<a){c=-1;break}c=i[d].e.r-i[d].s.r+1,f=i[d].e.c-i[d].s.c+1;break}if(!(c<0)){var h=jt({r:n,c:a}),g=r.dense?(t[n]||[])[a]:t[h],m=g&&g.v!=null&&(g.h||wW(g.w||(qs(g),g.w)||""))||"",v={};c>1&&(v.rowspan=c),f>1&&(v.colspan=f),r.editable?m='<span contenteditable="true">'+m+"</span>":g&&(v["data-t"]=g&&g.t||"z",g.v!=null&&(v["data-v"]=g.v),g.z!=null&&(v["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+g.l.Target+'">'+m+"</a>")),v.id=(r.id||"sjs")+"-"+h,s.push(Fe("td",m,v))}}var w="<tr>";return w+s.join("")+"</tr>"}var qZ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',WZ="</body></html>";function GZ(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function Z4(t,e){var n=e||{},r=n.header!=null?n.header:qZ,i=n.footer!=null?n.footer:WZ,s=[r],a=ni(t["!ref"]);n.dense=Array.isArray(t),s.push(GZ(t,a,n));for(var c=a.s.r;c<=a.e.r;++c)s.push(VZ(t,a,c,n));return s.push("</table>"+i),s.join("")}function J4(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?Un(r.origin):r.origin;i=a.r,s=a.c}var c=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var h=ni(t["!ref"]);d.s.r=Math.min(d.s.r,h.s.r),d.s.c=Math.min(d.s.c,h.s.c),d.e.r=Math.max(d.e.r,h.e.r),d.e.c=Math.max(d.e.c,h.e.c),i==-1&&(d.e.r=i=h.e.r+1)}var g=[],m=0,v=t["!rows"]||(t["!rows"]=[]),w=0,x=0,b=0,S=0,T=0,A=0;for(t["!cols"]||(t["!cols"]=[]);w<c.length&&x<f;++w){var C=c[w];if(sC(C)){if(r.display)continue;v[x]={hidden:!0}}var P=C.children;for(b=S=0;b<P.length;++b){var V=P[b];if(!(r.display&&sC(V))){var I=V.hasAttribute("data-v")?V.getAttribute("data-v"):V.hasAttribute("v")?V.getAttribute("v"):TW(V.innerHTML),j=V.getAttribute("data-z")||V.getAttribute("z");for(m=0;m<g.length;++m){var L=g[m];L.s.c==S+s&&L.s.r<x+i&&x+i<=L.e.r&&(S=L.e.c+1-s,m=-1)}A=+V.getAttribute("colspan")||1,((T=+V.getAttribute("rowspan")||1)>1||A>1)&&g.push({s:{r:x+i,c:S+s},e:{r:x+i+(T||1)-1,c:S+s+(A||1)-1}});var K={t:"s",v:I},te=V.getAttribute("data-t")||V.getAttribute("t")||"";I!=null&&(I.length==0?K.t=te||"z":r.raw||I.trim().length==0||te=="s"||(I==="TRUE"?K={t:"b",v:!0}:I==="FALSE"?K={t:"b",v:!1}:isNaN(Fs(I))?isNaN(Uf(I).getDate())||(K={t:"d",v:br(I)},r.cellDates||(K={t:"n",v:Mr(K.v)}),K.z=r.dateNF||un[14]):K={t:"n",v:Fs(I)})),K.z===void 0&&j!=null&&(K.z=j);var X="",ce=V.getElementsByTagName("A");if(ce&&ce.length)for(var N=0;N<ce.length&&!(ce[N].hasAttribute("href")&&(X=ce[N].getAttribute("href"),X.charAt(0)!="#"));++N);X&&X.charAt(0)!="#"&&(K.l={Target:X}),r.dense?(t[x+i]||(t[x+i]=[]),t[x+i][S+s]=K):t[jt({c:S+s,r:x+i})]=K,d.e.c<S+s&&(d.e.c=S+s),S+=A}}++x}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),d.e.r=Math.max(d.e.r,x-1+i),t["!ref"]=An(d),x>=f&&(t["!fullref"]=An((d.e.r=c.length-w+x-1+i,d))),t}function eI(t,e){var n=e||{},r=n.dense?[]:{};return J4(r,t,e)}function YZ(t,e){return fl(eI(t,e),e)}function sC(t){var e="",n=XZ(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function XZ(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var KZ=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+zf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Cn+e}}(),aC=function(){var t=function(s){return Mt(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,a,c){var f=[];f.push('      <table:table table:name="'+Mt(a.SheetNames[c])+`" table:style-name="ta1">
`);var d=0,h=0,g=ni(s["!ref"]||"A1"),m=s["!merges"]||[],v=0,w=Array.isArray(s);if(s["!cols"])for(h=0;h<=g.e.c;++h)f.push("        <table:table-column"+(s["!cols"][h]?' table:style-name="co'+s["!cols"][h].ods+'"':"")+`></table:table-column>
`);var x="",b=s["!rows"]||[];for(d=0;d<g.s.r;++d)x=b[d]?' table:style-name="ro'+b[d].ods+'"':"",f.push("        <table:table-row"+x+`></table:table-row>
`);for(;d<=g.e.r;++d){for(x=b[d]?' table:style-name="ro'+b[d].ods+'"':"",f.push("        <table:table-row"+x+`>
`),h=0;h<g.s.c;++h)f.push(e);for(;h<=g.e.c;++h){var S=!1,T={},A="";for(v=0;v!=m.length;++v)if(!(m[v].s.c>h)&&!(m[v].s.r>d)&&!(m[v].e.c<h)&&!(m[v].e.r<d)){(m[v].s.c!=h||m[v].s.r!=d)&&(S=!0),T["table:number-columns-spanned"]=m[v].e.c-m[v].s.c+1,T["table:number-rows-spanned"]=m[v].e.r-m[v].s.r+1;break}if(S){f.push(n);continue}var C=jt({r:d,c:h}),P=w?(s[d]||[])[h]:s[C];if(P&&P.f&&(T["table:formula"]=Mt(mK(P.f)),P.F&&P.F.slice(0,C.length)==C)){var V=ni(P.F);T["table:number-matrix-columns-spanned"]=V.e.c-V.s.c+1,T["table:number-matrix-rows-spanned"]=V.e.r-V.s.r+1}if(!P){f.push(e);continue}switch(P.t){case"b":A=P.v?"TRUE":"FALSE",T["office:value-type"]="boolean",T["office:boolean-value"]=P.v?"true":"false";break;case"n":A=P.w||String(P.v||0),T["office:value-type"]="float",T["office:value"]=P.v||0;break;case"s":case"str":A=P.v==null?"":P.v,T["office:value-type"]="string";break;case"d":A=P.w||br(P.v).toISOString(),T["office:value-type"]="date",T["office:date-value"]=br(P.v).toISOString(),T["table:style-name"]="ce1";break;default:f.push(e);continue}var I=t(A);if(P.l&&P.l.Target){var j=P.l.Target;j=j.charAt(0)=="#"?"#"+vK(j.slice(1)):j,j.charAt(0)!="#"&&!j.match(/^\w+:/)&&(j="../"+j),I=Fe("text:a",I,{"xlink:href":j.replace(/&/g,"&amp;")})}f.push("          "+Fe("table:table-cell",Fe("text:p",I,{}),T)+`
`)}f.push(`        </table:table-row>
`)}return f.push(`      </table:table>
`),f.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var c=0;a.SheetNames.map(function(d){return a.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var h=0;h<d["!cols"].length;++h)if(d["!cols"][h]){var g=d["!cols"][h];if(g.width==null&&g.wpx==null&&g.wch==null)continue;N_(g),g.ods=c;var m=d["!cols"][h].wpx+"px";s.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),s.push(`  </style:style>
`),++c}}});var f=0;a.SheetNames.map(function(d){return a.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var h=0;h<d["!rows"].length;++h)if(d["!rows"][h]){d["!rows"][h].ods=f;var g=d["!rows"][h].hpx+"px";s.push('  <style:style style:name="ro'+f+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),s.push(`  </style:style>
`),++f}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,c){var f=[Cn],d=zf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=zf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(f.push("<office:document"+d+h+`>
`),f.push(g4().replace(/office:document-meta/g,"office:meta"))):f.push("<office:document-content"+d+`>
`),i(f,a),f.push(`  <office:body>
`),f.push(`    <office:spreadsheet>
`);for(var g=0;g!=a.SheetNames.length;++g)f.push(r(a.Sheets[a.SheetNames[g]],a,g));return f.push(`    </office:spreadsheet>
`),f.push(`  </office:body>
`),c.bookType=="fods"?f.push("</office:document>"):f.push("</office:document-content>"),f.join("")}}();function tI(t,e){if(e.bookType=="fods")return aC(t,e);var n=w_(),r="",i=[],s=[];return r="mimetype",ct(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",ct(n,r,aC(t,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",ct(n,r,KZ(t,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",ct(n,r,Cn+g4()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",ct(n,r,lG(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",ct(n,r,aG(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ep(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function QZ(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):ji(Hf(t))}function ZZ(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function Ga(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function JZ(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=n>=0?0:128}function $f(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Nt(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Ac(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function kn(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=$f(t,n),s=i&7;i=Math.floor(i/8);var a=0,c;if(i==0)break;switch(s){case 0:{for(var f=n[0];t[n[0]++]>=128;);c=t.slice(f,n[0])}break;case 5:a=4,c=t.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,c=t.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=$f(t,n),c=t.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var d={data:c,type:s};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function Kn(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(Nt(r*8+i.type)),i.type==2&&e.push(Nt(i.data.length)),e.push(i.data))})}),Ga(e)}function Di(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=$f(t,r),s=kn(t.slice(r[0],r[0]+i));r[0]+=i;var a={id:Ac(s[1][0].data),messages:[]};s[2].forEach(function(c){var f=kn(c.data),d=Ac(f[3][0].data);a.messages.push({meta:f,data:t.slice(r[0],r[0]+d)}),r[0]+=d}),(e=s[3])!=null&&e[0]&&(a.merge=Ac(s[3][0].data)>>>0>0),n.push(a)}return n}function ic(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:Nt(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Nt(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:Nt(a.data.length)}],r[2].push({data:Kn(a.meta),type:2})});var s=Kn(r);e.push(Nt(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Ga(e)}function eJ(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=$f(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var a=e[n[0]++]>>2;if(a<60)++a;else{var c=a-59;a=e[n[0]],c>1&&(a|=e[n[0]+1]<<8),c>2&&(a|=e[n[0]+2]<<16),c>3&&(a|=e[n[0]+3]<<24),a>>>=0,a++,n[0]+=c}i.push(e.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var f=0,d=0;if(s==1?(d=(e[n[0]]>>2&7)+4,f=(e[n[0]++]&224)<<3,f|=e[n[0]++]):(d=(e[n[0]++]>>2)+1,s==2?(f=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(f=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Ga(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(d>=f)for(i.push(i[0].slice(-f)),d-=f;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-f,-f+d))}}var h=Ga(i);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function Oi(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(eJ(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Ga(e)}function sc(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var s=Nt(r),a=s.length;e.push(s),r<=60?(a++,e.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,n+=r}return Ga(e)}function by(t,e){var n=new Uint8Array(32),r=Ep(n),i=12,s=0;switch(n[0]=5,t.t){case"n":n[1]=2,JZ(n,i,t.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,s,!0),n.slice(0,i)}function Ey(t,e){var n=new Uint8Array(32),r=Ep(n),i=12,s=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,s,!0),n.slice(0,i)}function wa(t){var e=kn(t);return $f(e[1][0].data)}function tJ(t,e,n){var r,i,s,a;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&Ac(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var f=0,d=Ep(t[7][0].data),h=0,g=[],m=Ep(t[4][0].data),v=0,w=[],x=0;x<e.length;++x){if(e[x]==null){d.setUint16(x*2,65535,!0),m.setUint16(x*2,65535);continue}d.setUint16(x*2,h,!0),m.setUint16(x*2,v,!0);var b,S;switch(typeof e[x]){case"string":b=by({t:"s",v:e[x]},n),S=Ey({t:"s",v:e[x]},n);break;case"number":b=by({t:"n",v:e[x]},n),S=Ey({t:"n",v:e[x]},n);break;case"boolean":b=by({t:"b",v:e[x]},n),S=Ey({t:"b",v:e[x]},n);break;default:throw new Error("Unsupported value "+e[x])}g.push(b),h+=b.length,w.push(S),v+=S.length,++f}for(t[2][0].data=Nt(f);x<t[7][0].data.length/2;++x)d.setUint16(x*2,65535,!0),m.setUint16(x*2,65535,!0);return t[6][0].data=Ga(g),t[3][0].data=Ga(w),f}function nJ(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=ni(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(An(r)));var s=Sp(n,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach(function(q){return q.forEach(function(z){typeof z=="string"&&a.push(z)})});var c={},f=[],d=Ut.read(e.numbers,{type:"base64"});d.FileIndex.map(function(q,z){return[q,d.FullPaths[z]]}).forEach(function(q){var z=q[0],F=q[1];if(z.type==2&&z.name.match(/\.iwa/)){var se=z.content,be=Oi(se),ke=Di(be);ke.forEach(function(Ne){f.push(Ne.id),c[Ne.id]={deps:[],location:F,type:Ac(Ne.messages[0].meta[1][0].data)}})}}),f.sort(function(q,z){return q-z});var h=f.filter(function(q){return q>1}).map(function(q){return[q,Nt(q)]});d.FileIndex.map(function(q,z){return[q,d.FullPaths[z]]}).forEach(function(q){var z=q[0];if(q[1],!!z.name.match(/\.iwa/)){var F=Di(Oi(z.content));F.forEach(function(se){se.messages.forEach(function(be){h.forEach(function(ke){se.messages.some(function(Ne){return Ac(Ne.meta[1][0].data)!=11006&&ZZ(Ne.data,ke[1])})&&c[ke[0]].deps.push(se.id)})})})}});for(var g=Ut.find(d,c[1].location),m=Di(Oi(g.content)),v,w=0;w<m.length;++w){var x=m[w];x.id==1&&(v=x)}var b=wa(kn(v.messages[0].data)[1][0].data);for(g=Ut.find(d,c[b].location),m=Di(Oi(g.content)),w=0;w<m.length;++w)x=m[w],x.id==b&&(v=x);for(b=wa(kn(v.messages[0].data)[2][0].data),g=Ut.find(d,c[b].location),m=Di(Oi(g.content)),w=0;w<m.length;++w)x=m[w],x.id==b&&(v=x);for(b=wa(kn(v.messages[0].data)[2][0].data),g=Ut.find(d,c[b].location),m=Di(Oi(g.content)),w=0;w<m.length;++w)x=m[w],x.id==b&&(v=x);var S=kn(v.messages[0].data);{S[6][0].data=Nt(r.e.r+1),S[7][0].data=Nt(r.e.c+1);var T=wa(S[46][0].data),A=Ut.find(d,c[T].location),C=Di(Oi(A.content));{for(var P=0;P<C.length&&C[P].id!=T;++P);if(C[P].id!=T)throw"Bad ColumnRowUIDMapArchive";var V=kn(C[P].messages[0].data);V[1]=[],V[2]=[],V[3]=[];for(var I=0;I<=r.e.c;++I){var j=[];j[1]=j[2]=[{type:0,data:Nt(I+420690)}],V[1].push({type:2,data:Kn(j)}),V[2].push({type:0,data:Nt(I)}),V[3].push({type:0,data:Nt(I)})}V[4]=[],V[5]=[],V[6]=[];for(var L=0;L<=r.e.r;++L)j=[],j[1]=j[2]=[{type:0,data:Nt(L+726270)}],V[4].push({type:2,data:Kn(j)}),V[5].push({type:0,data:Nt(L)}),V[6].push({type:0,data:Nt(L)});C[P].messages[0].data=Kn(V)}A.content=sc(ic(C)),A.size=A.content.length,delete S[46];var K=kn(S[4][0].data);{K[7][0].data=Nt(r.e.r+1);var te=kn(K[1][0].data),X=wa(te[2][0].data);A=Ut.find(d,c[X].location),C=Di(Oi(A.content));{if(C[0].id!=X)throw"Bad HeaderStorageBucket";var ce=kn(C[0].messages[0].data);for(L=0;L<s.length;++L){var N=kn(ce[2][0].data);N[1][0].data=Nt(L),N[4][0].data=Nt(s[L].length),ce[2][L]={type:ce[2][0].type,data:Kn(N)}}C[0].messages[0].data=Kn(ce)}A.content=sc(ic(C)),A.size=A.content.length;var ee=wa(K[2][0].data);A=Ut.find(d,c[ee].location),C=Di(Oi(A.content));{if(C[0].id!=ee)throw"Bad HeaderStorageBucket";for(ce=kn(C[0].messages[0].data),I=0;I<=r.e.c;++I)N=kn(ce[2][0].data),N[1][0].data=Nt(I),N[4][0].data=Nt(r.e.r+1),ce[2][I]={type:ce[2][0].type,data:Kn(N)};C[0].messages[0].data=Kn(ce)}A.content=sc(ic(C)),A.size=A.content.length;var B=wa(K[4][0].data);(function(){for(var q=Ut.find(d,c[B].location),z=Di(Oi(q.content)),F,se=0;se<z.length;++se){var be=z[se];be.id==B&&(F=be)}var ke=kn(F.messages[0].data);{ke[3]=[];var Ne=[];a.forEach(function(J,Ae){Ne[1]=[{type:0,data:Nt(Ae)}],Ne[2]=[{type:0,data:Nt(1)}],Ne[3]=[{type:2,data:QZ(J)}],ke[3].push({type:2,data:Kn(Ne)})})}F.messages[0].data=Kn(ke);var Ce=ic(z),xe=sc(Ce);q.content=xe,q.size=q.content.length})();var re=kn(K[3][0].data);{var le=re[1][0];delete re[2];var ie=kn(le.data);{var Q=wa(ie[2][0].data);(function(){for(var q=Ut.find(d,c[Q].location),z=Di(Oi(q.content)),F,se=0;se<z.length;++se){var be=z[se];be.id==Q&&(F=be)}var ke=kn(F.messages[0].data);{delete ke[6],delete re[7];var Ne=new Uint8Array(ke[5][0].data);ke[5]=[];for(var Ce=0,xe=0;xe<=r.e.r;++xe){var J=kn(Ne);Ce+=tJ(J,s[xe],a),J[1][0].data=Nt(xe),ke[5].push({data:Kn(J),type:2})}ke[1]=[{type:0,data:Nt(r.e.c+1)}],ke[2]=[{type:0,data:Nt(r.e.r+1)}],ke[3]=[{type:0,data:Nt(Ce)}],ke[4]=[{type:0,data:Nt(r.e.r+1)}]}F.messages[0].data=Kn(ke);var Ae=ic(z),Pe=sc(Ae);q.content=Pe,q.size=q.content.length})()}le.data=Kn(ie)}K[3][0].data=Kn(re)}S[4][0].data=Kn(K)}v.messages[0].data=Kn(S);var ae=ic(m),D=sc(ae);return g.content=D,g.size=g.content.length,d}function rJ(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function L_(t){rJ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function iJ(t,e){return e.bookType=="ods"?tI(t,e):e.bookType=="numbers"?nJ(t,e):e.bookType=="xlsb"?sJ(t,e):aJ(t,e)}function sJ(t,e){mc=1024,t&&!t.SSF&&(t.SSF=jr(un)),t&&t.SSF&&(ug(),cg(t.SSF),e.revssf=fg(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Rf?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=L4.indexOf(e.bookType)>-1,i=d4();L_(e=e||{});var s=w_(),a="",c=0;if(e.cellXfs=[],Ja(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",ct(s,a,m4(t.Props,e)),i.coreprops.push(a),It(e.rels,2,a,bt.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var f=[],d=0;d<t.SheetNames.length;++d)(t.Workbook.Sheets[d]||{}).Hidden!=2&&f.push(t.SheetNames[d]);t.Props.SheetNames=f}for(t.Props.Worksheets=t.Props.SheetNames.length,ct(s,a,y4(t.Props)),i.extprops.push(a),It(e.rels,3,a,bt.EXT_PROPS),t.Custprops!==t.Props&&nr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",ct(s,a,x4(t.Custprops)),i.custprops.push(a),It(e.rels,4,a,bt.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var h={"!id":{}},g=t.Sheets[t.SheetNames[c-1]],m=(g||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+c+"."+n,ct(s,a,lZ(c-1,a,e,t,h)),i.sheets.push(a),It(e.wbrels,-1,"worksheets/sheet"+c+"."+n,bt.WS[0])}if(g){var v=g["!comments"],w=!1,x="";v&&v.length>0&&(x="xl/comments"+c+"."+n,ct(s,x,fZ(v,x)),i.comments.push(x),It(h,-1,"../comments"+c+"."+n,bt.CMNT),w=!0),g["!legacy"]&&w&&ct(s,"xl/drawings/vmlDrawing"+c+".vml",j4(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}h["!id"].rId1&&ct(s,p4(a),Sc(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,ct(s,a,uZ(e.Strings,a,e)),i.strs.push(a),It(e.wbrels,-1,"sharedStrings."+n,bt.SST)),a="xl/workbook."+n,ct(s,a,oZ(t,a)),i.workbooks.push(a),It(e.rels,1,a,bt.WB),a="xl/theme/theme1.xml",ct(s,a,I4(t.Themes,e)),i.themes.push(a),It(e.wbrels,-1,"theme/theme1.xml",bt.THEME),a="xl/styles."+n,ct(s,a,cZ(t,a,e)),i.styles.push(a),It(e.wbrels,-1,"styles."+n,bt.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",ct(s,a,t.vbaraw),i.vba.push(a),It(e.wbrels,-1,"vbaProject.bin",bt.VBA)),a="xl/metadata."+n,ct(s,a,dZ(a)),i.metadata.push(a),It(e.wbrels,-1,"metadata."+n,bt.XLMETA),ct(s,"[Content_Types].xml",h4(i,e)),ct(s,"_rels/.rels",Sc(e.rels)),ct(s,"xl/_rels/workbook."+n+".rels",Sc(e.wbrels)),delete e.revssf,delete e.ssf,s}function aJ(t,e){mc=1024,t&&!t.SSF&&(t.SSF=jr(un)),t&&t.SSF&&(ug(),cg(t.SSF),e.revssf=fg(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Rf?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=L4.indexOf(e.bookType)>-1,i=d4();L_(e=e||{});var s=w_(),a="",c=0;if(e.cellXfs=[],Ja(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",ct(s,a,m4(t.Props,e)),i.coreprops.push(a),It(e.rels,2,a,bt.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var f=[],d=0;d<t.SheetNames.length;++d)(t.Workbook.Sheets[d]||{}).Hidden!=2&&f.push(t.SheetNames[d]);t.Props.SheetNames=f}t.Props.Worksheets=t.Props.SheetNames.length,ct(s,a,y4(t.Props)),i.extprops.push(a),It(e.rels,3,a,bt.EXT_PROPS),t.Custprops!==t.Props&&nr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",ct(s,a,x4(t.Custprops)),i.custprops.push(a),It(e.rels,4,a,bt.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,c=1;c<=t.SheetNames.length;++c){var g={"!id":{}},m=t.Sheets[t.SheetNames[c-1]],v=(m||{})["!type"]||"sheet";switch(v){case"chart":default:a="xl/worksheets/sheet"+c+"."+n,ct(s,a,W4(c-1,e,t,g)),i.sheets.push(a),It(e.wbrels,-1,"worksheets/sheet"+c+"."+n,bt.WS[0])}if(m){var w=m["!comments"],x=!1,b="";if(w&&w.length>0){var S=!1;w.forEach(function(T){T[1].forEach(function(A){A.T==!0&&(S=!0)})}),S&&(b="xl/threadedComments/threadedComment"+c+"."+n,ct(s,b,LY(w,h,e)),i.threadedcomments.push(b),It(g,-1,"../threadedComments/threadedComment"+c+"."+n,bt.TCMNT)),b="xl/comments"+c+"."+n,ct(s,b,P4(w)),i.comments.push(b),It(g,-1,"../comments"+c+"."+n,bt.CMNT),x=!0}m["!legacy"]&&x&&ct(s,"xl/drawings/vmlDrawing"+c+".vml",j4(c,m["!comments"])),delete m["!comments"],delete m["!legacy"]}g["!id"].rId1&&ct(s,p4(a),Sc(g))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,ct(s,a,C4(e.Strings,e)),i.strs.push(a),It(e.wbrels,-1,"sharedStrings."+n,bt.SST)),a="xl/workbook."+n,ct(s,a,X4(t)),i.workbooks.push(a),It(e.rels,1,a,bt.WB),a="xl/theme/theme1.xml",ct(s,a,I4(t.Themes,e)),i.themes.push(a),It(e.wbrels,-1,"theme/theme1.xml",bt.THEME),a="xl/styles."+n,ct(s,a,k4(t,e)),i.styles.push(a),It(e.wbrels,-1,"styles."+n,bt.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",ct(s,a,t.vbaraw),i.vba.push(a),It(e.wbrels,-1,"vbaProject.bin",bt.VBA)),a="xl/metadata."+n,ct(s,a,M4()),i.metadata.push(a),It(e.wbrels,-1,"metadata."+n,bt.XLMETA),h.length>1&&(a="xl/persons/person.xml",ct(s,a,BY(h)),i.people.push(a),It(e.wbrels,-1,"persons/person.xml",bt.PEOPLE)),ct(s,"[Content_Types].xml",h4(i,e)),ct(s,"_rels/.rels",Sc(e.rels)),ct(s,"xl/_rels/workbook."+n+".rels",Sc(e.wbrels)),delete e.revssf,delete e.ssf,s}function oJ(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Vs(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function nI(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return gd(e.file,Ut.write(t,{type:Tt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Ut.write(t,e)}function lJ(t,e){var n=jr(e||{}),r=iJ(t,n);return cJ(r,n)}function cJ(t,e){var n={},r=Tt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Ut.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(lg(i))}return e.password&&typeof encrypt_agile<"u"?nI(encrypt_agile(i,e.password),e):e.type==="file"?gd(e.file,i):e.type=="string"?Sf(i):i}function uJ(t,e){var n=e||{},r=AZ(t,n);return nI(r,n)}function is(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Ff(Hf(r));case"binary":return Hf(r);case"string":return t;case"file":return gd(e.file,r,"utf8");case"buffer":return Tt?Qs(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):is(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function fJ(t,e){switch(e.type){case"base64":return Ff(t);case"binary":return t;case"string":return t;case"file":return gd(e.file,t,"binary");case"buffer":return Tt?Qs(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function l0(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Ff(n):e.type=="string"?Sf(n):n;case"file":return gd(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function B_(t,e){Fq(),KQ(t);var n=jr(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=B_(t,n);return n.type="array",lg(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return is(SZ(t,n),n);case"slk":case"sylk":return is(GG.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return is(Z4(t.Sheets[t.SheetNames[i]],n),n);case"txt":return fJ(rI(t.Sheets[t.SheetNames[i]],n),n);case"csv":return is(F_(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return is(YG.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return l0(WG.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return is(XG.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return is(nY.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return is(A4.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return is(tI(t,n),n);case"wk1":return l0(J2.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return l0(J2.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),l0(Q4(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),uJ(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return lJ(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function dJ(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Gce(t,e,n){var r={};return r.type="file",r.file=e,dJ(r),B_(t,r)}function hJ(t,e,n,r,i,s,a,c){var f=tr(n),d=c.defval,h=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),g=!0,m=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:n,enumerable:!1})}catch{m.__rowNum__=n}else m.__rowNum__=n;if(!a||t[n])for(var v=e.s.c;v<=e.e.c;++v){var w=a?t[n][v]:t[r[v]+f];if(w===void 0||w.t===void 0){if(d===void 0)continue;s[v]!=null&&(m[s[v]]=d);continue}var x=w.v;switch(w.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(s[v]!=null){if(x==null)if(w.t=="e"&&x===null)m[s[v]]=null;else if(d!==void 0)m[s[v]]=d;else if(h&&x===null)m[s[v]]=null;else continue;else m[s[v]]=h&&(w.t!=="n"||w.t==="n"&&c.rawNumbers!==!1)?x:qs(w,x,c);x!=null&&(g=!1)}}return{row:m,isempty:g}}function Sp(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,c="",f={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},h=d.range!=null?d.range:t["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof h){case"string":f=Kt(h);break;case"number":f=Kt(t["!ref"]),f.s.r=h;break;default:f=h}r>0&&(i=0);var g=tr(f.s.r),m=[],v=[],w=0,x=0,b=Array.isArray(t),S=f.s.r,T=0,A={};b&&!t[S]&&(t[S]=[]);var C=d.skipHidden&&t["!cols"]||[],P=d.skipHidden&&t["!rows"]||[];for(T=f.s.c;T<=f.e.c;++T)if(!(C[T]||{}).hidden)switch(m[T]=dr(T),n=b?t[S][T]:t[m[T]+g],r){case 1:s[T]=T-f.s.c;break;case 2:s[T]=m[T];break;case 3:s[T]=d.header[T-f.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=a=qs(n,null,d),x=A[a]||0,!x)A[a]=1;else{do c=a+"_"+x++;while(A[c]);A[a]=x,A[c]=1}s[T]=c}for(S=f.s.r+i;S<=f.e.r;++S)if(!(P[S]||{}).hidden){var V=hJ(t,f,S,m,r,s,b,d);(V.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(v[w++]=V.row)}return v.length=w,v}var oC=/"/g;function pJ(t,e,n,r,i,s,a,c){for(var f=!0,d=[],h="",g=tr(n),m=e.s.c;m<=e.e.c;++m)if(r[m]){var v=c.dense?(t[n]||[])[m]:t[r[m]+g];if(v==null)h="";else if(v.v!=null){f=!1,h=""+(c.rawNumbers&&v.t=="n"?v.v:qs(v,null,c));for(var w=0,x=0;w!==h.length;++w)if((x=h.charCodeAt(w))===i||x===s||x===34||c.forceQuotes){h='"'+h.replace(oC,'""')+'"';break}h=="ID"&&(h='"ID"')}else v.f!=null&&!v.F?(f=!1,h="="+v.f,h.indexOf(",")>=0&&(h='"'+h.replace(oC,'""')+'"')):h="";d.push(h)}return c.blankrows===!1&&f?null:d.join(a)}function F_(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Kt(t["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,f=c.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),h="",g=[];r.dense=Array.isArray(t);for(var m=r.skipHidden&&t["!cols"]||[],v=r.skipHidden&&t["!rows"]||[],w=i.s.c;w<=i.e.c;++w)(m[w]||{}).hidden||(g[w]=dr(w));for(var x=0,b=i.s.r;b<=i.e.r;++b)(v[b]||{}).hidden||(h=pJ(t,i,b,g,a,f,s,r),h!=null&&(r.strip&&(h=h.replace(d,"")),(h||r.blankrows!==!1)&&n.push((x++?c:"")+h)));return delete r.dense,n.join("")}function rI(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=F_(t,e);return n}function gJ(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Kt(t["!ref"]),s="",a=[],c,f=[],d=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)a[c]=dr(c);for(var h=i.s.r;h<=i.e.r;++h)for(s=tr(h),c=i.s.c;c<=i.e.c;++c)if(e=a[c]+s,n=d?(t[h]||[])[c]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}f[f.length]=e+"="+r}return f}function iI(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},a=0,c=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var f=typeof r.origin=="string"?Un(r.origin):r.origin;a=f.r,c=f.c}var d,h={s:{c:0,r:0},e:{c,r:a+e.length-1+i}};if(s["!ref"]){var g=Kt(s["!ref"]);h.e.c=Math.max(h.e.c,g.e.c),h.e.r=Math.max(h.e.r,g.e.r),a==-1&&(a=g.e.r+1,h.e.r=a+e.length-1+i)}else a==-1&&(a=0,h.e.r=e.length-1+i);var m=r.header||[],v=0;e.forEach(function(x,b){nr(x).forEach(function(S){(v=m.indexOf(S))==-1&&(m[v=m.length]=S);var T=x[S],A="z",C="",P=jt({c:c+v,r:a+b+i});d=Vf(s,P),T&&typeof T=="object"&&!(T instanceof Date)?s[P]=T:(typeof T=="number"?A="n":typeof T=="boolean"?A="b":typeof T=="string"?A="s":T instanceof Date?(A="d",r.cellDates||(A="n",T=Mr(T)),C=r.dateNF||un[14]):T===null&&r.nullError&&(A="e",T=0),d?(d.t=A,d.v=T,delete d.w,delete d.R,C&&(d.z=C)):s[P]=d={t:A,v:T},C&&(d.z=C))})}),h.e.c=Math.max(h.e.c,c+m.length-1);var w=tr(a);if(i)for(v=0;v<m.length;++v)s[dr(v+c)+w]={t:"s",v:m[v]};return s["!ref"]=An(h),s}function mJ(t,e){return iI(null,t,e)}function Vf(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Un(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Vf(t,jt(e)):Vf(t,jt({r:e,c:n||0}))}function vJ(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function yJ(){return{SheetNames:[],Sheets:{}}}function xJ(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=a+i)!=-1;++i);}if(Y4(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function _J(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=vJ(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function wJ(t,e){return t.z=e,t}function sI(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function bJ(t,e,n){return sI(t,"#"+e,n)}function EJ(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function SJ(t,e,n,r){for(var i=typeof e!="string"?e:Kt(e),s=typeof e=="string"?e:An(e),a=i.s.r;a<=i.e.r;++a)for(var c=i.s.c;c<=i.e.c;++c){var f=Vf(t,a,c);f.t="n",f.F=s,delete f.v,a==i.s.r&&c==i.s.c&&(f.f=n,r&&(f.D=!0))}return t}var Sy={encode_col:dr,encode_row:tr,encode_cell:jt,encode_range:An,decode_col:C_,decode_row:A_,split_cell:FW,decode_cell:Un,decode_range:ni,format_cell:qs,sheet_add_aoa:a4,sheet_add_json:iI,sheet_add_dom:J4,aoa_to_sheet:Zc,json_to_sheet:mJ,table_to_sheet:eI,table_to_book:YZ,sheet_to_csv:F_,sheet_to_txt:rI,sheet_to_json:Sp,sheet_to_html:Z4,sheet_to_formulae:gJ,sheet_to_row_object_array:Sp,sheet_get_cell:Vf,book_new:yJ,book_append_sheet:xJ,book_set_sheet_visibility:_J,cell_set_number_format:wJ,cell_set_hyperlink:sI,cell_set_internal_link:bJ,cell_add_comment:EJ,sheet_set_array_formula:SJ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},M0={exports:{}},TJ=M0.exports,lC;function AJ(){return lC||(lC=1,function(t,e){(function(n,r){r()})(TJ,function(){function n(d,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,h,g){var m=new XMLHttpRequest;m.open("GET",d),m.responseType="blob",m.onload=function(){f(m.response,h,g)},m.onerror=function(){console.error("could not download file")},m.send()}function i(d){var h=new XMLHttpRequest;h.open("HEAD",d,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(h)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Nh=="object"&&Nh.global===Nh?Nh:void 0,c=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(d,h,g){var m=a.URL||a.webkitURL,v=document.createElement("a");h=h||d.name||"download",v.download=h,v.rel="noopener",typeof d=="string"?(v.href=d,v.origin===location.origin?s(v):i(v.href)?r(d,h,g):s(v,v.target="_blank")):(v.href=m.createObjectURL(d),setTimeout(function(){m.revokeObjectURL(v.href)},4e4),setTimeout(function(){s(v)},0))}:"msSaveOrOpenBlob"in navigator?function(d,h,g){if(h=h||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,g),h);else if(i(d))r(d,h,g);else{var m=document.createElement("a");m.href=d,m.target="_blank",setTimeout(function(){s(m)})}}:function(d,h,g,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof d=="string")return r(d,h,g);var v=d.type==="application/octet-stream",w=/constructor/i.test(a.HTMLElement)||a.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||v&&w||c)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var A=b.result;A=x?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=A:location=A,m=null},b.readAsDataURL(d)}else{var S=a.URL||a.webkitURL,T=S.createObjectURL(d);m?m.location=T:location.href=T,m=null,setTimeout(function(){S.revokeObjectURL(T)},4e4)}});a.saveAs=f.saveAs=f,t.exports=f})}(M0)),M0.exports}var CJ=AJ();const{Title:RJ,Text:c0}=sl;function DJ(){const[t,e]=k.useState([]),[n,r]=k.useState(null),[i,s]=k.useState(null),[a,c]=k.useState(Ze()),f=async()=>{try{const N=await Ve.get("/api/users");e(N.data||[])}catch{mt.error("Failed to load users")}},d=async()=>{if(!(!n||!a))try{const N=a.year(),ee=a.month()+1,B=await Ve.get(`/api/work-sessions/attendance?userId=${n}&year=${N}&month=${ee}`);s(B.data||null)}catch{mt.error("Failed to load attendance")}};k.useEffect(()=>{f()},[]),k.useEffect(()=>{d()},[n,a]);const h=a||Ze(),g=h.year(),m=h.month()+1,v=h.format("MMMM YYYY"),w=h.daysInMonth(),x=(i==null?void 0:i.presentDates)||[],b=(i==null?void 0:i.leaveDetails)||[],S=(i==null?void 0:i.leaveDates)||[],T=(i==null?void 0:i.absentDates)||[],A={};b.forEach(N=>{N!=null&&N.date&&(A[N.date]=N.type||"Leave")});const C=i&&Array.from({length:w},(N,ee)=>{const B=Ze(`${g}-${m}-${ee+1}`),re=B.format("YYYY-MM-DD");let le="Absent";const ie=B.day()===0;return ie?le="Non-Working Day (Sunday)":x.includes(re)?le="Present":A[re]?le=`${A[re]} Leave`:S.includes(re)&&(le="Leave"),{key:ee,date:re,status:le,isSunday:ie}}).filter(N=>{var ee;return((ee=N.dateDayjs)==null?void 0:ee.isValid())!==!1}),P=[{title:"Date",dataIndex:"date"},{title:"Day",dataIndex:"date",render:N=>Ze(N).format("ddd")},{title:"Status",dataIndex:"status",render:N=>{const ee=N.includes("Present"),B=N.includes("Leave"),re=N.includes("Sunday");let le="red";return ee?le="green":B?le="blue":re&&(le="default"),_.jsx(Et,{color:le,children:N})}}],V=()=>{var ae;if(!C||C.length===0)return mt.warning("No attendance data to export.");const N=((ae=t.find(D=>D._id===n))==null?void 0:ae.name)||"Employee",ee=C.map(D=>({Date:D.date,Day:Ze(D.date).format("ddd"),Status:D.status})),B=Sy.json_to_sheet(ee),re=Sy.book_new();Sy.book_append_sheet(re,B,"Attendance");const le=B_(re,{bookType:"xlsx",type:"array"}),ie=new Blob([le],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),Q=`${N}_Attendance_${v.replace(" ","_")}.xlsx`;CJ.saveAs(ie,Q),mt.success(`Exported attendance for ${N}`)},I=(N,ee)=>N&&N.length>0?N.map(B=>_.jsx(Et,{color:ee,style:{marginBottom:6},children:Ze(B).format("DD MMM")},B)):_.jsx(c0,{type:"secondary",children:"No records"}),j=b.reduce((N,ee)=>(!(ee!=null&&ee.type)||!(ee!=null&&ee.date)||(N[ee.type]||(N[ee.type]=[]),N[ee.type].push(ee.date)),N),{}),L=C?C.filter(N=>!N.isSunday):[],K=L.length,te=L.filter(N=>N.status.includes("Present")).length,X=L.filter(N=>N.status.includes("Leave")).length,ce=L.filter(N=>N.status.includes("Absent")).length;return _.jsxs("div",{style:{padding:20},children:[_.jsx(RJ,{level:3,children:"Attendance Dashboard"}),_.jsxs(pn,{gutter:16,style:{marginBottom:20,alignItems:"center"},children:[_.jsx(ot,{span:8,children:_.jsx(En,{placeholder:"Select Employee",style:{width:"100%"},onChange:N=>r(N),options:t.map(N=>({label:N.name,value:N._id})),value:n})}),_.jsx(ot,{span:8,children:_.jsx(kc.MonthPicker,{value:a,onChange:N=>c(N||Ze()),style:{width:"100%"}})}),_.jsx(ot,{span:8,style:{textAlign:"right"},children:_.jsx(_t,{type:"primary",className:"add-event-button",icon:_.jsx(RR,{}),onClick:V,disabled:!i,children:"Export to Excel"})})]}),n&&i?_.jsxs(_.Fragment,{children:[_.jsxs(pn,{gutter:16,style:{marginBottom:20},children:[_.jsx(ot,{span:6,children:_.jsx(Xt,{children:_.jsx(Da,{title:"Total Working Days",value:K})})}),_.jsx(ot,{span:6,children:_.jsx(Xt,{children:_.jsx(Da,{title:"Present",value:te,valueStyle:{color:"green"}})})}),_.jsx(ot,{span:6,children:_.jsx(Xt,{children:_.jsx(Da,{title:"Leave",value:X,valueStyle:{color:"blue"}})})}),_.jsx(ot,{span:6,children:_.jsx(Xt,{children:_.jsx(Da,{title:"Absent",value:ce,valueStyle:{color:"red"}})})})]}),_.jsxs(pn,{gutter:16,style:{marginBottom:20},children:[_.jsx(ot,{xs:24,md:8,children:_.jsx(Xt,{title:"Present Days",children:I(x,"green")})}),_.jsx(ot,{xs:24,md:8,children:_.jsx(Xt,{title:"Leave Days (by type)",children:b.length>0?Object.entries(j).map(([N,ee])=>_.jsxs("div",{style:{marginBottom:8},children:[_.jsxs(c0,{strong:!0,children:[N,":"]}),_.jsx("div",{style:{marginTop:4},children:I(ee,"blue")})]},N)):S.length>0?I(S,"blue"):_.jsx(c0,{type:"secondary",children:"No leave taken"})})}),_.jsx(ot,{xs:24,md:8,children:_.jsx(Xt,{title:"Absent Days (Excl. Sun)",children:T&&T.length>0?I(T.filter(N=>Ze(N).day()!==0),"red"):_.jsx(c0,{type:"secondary",children:"No absents "})})})]}),_.jsx(Xt,{title:`Daily Attendance - ${v}`,children:_.jsx(Fp,{columns:P,dataSource:C,pagination:!1,locale:{emptyText:_.jsx(za,{description:"No attendance found"})}})})]}):_.jsx(za,{description:"Select employee & month to view attendance"})]})}const{Title:OJ,Text:ba}=sl,{RangePicker:kJ}=kc,u0={Planned:"gold","In Progress":"blue",Completed:"green","On Hold":"orange",Cancelled:"red"},cC=[{label:"Pending",value:"Pending",color:"default"},{label:"In Progress",value:"In Progress",color:"blue"},{label:"Review",value:"Review",color:"purple"},{label:"Completed",value:"Completed",color:"green"},{label:"On Hold",value:"On Hold",color:"orange"}];function NJ(){var F,se,be,ke,Ne,Ce,xe;const t=JSON.parse(localStorage.getItem("user")),e=(t==null?void 0:t.role)==="Employee",[n]=Je.useForm(),[r]=Je.useForm(),[i,s]=k.useState([]),[a,c]=k.useState([]),[f,d]=k.useState([]),[h,g]=k.useState([]),[m,v]=k.useState([]),[w,x]=k.useState(!1),[b,S]=k.useState(!1),[T,A]=k.useState(null),[C,P]=k.useState(null),[V,I]=k.useState(!1),[j,L]=k.useState(!1);k.useEffect(()=>{K(),te(),X(),N(),ce()},[]);const K=async()=>{try{const J=await Ve.get("/api/users");c(J.data||[])}catch(J){console.error("Failed to load users:",J)}},te=async()=>{var J;try{const Ae=await Ve.get("/api/accounts");d(((J=Ae.data)==null?void 0:J.accounts)||Ae.data||[])}catch(Ae){console.error("Failed to load accounts:",Ae)}},X=async()=>{var J;try{const Ae=await Ve.get("/api/service");g(((J=Ae.data)==null?void 0:J.services)||Ae.data||[])}catch(Ae){console.error("Failed to load services:",Ae)}},ce=async()=>{try{const{data:J}=await Ve.get("/api/steps");v(J)}catch(J){console.error("Failed to load step templates:",J)}},N=async(J={})=>{var Ae;I(!0);try{const Pe=await Ve.get("/api/projects",{params:{userId:t._id,role:t.role,...J}});s(((Ae=Pe.data)==null?void 0:Ae.projects)||[])}catch(Pe){console.error("Failed to load projects:",Pe),mt.error("Failed to load projects")}finally{I(!1)}},ee=Je.useWatch("serviceId",n);k.useEffect(()=>{if(w&&!T)if(ee){const J=h.find(Pe=>Pe._id===ee),Ae=J==null?void 0:J.serviceName;if(Ae){const Pe=m.find(We=>We._id===Ae);if(Pe){const We=Pe.steps.map(qe=>({stepName:qe.stepName,description:qe.description,url:qe.url,status:"Pending"}));n.setFieldsValue({steps:We}),mt.info(`Auto-populated ${We.length} steps from '${Ae}' template.`)}else n.setFieldsValue({steps:[]})}}else n.setFieldsValue({steps:[]})},[ee,n,h,m,w,T]);const B=J=>{var Ae;return!e||((Ae=J==null?void 0:J.members)==null?void 0:Ae.some(Pe=>Pe._id===t._id))},re=J=>{var Ae,Pe,We;A(J),n.setFieldsValue({...J,accountId:(Ae=J.accountId)==null?void 0:Ae._id,serviceId:(Pe=J.serviceId)==null?void 0:Pe._id,members:(We=J.members)==null?void 0:We.map(qe=>qe._id),status:J.status,dates:[J.startDate?Ze(J.startDate):null,J.endDate?Ze(J.endDate):null],attachments:J.attachments||[],steps:J.steps||[]}),x(!0)},le=async J=>{try{const Ae=await Ve.get(`/api/projects/${J._id}`);P(Ae.data.project),S(!0)}catch(Ae){console.error("Failed to load project details:",Ae),mt.error("Failed to load project details")}},ie=J=>{P(J),L(!0)},Q=async J=>{var Oe;const[Ae,Pe]=J.dates||[],We=T||(Oe=h.find(He=>He._id===J.serviceId))==null?void 0:Oe.serviceName,qe={...J,startDate:Ae==null?void 0:Ae.toISOString(),endDate:Pe==null?void 0:Pe.toISOString(),createdBy:t._id,serviceName:We,attachments:(J.attachments||[]).map(He=>{var Dt;return{filename:He.filename||((Dt=He.url)==null?void 0:Dt.split("/").pop()),url:He.url}}),steps:J.steps||[]};try{T?(await Ve.put(`/api/projects/${T._id}`,qe),mt.success("Project Updated!")):(await Ve.post("/api/projects",qe),mt.success("Project Created!")),n.resetFields(),A(null),x(!1),N()}catch(He){console.error("Save error:",He),mt.error("Error saving project")}},ae=async J=>{try{await Ve.delete(`/api/projects/${J}`),mt.success("Project Deleted"),N()}catch(Ae){console.error("Failed to delete project:",Ae),mt.error("Failed to delete project")}},D=(J,Ae)=>{const Pe={};Ae&&(Pe[J]=Ae),N(Pe)},q=async J=>{if(C)try{const Ae={text:J.noteText,author:t.name,timestamp:new Date().toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};await Ve.put(`/api/projects/${C._id}/note`,{note:Ae}),mt.success("Note added successfully");const Pe=await Ve.get(`/api/projects/${C._id}`);P(Pe.data.project),r.resetFields()}catch(Ae){console.error("Error adding note:",Ae),mt.error("Failed to add note")}},z=async(J,Ae)=>{try{await Ve.put(`/api/projects/${J}/note/delete`,{noteIndex:Ae}),mt.success("Note deleted successfully");const Pe=await Ve.get(`/api/projects/${C._id}`);P(Pe.data.project)}catch(Pe){console.error("Error deleting note:",Pe),mt.error("Failed to delete note")}};return _.jsxs("div",{style:{padding:20},children:[_.jsxs(pn,{justify:"space-between",align:"middle",children:[_.jsx(OJ,{level:4,children:"Project Management"}),!e&&_.jsx(_t,{type:"primary",icon:_.jsx(mf,{}),onClick:()=>{A(null),n.resetFields(),n.setFieldsValue({steps:[]}),x(!0)},children:"New Project"})]}),_.jsx(pn,{style:{marginTop:10},children:_.jsx(ot,{span:6,children:_.jsx(Xt,{style:{textAlign:"center"},children:_.jsx(Da,{title:"Total Projects",value:i.length,valueStyle:{color:"#52c41a"}})})})}),_.jsxs(td,{style:{marginTop:15},children:[_.jsx(En,{placeholder:"Status",allowClear:!0,style:{width:140},onChange:J=>D("status",J),options:Object.keys(u0).map(J=>({label:J,value:J}))}),_.jsx(En,{placeholder:"Account",allowClear:!0,style:{width:180},showSearch:!0,onChange:J=>D("accountId",J),options:f.map(J=>({label:J.businessName,value:J._id}))}),_.jsx(En,{placeholder:"Service",allowClear:!0,style:{width:180},onChange:J=>D("serviceId",J),options:h.map(J=>({label:J.serviceName,value:J._id}))})]}),_.jsx(pn,{gutter:[16,16],style:{marginTop:20},children:i.map(J=>{var Pe,We;const Ae=B(J);return _.jsx(ot,{xs:24,sm:12,md:8,lg:6,children:_.jsxs(Xt,{title:J.name,style:{cursor:"pointer"},extra:_.jsx(Et,{color:u0[J.status],children:J.status}),onClick:()=>le(J),actions:[_.jsx(Qy,{onClick:qe=>{qe.stopPropagation(),ie(J)}},"notes"),Ae&&_.jsx(dP,{onClick:qe=>{qe.stopPropagation(),re(J)}},"edit"),!e&&_.jsx(gf,{style:{color:"red"},onClick:qe=>{qe.stopPropagation(),ae(J._id)}},"delete")].filter(Boolean),children:[_.jsx(ba,{type:"secondary",children:J.description||"No Description"}),_.jsx("br",{}),_.jsx(ba,{strong:!0,children:"Account: "}),(Pe=J.accountId)==null?void 0:Pe.businessName,_.jsx("br",{}),_.jsx(ba,{strong:!0,children:"Service: "}),(We=J.serviceId)==null?void 0:We.serviceName]})},J._id)})}),_.jsx(Ui,{width:600,open:w,title:T?"Edit Project":"New Project",onClose:()=>{x(!1),A(null),n.resetFields()},children:_.jsxs(Je,{layout:"vertical",form:n,onFinish:Q,initialValues:{status:"Planned"},children:[_.jsxs(pn,{gutter:16,children:[_.jsx(ot,{span:12,children:_.jsx(Je.Item,{name:"name",label:"Project Name",rules:[{required:!0}],children:_.jsx(Zn,{disabled:T&&!B(T)})})}),_.jsx(ot,{span:12,children:_.jsx(Je.Item,{name:"status",label:"Status",children:_.jsx(En,{disabled:T&&!B(T),options:Object.keys(u0).map(J=>({label:J,value:J}))})})})]}),_.jsx(Je.Item,{name:"description",label:"Description",children:_.jsx(Zn.TextArea,{rows:2,disabled:T&&!B(T)})}),_.jsxs(pn,{gutter:16,children:[_.jsx(ot,{span:12,children:_.jsx(Je.Item,{name:"accountId",label:"Account",rules:[{required:!0}],children:_.jsx(En,{disabled:e,showSearch:!0,options:f.map(J=>({label:J.businessName,value:J._id}))})})}),_.jsx(ot,{span:12,children:_.jsx(Je.Item,{name:"serviceId",label:"Service",rules:[{required:!0}],children:_.jsx(En,{disabled:e,options:h.map(J=>({label:J.serviceName,value:J._id}))})})})]}),_.jsx(Je.Item,{name:"members",label:"Assign To",children:_.jsx(En,{mode:"multiple",showSearch:!0,placeholder:"Select members",disabled:T&&!B(T),options:a.map(J=>({label:J.name,value:J._id}))})}),_.jsx(Je.Item,{name:"dates",label:"Project Dates",children:_.jsx(kJ,{style:{width:"100%"},disabled:T&&!B(T)})}),_.jsx(cr,{orientation:"left",children:"Project Steps (Tasks)"}),!T||B(T)?_.jsx(Je.List,{name:"steps",children:(J,{add:Ae,remove:Pe})=>_.jsxs(_.Fragment,{children:[J.map(({key:We,name:qe,...Oe})=>_.jsxs("div",{style:{border:"1px solid #f0f0f0",padding:10,borderRadius:4,marginBottom:10,position:"relative",backgroundColor:"#fafafa"},children:[_.jsx(_t,{danger:!0,size:"small",icon:_.jsx(gf,{}),onClick:()=>Pe(qe),style:{position:"absolute",top:5,right:5,zIndex:10}}),_.jsxs(pn,{gutter:8,children:[_.jsx(ot,{span:16,children:_.jsx(Je.Item,{...Oe,name:[qe,"stepName"],label:"Step Name",rules:[{required:!0}],style:{marginBottom:10},children:_.jsx(Zn,{placeholder:"e.g., Wireframing Complete"})})}),_.jsx(ot,{span:8,children:_.jsx(Je.Item,{...Oe,name:[qe,"status"],label:"Step Status",rules:[{required:!0}],style:{marginBottom:10},children:_.jsx(En,{options:cC,placeholder:"Select Status"})})}),_.jsxs(ot,{span:24,children:[_.jsx(Je.Item,{...Oe,name:[qe,"description"],label:"Description",style:{marginBottom:5},children:_.jsx(Zn.TextArea,{rows:1,placeholder:"Details for this step"})}),_.jsx(Je.Item,{...Oe,name:[qe,"url"],label:"Related Link",style:{marginBottom:0},children:_.jsx(Zn,{placeholder:"Link to file/task"})})]})]})]},We)),_.jsx(_t,{type:"dashed",onClick:()=>Ae({status:"Pending"}),block:!0,icon:_.jsx(mf,{}),style:{marginBottom:20},children:"Add Project Step"})]})}):_.jsx(Et,{color:"volcano",style:{display:"block",textAlign:"center",padding:10,marginBottom:20},children:"Steps can only be modified by assigned members or managers."}),_.jsx(cr,{orientation:"left",children:"Attachments"}),_.jsx(Je.List,{name:"attachments",children:(J,{add:Ae,remove:Pe})=>_.jsxs(_.Fragment,{children:[J.map(({key:We,name:qe,...Oe})=>_.jsxs(pn,{gutter:8,style:{marginBottom:10},children:[_.jsx(ot,{span:14,children:_.jsx(Je.Item,{...Oe,name:[qe,"url"],rules:[{required:!0}],style:{marginBottom:0},children:_.jsx(Zn,{placeholder:"File URL",disabled:T&&!B(T)})})}),_.jsx(ot,{span:8,children:_.jsx(Je.Item,{...Oe,name:[qe,"filename"],style:{marginBottom:0},children:_.jsx(Zn,{placeholder:"Filename",disabled:T&&!B(T)})})}),_.jsx(ot,{span:2,children:B(T||{})&&_.jsx(_t,{danger:!0,onClick:()=>Pe(qe),style:{padding:"0 8px"},children:"X"})})]},We)),B(T||{})&&_.jsx(_t,{type:"dashed",block:!0,onClick:()=>Ae(),style:{marginBottom:20},children:"+ Add Attachment"})]})}),!T||B(T)?_.jsx(_t,{type:"primary",htmlType:"submit",block:!0,children:"Save Project"}):_.jsx(Et,{color:"red",style:{textAlign:"center",display:"block"},children:"Editing Restricted"})]})}),_.jsx(Ui,{width:780,title:"Project Details",open:b,onClose:()=>{S(!1),P(null)},children:C&&_.jsxs(_.Fragment,{children:[_.jsxs("p",{children:[_.jsx("b",{children:"Name:"})," ",C.name]}),_.jsxs("p",{children:[_.jsx("b",{children:"Status:"})," ",_.jsx(Et,{color:u0[C.status],children:C.status})]}),_.jsxs("p",{children:[_.jsx("b",{children:"Description:"})," ",C.description||"N/A"]}),_.jsxs("p",{children:[_.jsx("b",{children:"Account:"})," ",(F=C.accountId)==null?void 0:F.businessName]}),_.jsxs("p",{children:[_.jsx("b",{children:"Service:"})," ",(se=C.serviceId)==null?void 0:se.serviceName]}),_.jsx("p",{children:_.jsx("b",{children:"Members:"})}),(be=C.members)!=null&&be.length?C.members.map(J=>_.jsx(Et,{children:J.name},J._id)):_.jsx(ba,{type:"secondary",children:"No Members Assigned"}),_.jsx(cr,{orientation:"left",style:{marginTop:15},children:"Project Steps (Tasks)"}),(ke=C.steps)!=null&&ke.length?_.jsx("div",{style:{maxHeight:200,overflowY:"auto",paddingRight:10},children:C.steps.map((J,Ae)=>{const Pe=cC.find(We=>We.value===J.status)||{color:"default"};return _.jsxs(Xt,{size:"small",style:{marginBottom:8,borderLeft:`3px solid ${Pe.color}`,borderRadius:"6px"},title:_.jsxs("span",{style:{fontWeight:600},children:["Step ",Ae+1,": ",J.stepName]}),children:[_.jsx(Et,{color:Pe.color,children:J.status}),J.description&&_.jsx("p",{style:{margin:"8px 0",fontSize:"13px"},children:J.description}),J.url&&_.jsx("a",{href:J.url,target:"_blank",rel:"noreferrer",style:{fontSize:12},children:" View Link"})]},Ae)})}):_.jsx(ba,{type:"secondary",children:"No Steps defined for this project."}),_.jsx(cr,{orientation:"left",style:{marginTop:15},children:"Attachments"}),(Ne=C.attachments)!=null&&Ne.length?C.attachments.map((J,Ae)=>_.jsxs("a",{href:J.url,target:"_blank",rel:"noreferrer",style:{display:"block",marginBottom:"8px",padding:"8px",border:"1px solid #d9d9d9",borderRadius:"4px",backgroundColor:"#fafafa"},children:[" ",J.filename||J.url.split("/").pop()]},Ae)):_.jsx(ba,{type:"secondary",children:"No Files Attached"}),_.jsx(cr,{orientation:"left",style:{marginTop:20},children:"Project Notes"}),_.jsxs(_t,{type:"primary",onClick:J=>{J.stopPropagation(),ie(C)},icon:_.jsx(Qy,{}),style:{borderRadius:"6px"},children:["View/Add Notes (",((Ce=C.notes)==null?void 0:Ce.length)||0,")"]})]})}),_.jsx(Ui,{width:450,title:`Notes for: ${(C==null?void 0:C.name)||"Project"}`,open:j,onClose:()=>{L(!1),r.resetFields()},children:C&&_.jsxs(_.Fragment,{children:[_.jsx("div",{style:{marginBottom:20,maxHeight:300,overflowY:"auto",paddingRight:10},children:(xe=C.notes)!=null&&xe.length?C.notes.map((J,Ae)=>_.jsxs(Xt,{size:"small",style:{marginBottom:10,borderLeft:"3px solid #1890ff",backgroundColor:"#fafafa",borderRadius:"6px"},extra:B(C)&&_.jsx(_t,{type:"text",danger:!0,size:"small",icon:_.jsx(gf,{}),onClick:()=>z(C._id,Ae),style:{padding:"0 4px"}}),children:[_.jsx("p",{style:{whiteSpace:"pre-wrap",marginBottom:8,fontSize:"14px",lineHeight:"1.5"},children:J.text}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"12px"},children:[_.jsxs(ba,{type:"secondary",children:[_.jsx(nd,{style:{marginRight:4}}),J.author]}),_.jsxs(ba,{type:"secondary",children:[_.jsx(Up,{style:{marginRight:4}}),J.timestamp]})]})]},Ae)):_.jsx(za,{description:"No notes yet",image:za.PRESENTED_IMAGE_SIMPLE,style:{margin:"20px 0"}})}),B(C)&&_.jsxs(Je,{form:r,onFinish:q,style:{marginTop:10},children:[_.jsx(Je.Item,{name:"noteText",rules:[{required:!0,message:"Please enter a note"}],children:_.jsx(Zn.TextArea,{rows:3,placeholder:"Add a note about this project...",maxLength:500,showCount:!0,style:{borderRadius:"6px"}})}),_.jsx(Je.Item,{children:_.jsx(_t,{type:"primary",htmlType:"submit",icon:_.jsx(mf,{}),style:{borderRadius:"6px"},children:"Add Note"})})]})]})})]})}const{Text:IJ,Title:uC}=sl,{RangePicker:MJ}=kc,jJ={Completed:_.jsx(zp,{}),"In Progress":_.jsx(vx,{}),Planned:_.jsx(Up,{}),"On Hold":_.jsx(RP,{}),Cancelled:_.jsx(CP,{})},fC={Completed:"#39b54a","In Progress":"#1677ff",Planned:"#fa8c16","On Hold":"#fa541c",Cancelled:"#ff4d4f"},PJ=t=>{switch(t==null?void 0:t.toLowerCase()){case"website":return _.jsx(XS,{style:{color:"#1677ff"}});case"software":return _.jsx(Jy,{style:{color:"#722ed1"}});case"ui-ux":return _.jsx(DP,{style:{color:"#faad14"}});default:return _.jsx(XS,{style:{color:"#8c8c8c"}})}};function LJ(){var v,w,x,b,S,T;const[t,e]=k.useState([]),[n,r]=k.useState({}),[i,s]=k.useState(!1),[a,c]=k.useState(null),[f,d]=k.useState(null),h=async(A={})=>{var C;try{const V=((C=(await Ve.get("/api/projects",{params:A})).data)==null?void 0:C.projects)||[];e(V);const I=V.reduce((j,L)=>(j[L.status]=j[L.status]||[],j[L.status].push(L),j),{});r(I)}catch{mt.error("Failed to load projects")}};k.useEffect(()=>{h()},[]);const g=A=>{if(d(A),!A)return h();const[C,P]=A;h({startDate:C.toISOString(),endDate:P.toISOString()})},m=t.length;return _.jsxs("div",{style:{padding:24,background:"#ffffffff",minHeight:"100vh"},children:[_.jsxs(pn,{justify:"space-between",align:"middle",children:[_.jsx(uC,{level:3,children:" Project Tracking Dashboard"}),_.jsx(td,{children:_.jsx(MJ,{value:f,onChange:A=>g(A),allowClear:!0})})]}),_.jsx(Xt,{style:{borderRadius:12,marginBottom:20,boxShadow:"0 4px 18px rgba(0,0,0,0.06)"},children:_.jsx(Da,{title:"Total Projects",value:m})}),_.jsx(pn,{gutter:[18,18],children:Object.keys(n).map(A=>_.jsx(ot,{xs:24,sm:12,md:8,children:_.jsxs(Xt,{style:{borderRadius:14,minHeight:250,background:"#fff",boxShadow:"0 4px 14px rgba(0,0,0,0.07)",transition:"0.3s"},bodyStyle:{padding:"14px 18px"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[_.jsxs(Et,{color:fC[A],style:{fontSize:13,padding:"5px 10px",borderRadius:8},children:[A," ",jJ[A]]}),_.jsx(Da,{value:n[A].length,valueStyle:{fontSize:24}})]}),_.jsx(cr,{style:{margin:"10px 0"}}),_.jsx("div",{style:{maxHeight:160,overflowY:"auto"},children:n[A].map(C=>{var P,V,I;return _.jsxs("div",{onClick:()=>{c(C),s(!0)},style:{cursor:"pointer",padding:"6px",borderRadius:6,display:"flex",justifyContent:"space-between",alignItems:"center",transition:"0.25s"},onMouseEnter:j=>j.currentTarget.style.background="#eef5ff",onMouseLeave:j=>j.currentTarget.style.background="transparent",children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[PJ((P=C.serviceId)==null?void 0:P.serviceName),_.jsx("span",{style:{fontWeight:500,color:"#1677ff"},children:C.name.length>20?C.name.slice(0,20)+"":C.name})]}),_.jsxs("div",{style:{display:"flex",gap:10,fontSize:12},children:[((V=C.members)==null?void 0:V.length)>0&&_.jsxs("span",{title:"Assigned Members",style:{display:"flex",alignItems:"center",gap:4},children:[_.jsx(nd,{})," ",C.members.length]}),((I=C.attachments)==null?void 0:I.length)>0&&_.jsxs("span",{title:"Attachments",style:{display:"flex",alignItems:"center",gap:4},children:[_.jsx(mx,{})," ",C.attachments.length]})]})]},C._id)})})]})},A))}),_.jsx(Ui,{width:450,title:"Project Overview",open:i,onClose:()=>s(!1),style:{borderRadius:"12px 0 0 12px"},children:a&&_.jsxs(_.Fragment,{children:[_.jsx(uC,{level:4,style:{marginBottom:10},children:a.name}),_.jsx(Et,{color:fC[a.status],children:a.status}),_.jsx(cr,{}),_.jsxs("p",{children:[_.jsx("b",{children:"Account:"})," ",((v=a.accountId)==null?void 0:v.businessName)||"N/A"]}),_.jsxs("p",{children:[_.jsx("b",{children:"Service:"})," ",((w=a.serviceId)==null?void 0:w.serviceName)||"N/A"]}),_.jsxs("p",{children:[_.jsx("b",{children:"Start:"})," ",(x=a.startDate)==null?void 0:x.slice(0,10)]}),_.jsxs("p",{children:[_.jsx("b",{children:"End:"})," ",(b=a.endDate)==null?void 0:b.slice(0,10)]}),_.jsx(cr,{}),_.jsx("b",{children:"Members:"}),_.jsx("br",{}),(S=a.members)!=null&&S.length?a.members.map(A=>_.jsx(Et,{children:A.name},A._id)):_.jsx(IJ,{type:"secondary",children:"No members"}),_.jsx(cr,{}),_.jsx("b",{children:"Attachments:"}),(T=a.attachments)!=null&&T.length?a.attachments.map(A=>_.jsxs("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",style:{display:"block",marginTop:5},children:[" ",A.filename]},A._id)):_.jsx("p",{style:{color:"#999"},children:"No files"})]})})]})}const{Title:nf,Text:ns}=sl,{Step:BJ}=kR,FJ={Planned:"gold","In Progress":"blue",Completed:"green","On Hold":"orange",Cancelled:"red"};function UJ(){const t=JSON.parse(localStorage.getItem("user")),[e,n]=k.useState([]),[r,i]=k.useState(null);k.useEffect(()=>{s()},[]);const s=async()=>{try{const d=await Ve.get("/api/projects",{params:{userId:t._id,role:"Client"}});n(d.data.projects||[])}catch{mt.error("Failed to load projects")}},a=d=>{if(!(d!=null&&d.length))return 0;const h=d.filter(g=>g.status==="Completed").length;return Math.round(h/d.length*100)},c=d=>{switch(d){case"Completed":return"finish";case"In Progress":case"Review":return"process";case"On Hold":return"error";default:return"wait"}},f=d=>i(d);return _.jsxs("div",{className:"dashboard-container",children:[_.jsx(nf,{level:4,children:"My Projects"}),_.jsx(cr,{}),_.jsxs(pn,{gutter:[16,16],className:"insights-row",children:[_.jsx(ot,{xs:12,md:6,children:_.jsxs(Xt,{className:"insight-card",bordered:!1,children:[_.jsx(nf,{level:5,children:"Total Projects"}),_.jsx(ns,{children:e.length})]})}),_.jsx(ot,{xs:12,md:6,children:_.jsxs(Xt,{className:"insight-card",bordered:!1,children:[_.jsx(nf,{level:5,children:"Completed"}),_.jsx(ns,{children:e.filter(d=>d.status==="Completed").length})]})}),_.jsx(ot,{xs:12,md:6,children:_.jsxs(Xt,{className:"insight-card",bordered:!1,children:[_.jsx(nf,{level:5,children:"In Progress"}),_.jsx(ns,{children:e.filter(d=>d.status==="In Progress").length})]})}),_.jsx(ot,{xs:12,md:6,children:_.jsxs(Xt,{className:"insight-card",bordered:!1,children:[_.jsx(nf,{level:5,children:"Pending"}),_.jsx(ns,{children:e.filter(d=>d.status==="Planned"||d.status==="On Hold"||d.status==="Review").length})]})})]}),_.jsx(cr,{}),_.jsx(pn,{gutter:[0,20],children:e.map(d=>{var v,w,x,b,S;const h=a(d.steps),g=(v=d.steps)==null?void 0:v.findIndex(T=>T.status==="In Progress"||T.status==="Review"),m=g===-1?((w=d.steps)==null?void 0:w.length)||0:g;return _.jsx(ot,{span:24,children:_.jsxs(Xt,{hoverable:!0,className:"project-card-full",title:d.name,extra:_.jsx(Et,{color:FJ[d.status],children:d.status}),children:[_.jsx(ns,{strong:!0,children:"Service: "}),(x=d==null?void 0:d.serviceId)==null?void 0:x.serviceName,_.jsx("br",{}),_.jsx(ns,{strong:!0,children:"Start: "}),Ze(d.startDate).format("DD MMM"),_.jsx("br",{}),_.jsx(ns,{strong:!0,children:"End: "}),Ze(d.endDate).format("DD MMM"),_.jsx(cr,{}),_.jsx(ns,{strong:!0,children:"Overall Progress"}),_.jsx(hP,{percent:h}),_.jsx(cr,{}),_.jsx(ns,{strong:!0,children:"Assigned Team"}),_.jsx("br",{}),(b=d.members)==null?void 0:b.map(T=>_.jsx(Et,{children:T.name},T._id)),_.jsx(cr,{}),_.jsx(ns,{strong:!0,children:"Project Steps"}),_.jsx(kR,{current:m,size:"small",responsive:!0,style:{marginTop:15},children:(S=d.steps)==null?void 0:S.map((T,A)=>{var C;return _.jsx(BJ,{title:_.jsx("span",{onClick:()=>f(T),style:{cursor:"pointer"},children:T.stepName}),description:_.jsxs("div",{style:{minWidth:100},children:[_.jsx(Et,{color:c(T.status)==="finish"?"green":c(T.status)==="process"?"blue":"default",style:{marginBottom:4},children:T.status}),_.jsx("div",{style:{fontSize:12,color:"#888"},children:((C=T.description)==null?void 0:C.length)>30?T.description.substring(0,30)+"...":T.description}),_.jsx(_t,{type:"link",icon:_.jsx(Qy,{}),size:"small",style:{paddingLeft:0},onClick:()=>f(T),children:"Details"})]}),status:c(T.status),icon:T.status==="Completed"?_.jsx(zp,{}):T.status==="In Progress"?_.jsx(vx,{}):T.status==="Review"?_.jsx(Up,{}):null},A)})})]})},d._id)})}),_.jsxs(Ui,{title:r==null?void 0:r.stepName,placement:"right",width:380,onClose:()=>i(null),open:!!r,children:[_.jsxs("p",{children:[_.jsx("b",{children:"Status:"})," ",r==null?void 0:r.status]}),_.jsxs("p",{children:[_.jsx("b",{children:"Description:"})," ",(r==null?void 0:r.description)||"Not Provided"]}),(r==null?void 0:r.url)&&_.jsx("p",{children:_.jsx("a",{href:r.url,target:"_blank",rel:"noreferrer",children:"View File "})}),(r==null?void 0:r.updatedAt)&&_.jsxs("p",{children:[_.jsx("b",{children:"Last Updated:"})," ",Ze(r.updatedAt).format("DD MMM YYYY")]})]})]})}const HJ=()=>{const[t,e]=k.useState(null),[n,r]=k.useState([]),[i,s]=k.useState(!0),[a,c]=k.useState(!1),[f,d]=k.useState(null),[h,g]=k.useState(!1),m=JSON.parse(localStorage.getItem("user")),v=async()=>{var b;try{const S=((b=m==null?void 0:m.businessAccount)==null?void 0:b._id)||(m==null?void 0:m.businessAccount);if(!S)throw new Error("No BusinessAccount");const T=await Ve.get(`/api/accounts/${S}`);e(T.data);const A=await Ve.get(`/api/subscriptions/${S}`);r(A.data)}catch(S){console.error("Subscription Fetch Error:",S)}finally{s(!1)}};k.useEffect(()=>{m&&v()},[]);const w=async b=>{g(!0);try{const S=await Ve.get(`/api/subscriptions/details/${b}`);d(S.data),c(!0)}catch(S){console.error("Fetch Details Error:",S)}finally{g(!1)}},x=[{title:"Status",dataIndex:"status",render:b=>_.jsx(Et,{color:b==="active"?"green":"red",children:b.toUpperCase()})},{title:"Service",render:(b,S)=>{var T;return((T=S==null?void 0:S.service)==null?void 0:T.serviceName)||"-"}},{title:"Plan",dataIndex:"planName"},{title:"Billing Cycle",dataIndex:"billingCycle"},{title:"Renewal Date",dataIndex:"renewalDate",render:b=>b?new Date(b).toLocaleDateString():"-"},{title:"Amount",render:(b,S)=>`${S.amountPaid} + GST(${S.gstRate}%) = ${S.totalWithGST}`},{title:"Order ID",dataIndex:"orderId",render:b=>_.jsx(Et,{color:"gold",children:b})},{title:"Action",render:(b,S)=>_.jsx(_t,{size:"small",type:"primary",onClick:()=>w(S._id),children:"View"})}];return i?_.jsx(Zy,{size:"large",style:{marginTop:100,display:"flex",justifyContent:"center"}}):t?_.jsxs("div",{style:{padding:20},children:[_.jsx("h2",{style:{marginBottom:20},children:"My Subscription"}),_.jsx(Xt,{title:"Business Details",style:{marginBottom:20},children:_.jsxs(kh,{bordered:!0,column:2,children:[_.jsx(kh.Item,{label:"Business Name",children:t.businessName||"-"}),_.jsx(kh.Item,{label:"Phone",children:t.contactNumber||"-"}),_.jsx(kh.Item,{label:"Email",children:t.contactEmail||"-"})]})}),_.jsx(Xt,{title:"Subscription Details",children:n.length===0?_.jsx(za,{description:"No Subscription Found"}):_.jsx(Fp,{bordered:!0,dataSource:n,columns:x,rowKey:"_id",pagination:!1})}),_.jsx(Ui,{width:500,title:"Subscription Details",open:a,onClose:()=>c(!1),children:h||!f?_.jsx(Zy,{}):_.jsxs(_.Fragment,{children:[_.jsx("h3",{style:{marginTop:20},children:"Features Included"}),_.jsx(os,{bordered:!0,dataSource:f.planFeatures,renderItem:b=>_.jsx(os.Item,{children:b.name}),locale:{emptyText:"No features found"}})]})})]}):_.jsx(pP,{type:"error",message:"No Business Account Linked!",showIcon:!0})},{Option:ac}=En,zJ=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!1),[i,s]=k.useState([]),[a,c]=k.useState([]),[f,d]=k.useState([]),[h,g]=k.useState(0),[m,v]=k.useState(0),[w,x]=k.useState(!1),[b]=Je.useForm(),S=async()=>{try{const[j,L,K]=await Promise.all([Ve.get("/api/subscriptions/all"),Ve.get("/api/accounts"),Ve.get("/api/service")]);e(j.data),s(L.data),c(K.data)}catch{Bn.error("Failed to load data ")}};k.useEffect(()=>{S()},[]);const T=j=>{const L=a.find(K=>K._id===j);d((L==null?void 0:L.plans)||[]),b.setFieldsValue({planId:null}),g(0),v(0)},A=j=>{const L=a.find(te=>te._id===j),K=Number(L==null?void 0:L.gstRate);return K>0?K:18},C=(j,L)=>{if(!j||!L)return;let K=0;L==="Monthly"?K=j.priceMonthly||0:L==="Yearly"?K=j.priceYearly||0:L==="One Time"&&(K=j.priceOneTime||0);const te=b.getFieldValue("service"),X=A(te),ce=K*X/100;g(K),v(K+ce),b.setFieldsValue({amountPaid:K})},P=j=>{const L=f.find(te=>te._id===j),K=b.getFieldValue("billingCycle");C(L,K)},V=async j=>{var L,K;try{x(!0);const te=A(j.service),X={businessAccount:j.businessAccount,service:j.service,planId:j.planId,billingCycle:j.billingCycle,amountPaid:j.amountPaid,gstRate:te,orderId:"MANUAL-"+Date.now(),paymentId:"MANUAL-"+Date.now()};await Ve.post("/api/subscriptions",X),Bn.success("Subscription Created "),b.resetFields(),r(!1),S()}catch(te){Bn.error(((K=(L=te==null?void 0:te.response)==null?void 0:L.data)==null?void 0:K.message)||"Failed ")}finally{x(!1)}},I=[{title:"Business",render:(j,L)=>{var K;return((K=L.businessAccount)==null?void 0:K.businessName)||"-"}},{title:"Service",render:(j,L)=>{var K;return((K=L.service)==null?void 0:K.serviceName)||"-"}},{title:"Plan",dataIndex:"planName"},{title:"Billing",dataIndex:"billingCycle"},{title:"Renewal",dataIndex:"renewalDate",render:j=>j?new Date(j).toLocaleDateString():"-"},{title:"Amount",render:j=>`${j.amountPaid} + GST(${j.gstRate}%) = ${j.totalWithGST}`},{title:"Status",dataIndex:"status",render:j=>_.jsx(Et,{color:j==="active"?"green":"red",children:j.toUpperCase()})}];return _.jsxs("div",{style:{padding:20},children:[_.jsx("h2",{children:"Subscription Management"}),_.jsx(_t,{type:"primary",onClick:()=>r(!0),style:{marginBottom:10},children:" Create Subscription"}),_.jsx(Fp,{bordered:!0,columns:I,dataSource:t,rowKey:"_id"}),_.jsx(Ui,{title:"Create Subscription",width:480,open:n,onClose:()=>r(!1),destroyOnClose:!0,children:_.jsx(Je,{layout:"vertical",form:b,onFinish:V,children:_.jsxs(pn,{gutter:15,children:[_.jsx(ot,{span:24,children:_.jsx(Je.Item,{name:"businessAccount",label:"Business Account",rules:[{required:!0}],children:_.jsx(En,{showSearch:!0,placeholder:"Select Business",children:i.map(j=>_.jsx(ac,{value:j._id,children:j.businessName},j._id))})})}),_.jsx(ot,{span:24,children:_.jsx(Je.Item,{name:"service",label:"Service",rules:[{required:!0}],children:_.jsx(En,{placeholder:"Select Service",onChange:T,children:a.map(j=>_.jsx(ac,{value:j._id,children:j.serviceName},j._id))})})}),_.jsx(ot,{span:24,children:_.jsx(Je.Item,{name:"planId",label:"Plan",rules:[{required:!0}],children:_.jsx(En,{placeholder:"Select Plan",onChange:P,children:f.map(j=>_.jsxs(ac,{value:j._id,children:[j.name,"  M:",j.priceMonthly," | Y:",j.priceYearly," | 1T:",j.priceOneTime]},j._id))})})}),_.jsx(cr,{}),_.jsxs(ot,{span:12,children:[_.jsx("b",{children:"Plan Price:"}),_.jsxs("p",{children:["",h]})]}),_.jsxs(ot,{span:12,children:[_.jsx("b",{children:"Total (Incl GST):"}),_.jsxs("p",{style:{color:"green"},children:["",m]})]}),_.jsx(ot,{span:24,children:_.jsx(Je.Item,{name:"billingCycle",label:"Billing Cycle",rules:[{required:!0}],children:_.jsxs(En,{onChange:j=>{const L=f.find(K=>K._id===b.getFieldValue("planId"));C(L,j)},children:[_.jsx(ac,{value:"Monthly",children:"Monthly"}),_.jsx(ac,{value:"One Time",children:"One Time"}),_.jsx(ac,{value:"Yearly",children:"Yearly"})]})})}),_.jsx(ot,{span:24,children:_.jsx(Je.Item,{name:"amountPaid",label:"Amount Paid ()",rules:[{required:!0}],children:_.jsx(gP,{min:1,style:{width:"100%"}})})}),_.jsx(ot,{span:24,children:_.jsx(_t,{type:"primary",htmlType:"submit",block:!0,loading:w,children:"Confirm & Create "})})]})})})]})};function wi(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=wi(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Ty={exports:{}},Ay={},Cy={exports:{}},Ry={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC;function $J(){if(dC)return Ry;dC=1;var t=yx();function e(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function c(g,m){var v=m(),w=r({inst:{value:v,getSnapshot:m}}),x=w[0].inst,b=w[1];return s(function(){x.value=v,x.getSnapshot=m,f(x)&&b({inst:x})},[g,v,m]),i(function(){return f(x)&&b({inst:x}),g(function(){f(x)&&b({inst:x})})},[g]),a(v),v}function f(g){var m=g.getSnapshot;g=g.value;try{var v=m();return!n(g,v)}catch{return!0}}function d(g,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Ry.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Ry}var hC;function VJ(){return hC||(hC=1,Cy.exports=$J()),Cy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function qJ(){if(pC)return Ay;pC=1;var t=yx(),e=VJ();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,c=t.useMemo,f=t.useDebugValue;return Ay.useSyncExternalStoreWithSelector=function(d,h,g,m,v){var w=s(null);if(w.current===null){var x={hasValue:!1,value:null};w.current=x}else x=w.current;w=c(function(){function S(V){if(!T){if(T=!0,A=V,V=m(V),v!==void 0&&x.hasValue){var I=x.value;if(v(I,V))return C=I}return C=V}if(I=C,r(A,V))return I;var j=m(V);return v!==void 0&&v(I,j)?(A=V,I):(A=V,C=j)}var T=!1,A,C,P=g===void 0?null:g;return[function(){return S(h())},P===null?void 0:function(){return S(P())}]},[h,g,m,v]);var b=i(d,w[0],w[1]);return a(function(){x.hasValue=!0,x.value=b},[b]),f(b),b},Ay}var gC;function WJ(){return gC||(gC=1,Ty.exports=qJ()),Ty.exports}var GJ=WJ();const YJ=Hp(GJ),XJ={},mC=t=>{let e;const n=new Set,r=(h,g)=>{const m=typeof h=="function"?h(e):h;if(!Object.is(m,e)){const v=e;e=g??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(w=>w(e,v))}},i=()=>e,f={setState:r,getState:i,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(XJ?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,i,f);return f},KJ=t=>t?mC(t):mC,{useDebugValue:QJ}=Te,{useSyncExternalStoreWithSelector:ZJ}=YJ,JJ=t=>t;function aI(t,e=JJ,n){const r=ZJ(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return QJ(r),r}const vC=(t,e)=>{const n=KJ(t),r=(i,s=e)=>aI(n,i,s);return Object.assign(r,n),r},eee=(t,e)=>t?vC(t,e):vC;function Pr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var tee={value:()=>{}};function mg(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new j0(n)}function j0(t){this._=t}function nee(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}j0.prototype=mg.prototype={constructor:j0,on:function(t,e){var n=this._,r=nee(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=ree(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=yC(n[i],t.name,e);else if(e==null)for(i in n)n[i]=yC(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new j0(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function ree(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function yC(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=tee,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Y1="http://www.w3.org/1999/xhtml";const xC={svg:"http://www.w3.org/2000/svg",xhtml:Y1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vg(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),xC.hasOwnProperty(e)?{space:xC[e],local:t}:t}function iee(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Y1&&e.documentElement.namespaceURI===Y1?e.createElement(t):e.createElementNS(n,t)}}function see(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function oI(t){var e=vg(t);return(e.local?see:iee)(e)}function aee(){}function U_(t){return t==null?aee:function(){return this.querySelector(t)}}function oee(t){typeof t!="function"&&(t=U_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,c=r[i]=new Array(a),f,d,h=0;h<a;++h)(f=s[h])&&(d=t.call(f,f.__data__,h,s))&&("__data__"in f&&(d.__data__=f.__data__),c[h]=d);return new ri(r,this._parents)}function lee(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function cee(){return[]}function lI(t){return t==null?cee:function(){return this.querySelectorAll(t)}}function uee(t){return function(){return lee(t.apply(this,arguments))}}function fee(t){typeof t=="function"?t=uee(t):t=lI(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],c=a.length,f,d=0;d<c;++d)(f=a[d])&&(r.push(t.call(f,f.__data__,d,a)),i.push(f));return new ri(r,i)}function cI(t){return function(){return this.matches(t)}}function uI(t){return function(e){return e.matches(t)}}var dee=Array.prototype.find;function hee(t){return function(){return dee.call(this.children,t)}}function pee(){return this.firstElementChild}function gee(t){return this.select(t==null?pee:hee(typeof t=="function"?t:uI(t)))}var mee=Array.prototype.filter;function vee(){return Array.from(this.children)}function yee(t){return function(){return mee.call(this.children,t)}}function xee(t){return this.selectAll(t==null?vee:yee(typeof t=="function"?t:uI(t)))}function _ee(t){typeof t!="function"&&(t=cI(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,c=r[i]=[],f,d=0;d<a;++d)(f=s[d])&&t.call(f,f.__data__,d,s)&&c.push(f);return new ri(r,this._parents)}function fI(t){return new Array(t.length)}function wee(){return new ri(this._enter||this._groups.map(fI),this._parents)}function Tp(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Tp.prototype={constructor:Tp,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function bee(t){return function(){return t}}function Eee(t,e,n,r,i,s){for(var a=0,c,f=e.length,d=s.length;a<d;++a)(c=e[a])?(c.__data__=s[a],r[a]=c):n[a]=new Tp(t,s[a]);for(;a<f;++a)(c=e[a])&&(i[a]=c)}function See(t,e,n,r,i,s,a){var c,f,d=new Map,h=e.length,g=s.length,m=new Array(h),v;for(c=0;c<h;++c)(f=e[c])&&(m[c]=v=a.call(f,f.__data__,c,e)+"",d.has(v)?i[c]=f:d.set(v,f));for(c=0;c<g;++c)v=a.call(t,s[c],c,s)+"",(f=d.get(v))?(r[c]=f,f.__data__=s[c],d.delete(v)):n[c]=new Tp(t,s[c]);for(c=0;c<h;++c)(f=e[c])&&d.get(m[c])===f&&(i[c]=f)}function Tee(t){return t.__data__}function Aee(t,e){if(!arguments.length)return Array.from(this,Tee);var n=e?See:Eee,r=this._parents,i=this._groups;typeof t!="function"&&(t=bee(t));for(var s=i.length,a=new Array(s),c=new Array(s),f=new Array(s),d=0;d<s;++d){var h=r[d],g=i[d],m=g.length,v=Cee(t.call(h,h&&h.__data__,d,r)),w=v.length,x=c[d]=new Array(w),b=a[d]=new Array(w),S=f[d]=new Array(m);n(h,g,x,b,S,v,e);for(var T=0,A=0,C,P;T<w;++T)if(C=x[T]){for(T>=A&&(A=T+1);!(P=b[A])&&++A<w;);C._next=P||null}}return a=new ri(a,r),a._enter=c,a._exit=f,a}function Cee(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ree(){return new ri(this._exit||this._groups.map(fI),this._parents)}function Dee(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Oee(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),c=new Array(i),f=0;f<a;++f)for(var d=n[f],h=r[f],g=d.length,m=c[f]=new Array(g),v,w=0;w<g;++w)(v=d[w]||h[w])&&(m[w]=v);for(;f<i;++f)c[f]=n[f];return new ri(c,this._parents)}function kee(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Nee(t){t||(t=Iee);function e(g,m){return g&&m?t(g.__data__,m.__data__):!g-!m}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],c=a.length,f=i[s]=new Array(c),d,h=0;h<c;++h)(d=a[h])&&(f[h]=d);f.sort(e)}return new ri(i,this._parents).order()}function Iee(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Mee(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function jee(){return Array.from(this)}function Pee(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function Lee(){let t=0;for(const e of this)++t;return t}function Bee(){return!this.node()}function Fee(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,c;s<a;++s)(c=i[s])&&t.call(c,c.__data__,s,i);return this}function Uee(t){return function(){this.removeAttribute(t)}}function Hee(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zee(t,e){return function(){this.setAttribute(t,e)}}function $ee(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Vee(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function qee(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Wee(t,e){var n=vg(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Hee:Uee:typeof e=="function"?n.local?qee:Vee:n.local?$ee:zee)(n,e))}function dI(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Gee(t){return function(){this.style.removeProperty(t)}}function Yee(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Xee(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Kee(t,e,n){return arguments.length>1?this.each((e==null?Gee:typeof e=="function"?Xee:Yee)(t,e,n??"")):Bc(this.node(),t)}function Bc(t,e){return t.style.getPropertyValue(e)||dI(t).getComputedStyle(t,null).getPropertyValue(e)}function Qee(t){return function(){delete this[t]}}function Zee(t,e){return function(){this[t]=e}}function Jee(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ete(t,e){return arguments.length>1?this.each((e==null?Qee:typeof e=="function"?Jee:Zee)(t,e)):this.node()[t]}function hI(t){return t.trim().split(/^|\s+/)}function H_(t){return t.classList||new pI(t)}function pI(t){this._node=t,this._names=hI(t.getAttribute("class")||"")}pI.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function gI(t,e){for(var n=H_(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function mI(t,e){for(var n=H_(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function tte(t){return function(){gI(this,t)}}function nte(t){return function(){mI(this,t)}}function rte(t,e){return function(){(e.apply(this,arguments)?gI:mI)(this,t)}}function ite(t,e){var n=hI(t+"");if(arguments.length<2){for(var r=H_(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?rte:e?tte:nte)(n,e))}function ste(){this.textContent=""}function ate(t){return function(){this.textContent=t}}function ote(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function lte(t){return arguments.length?this.each(t==null?ste:(typeof t=="function"?ote:ate)(t)):this.node().textContent}function cte(){this.innerHTML=""}function ute(t){return function(){this.innerHTML=t}}function fte(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function dte(t){return arguments.length?this.each(t==null?cte:(typeof t=="function"?fte:ute)(t)):this.node().innerHTML}function hte(){this.nextSibling&&this.parentNode.appendChild(this)}function pte(){return this.each(hte)}function gte(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mte(){return this.each(gte)}function vte(t){var e=typeof t=="function"?t:oI(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function yte(){return null}function xte(t,e){var n=typeof t=="function"?t:oI(t),r=e==null?yte:typeof e=="function"?e:U_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function _te(){var t=this.parentNode;t&&t.removeChild(this)}function wte(){return this.each(_te)}function bte(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ete(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ste(t){return this.select(t?Ete:bte)}function Tte(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ate(t){return function(e){t.call(this,e,this.__data__)}}function Cte(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Rte(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Dte(t,e,n){return function(){var r=this.__on,i,s=Ate(e);if(r){for(var a=0,c=r.length;a<c;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Ote(t,e,n){var r=Cte(t+""),i,s=r.length,a;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,d=c.length,h;f<d;++f)for(i=0,h=c[f];i<s;++i)if((a=r[i]).type===h.type&&a.name===h.name)return h.value}return}for(c=e?Dte:Rte,i=0;i<s;++i)this.each(c(r[i],e,n));return this}function vI(t,e,n){var r=dI(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function kte(t,e){return function(){return vI(this,t,e)}}function Nte(t,e){return function(){return vI(this,t,e.apply(this,arguments))}}function Ite(t,e){return this.each((typeof e=="function"?Nte:kte)(t,e))}function*Mte(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var yI=[null];function ri(t,e){this._groups=t,this._parents=e}function _d(){return new ri([[document.documentElement]],yI)}function jte(){return this}ri.prototype=_d.prototype={constructor:ri,select:oee,selectAll:fee,selectChild:gee,selectChildren:xee,filter:_ee,data:Aee,enter:wee,exit:Ree,join:Dee,merge:Oee,selection:jte,order:kee,sort:Nee,call:Mee,nodes:jee,node:Pee,size:Lee,empty:Bee,each:Fee,attr:Wee,style:Kee,property:ete,classed:ite,text:lte,html:dte,raise:pte,lower:mte,append:vte,insert:xte,remove:wte,clone:Ste,datum:Tte,on:Ote,dispatch:Ite,[Symbol.iterator]:Mte};function Pi(t){return typeof t=="string"?new ri([[document.querySelector(t)]],[document.documentElement]):new ri([[t]],yI)}function Pte(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ss(t,e){if(t=Pte(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Lte={passive:!1},qf={capture:!0,passive:!1};function Dy(t){t.stopImmediatePropagation()}function Cc(t){t.preventDefault(),t.stopImmediatePropagation()}function xI(t){var e=t.document.documentElement,n=Pi(t).on("dragstart.drag",Cc,qf);"onselectstart"in e?n.on("selectstart.drag",Cc,qf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function _I(t,e){var n=t.document.documentElement,r=Pi(t).on("dragstart.drag",null);e&&(r.on("click.drag",Cc,qf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const f0=t=>()=>t;function X1(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:a,y:c,dx:f,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}X1.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Bte(t){return!t.ctrlKey&&!t.button}function Fte(){return this.parentNode}function Ute(t,e){return e??{x:t.x,y:t.y}}function Hte(){return navigator.maxTouchPoints||"ontouchstart"in this}function zte(){var t=Bte,e=Fte,n=Ute,r=Hte,i={},s=mg("start","drag","end"),a=0,c,f,d,h,g=0;function m(C){C.on("mousedown.drag",v).filter(r).on("touchstart.drag",b).on("touchmove.drag",S,Lte).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(C,P){if(!(h||!t.call(this,C,P))){var V=A(this,e.call(this,C,P),C,P,"mouse");V&&(Pi(C.view).on("mousemove.drag",w,qf).on("mouseup.drag",x,qf),xI(C.view),Dy(C),d=!1,c=C.clientX,f=C.clientY,V("start",C))}}function w(C){if(Cc(C),!d){var P=C.clientX-c,V=C.clientY-f;d=P*P+V*V>g}i.mouse("drag",C)}function x(C){Pi(C.view).on("mousemove.drag mouseup.drag",null),_I(C.view,d),Cc(C),i.mouse("end",C)}function b(C,P){if(t.call(this,C,P)){var V=C.changedTouches,I=e.call(this,C,P),j=V.length,L,K;for(L=0;L<j;++L)(K=A(this,I,C,P,V[L].identifier,V[L]))&&(Dy(C),K("start",C,V[L]))}}function S(C){var P=C.changedTouches,V=P.length,I,j;for(I=0;I<V;++I)(j=i[P[I].identifier])&&(Cc(C),j("drag",C,P[I]))}function T(C){var P=C.changedTouches,V=P.length,I,j;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),I=0;I<V;++I)(j=i[P[I].identifier])&&(Dy(C),j("end",C,P[I]))}function A(C,P,V,I,j,L){var K=s.copy(),te=ss(L||V,P),X,ce,N;if((N=n.call(C,new X1("beforestart",{sourceEvent:V,target:m,identifier:j,active:a,x:te[0],y:te[1],dx:0,dy:0,dispatch:K}),I))!=null)return X=N.x-te[0]||0,ce=N.y-te[1]||0,function ee(B,re,le){var ie=te,Q;switch(B){case"start":i[j]=ee,Q=a++;break;case"end":delete i[j],--a;case"drag":te=ss(le||re,P),Q=a;break}K.call(B,C,new X1(B,{sourceEvent:re,subject:N,target:m,identifier:j,active:Q,x:te[0]+X,y:te[1]+ce,dx:te[0]-ie[0],dy:te[1]-ie[1],dispatch:K}),I)}}return m.filter=function(C){return arguments.length?(t=typeof C=="function"?C:f0(!!C),m):t},m.container=function(C){return arguments.length?(e=typeof C=="function"?C:f0(C),m):e},m.subject=function(C){return arguments.length?(n=typeof C=="function"?C:f0(C),m):n},m.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:f0(!!C),m):r},m.on=function(){var C=s.on.apply(s,arguments);return C===s?m:C},m.clickDistance=function(C){return arguments.length?(g=(C=+C)*C,m):Math.sqrt(g)},m}function z_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wI(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wd(){}var Wf=.7,Ap=1/Wf,Rc="\\s*([+-]?\\d+)\\s*",Gf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$te=/^#([0-9a-f]{3,8})$/,Vte=new RegExp(`^rgb\\(${Rc},${Rc},${Rc}\\)$`),qte=new RegExp(`^rgb\\(${cs},${cs},${cs}\\)$`),Wte=new RegExp(`^rgba\\(${Rc},${Rc},${Rc},${Gf}\\)$`),Gte=new RegExp(`^rgba\\(${cs},${cs},${cs},${Gf}\\)$`),Yte=new RegExp(`^hsl\\(${Gf},${cs},${cs}\\)$`),Xte=new RegExp(`^hsla\\(${Gf},${cs},${cs},${Gf}\\)$`),_C={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};z_(wd,Yf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wC,formatHex:wC,formatHex8:Kte,formatHsl:Qte,formatRgb:bC,toString:bC});function wC(){return this.rgb().formatHex()}function Kte(){return this.rgb().formatHex8()}function Qte(){return bI(this).formatHsl()}function bC(){return this.rgb().formatRgb()}function Yf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$te.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?EC(e):n===3?new Or(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?d0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?d0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Vte.exec(t))?new Or(e[1],e[2],e[3],1):(e=qte.exec(t))?new Or(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Wte.exec(t))?d0(e[1],e[2],e[3],e[4]):(e=Gte.exec(t))?d0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Yte.exec(t))?AC(e[1],e[2]/100,e[3]/100,1):(e=Xte.exec(t))?AC(e[1],e[2]/100,e[3]/100,e[4]):_C.hasOwnProperty(t)?EC(_C[t]):t==="transparent"?new Or(NaN,NaN,NaN,0):null}function EC(t){return new Or(t>>16&255,t>>8&255,t&255,1)}function d0(t,e,n,r){return r<=0&&(t=e=n=NaN),new Or(t,e,n,r)}function Zte(t){return t instanceof wd||(t=Yf(t)),t?(t=t.rgb(),new Or(t.r,t.g,t.b,t.opacity)):new Or}function Cp(t,e,n,r){return arguments.length===1?Zte(t):new Or(t,e,n,r??1)}function Or(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}z_(Or,Cp,wI(wd,{brighter(t){return t=t==null?Ap:Math.pow(Ap,t),new Or(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wf:Math.pow(Wf,t),new Or(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Or(Wo(this.r),Wo(this.g),Wo(this.b),Rp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SC,formatHex:SC,formatHex8:Jte,formatRgb:TC,toString:TC}));function SC(){return`#${Lo(this.r)}${Lo(this.g)}${Lo(this.b)}`}function Jte(){return`#${Lo(this.r)}${Lo(this.g)}${Lo(this.b)}${Lo((isNaN(this.opacity)?1:this.opacity)*255)}`}function TC(){const t=Rp(this.opacity);return`${t===1?"rgb(":"rgba("}${Wo(this.r)}, ${Wo(this.g)}, ${Wo(this.b)}${t===1?")":`, ${t})`}`}function Rp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Lo(t){return t=Wo(t),(t<16?"0":"")+t.toString(16)}function AC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Li(t,e,n,r)}function bI(t){if(t instanceof Li)return new Li(t.h,t.s,t.l,t.opacity);if(t instanceof wd||(t=Yf(t)),!t)return new Li;if(t instanceof Li)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,c=s-i,f=(s+i)/2;return c?(e===s?a=(n-r)/c+(n<r)*6:n===s?a=(r-e)/c+2:a=(e-n)/c+4,c/=f<.5?s+i:2-s-i,a*=60):c=f>0&&f<1?0:a,new Li(a,c,f,t.opacity)}function ene(t,e,n,r){return arguments.length===1?bI(t):new Li(t,e,n,r??1)}function Li(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}z_(Li,ene,wI(wd,{brighter(t){return t=t==null?Ap:Math.pow(Ap,t),new Li(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wf:Math.pow(Wf,t),new Li(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Or(Oy(t>=240?t-240:t+120,i,r),Oy(t,i,r),Oy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Li(CC(this.h),h0(this.s),h0(this.l),Rp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Rp(this.opacity);return`${t===1?"hsl(":"hsla("}${CC(this.h)}, ${h0(this.s)*100}%, ${h0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CC(t){return t=(t||0)%360,t<0?t+360:t}function h0(t){return Math.max(0,Math.min(1,t||0))}function Oy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function tne(t,e,n,r,i){var s=t*t,a=s*t;return((1-3*t+3*s-a)*e+(4-6*s+3*a)*n+(1+3*t+3*s-3*a)*r+a*i)/6}function nne(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1],a=r>0?t[r-1]:2*i-s,c=r<e-1?t[r+2]:2*s-i;return tne((n-r/e)*e,a,i,s,c)}}const $_=t=>()=>t;function EI(t,e){return function(n){return t+n*e}}function rne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Yce(t,e){var n=e-t;return n?EI(t,n>180||n<-180?n-360*Math.round(n/360):n):$_(isNaN(t)?e:t)}function ine(t){return(t=+t)==1?SI:function(e,n){return n-e?rne(e,n,t):$_(isNaN(e)?n:e)}}function SI(t,e){var n=e-t;return n?EI(t,n):$_(isNaN(t)?e:t)}const RC=function t(e){var n=ine(e);function r(i,s){var a=n((i=Cp(i)).r,(s=Cp(s)).r),c=n(i.g,s.g),f=n(i.b,s.b),d=SI(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=c(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=t,r}(1);function sne(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),s=new Array(n),a,c;for(a=0;a<n;++a)c=Cp(e[a]),r[a]=c.r||0,i[a]=c.g||0,s[a]=c.b||0;return r=t(r),i=t(i),s=t(s),c.opacity=1,function(f){return c.r=r(f),c.g=i(f),c.b=s(f),c+""}}}var Xce=sne(nne);function Sa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var K1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ky=new RegExp(K1.source,"g");function ane(t){return function(){return t}}function one(t){return function(e){return t(e)+""}}function lne(t,e){var n=K1.lastIndex=ky.lastIndex=0,r,i,s,a=-1,c=[],f=[];for(t=t+"",e=e+"";(r=K1.exec(t))&&(i=ky.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[a]?c[a]+=s:c[++a]=s),(r=r[0])===(i=i[0])?c[a]?c[a]+=i:c[++a]=i:(c[++a]=null,f.push({i:a,x:Sa(r,i)})),n=ky.lastIndex;return n<e.length&&(s=e.slice(n),c[a]?c[a]+=s:c[++a]=s),c.length<2?f[0]?one(f[0].x):ane(e):(e=f.length,function(d){for(var h=0,g;h<e;++h)c[(g=f[h]).i]=g.x(d);return c.join("")})}var DC=180/Math.PI,Q1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function TI(t,e,n,r,i,s){var a,c,f;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(f=t*n+e*r)&&(n-=t*f,r-=e*f),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,f/=c),t*r<e*n&&(t=-t,e=-e,f=-f,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*DC,skewX:Math.atan(f)*DC,scaleX:a,scaleY:c}}var p0;function cne(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Q1:TI(e.a,e.b,e.c,e.d,e.e,e.f)}function une(t){return t==null||(p0||(p0=document.createElementNS("http://www.w3.org/2000/svg","g")),p0.setAttribute("transform",t),!(t=p0.transform.baseVal.consolidate()))?Q1:(t=t.matrix,TI(t.a,t.b,t.c,t.d,t.e,t.f))}function AI(t,e,n,r){function i(d){return d.length?d.pop()+" ":""}function s(d,h,g,m,v,w){if(d!==g||h!==m){var x=v.push("translate(",null,e,null,n);w.push({i:x-4,x:Sa(d,g)},{i:x-2,x:Sa(h,m)})}else(g||m)&&v.push("translate("+g+e+m+n)}function a(d,h,g,m){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),m.push({i:g.push(i(g)+"rotate(",null,r)-2,x:Sa(d,h)})):h&&g.push(i(g)+"rotate("+h+r)}function c(d,h,g,m){d!==h?m.push({i:g.push(i(g)+"skewX(",null,r)-2,x:Sa(d,h)}):h&&g.push(i(g)+"skewX("+h+r)}function f(d,h,g,m,v,w){if(d!==g||h!==m){var x=v.push(i(v)+"scale(",null,",",null,")");w.push({i:x-4,x:Sa(d,g)},{i:x-2,x:Sa(h,m)})}else(g!==1||m!==1)&&v.push(i(v)+"scale("+g+","+m+")")}return function(d,h){var g=[],m=[];return d=t(d),h=t(h),s(d.translateX,d.translateY,h.translateX,h.translateY,g,m),a(d.rotate,h.rotate,g,m),c(d.skewX,h.skewX,g,m),f(d.scaleX,d.scaleY,h.scaleX,h.scaleY,g,m),d=h=null,function(v){for(var w=-1,x=m.length,b;++w<x;)g[(b=m[w]).i]=b.x(v);return g.join("")}}}var fne=AI(cne,"px, ","px)","deg)"),dne=AI(une,", ",")",")"),hne=1e-12;function OC(t){return((t=Math.exp(t))+1/t)/2}function pne(t){return((t=Math.exp(t))-1/t)/2}function gne(t){return((t=Math.exp(2*t))-1)/(t+1)}const mne=function t(e,n,r){function i(s,a){var c=s[0],f=s[1],d=s[2],h=a[0],g=a[1],m=a[2],v=h-c,w=g-f,x=v*v+w*w,b,S;if(x<hne)S=Math.log(m/d)/e,b=function(I){return[c+I*v,f+I*w,d*Math.exp(e*I*S)]};else{var T=Math.sqrt(x),A=(m*m-d*d+r*x)/(2*d*n*T),C=(m*m-d*d-r*x)/(2*m*n*T),P=Math.log(Math.sqrt(A*A+1)-A),V=Math.log(Math.sqrt(C*C+1)-C);S=(V-P)/e,b=function(I){var j=I*S,L=OC(P),K=d/(n*T)*(L*gne(e*j+P)-pne(P));return[c+K*v,f+K*w,d*L/OC(e*j+P)]}}return b.duration=S*1e3*e/Math.SQRT2,b}return i.rho=function(s){var a=Math.max(.001,+s),c=a*a,f=c*c;return t(a,c,f)},i}(Math.SQRT2,2,4);var Fc=0,hf=0,rf=0,CI=1e3,Dp,pf,Op=0,el=0,yg=0,Xf=typeof performance=="object"&&performance.now?performance:Date,RI=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function V_(){return el||(RI(vne),el=Xf.now()+yg)}function vne(){el=0}function kp(){this._call=this._time=this._next=null}kp.prototype=DI.prototype={constructor:kp,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?V_():+n)+(e==null?0:+e),!this._next&&pf!==this&&(pf?pf._next=this:Dp=this,pf=this),this._call=t,this._time=n,Z1()},stop:function(){this._call&&(this._call=null,this._time=1/0,Z1())}};function DI(t,e,n){var r=new kp;return r.restart(t,e,n),r}function yne(){V_(),++Fc;for(var t=Dp,e;t;)(e=el-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Fc}function kC(){el=(Op=Xf.now())+yg,Fc=hf=0;try{yne()}finally{Fc=0,_ne(),el=0}}function xne(){var t=Xf.now(),e=t-Op;e>CI&&(yg-=e,Op=t)}function _ne(){for(var t,e=Dp,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Dp=n);pf=t,Z1(r)}function Z1(t){if(!Fc){hf&&(hf=clearTimeout(hf));var e=t-el;e>24?(t<1/0&&(hf=setTimeout(kC,t-Xf.now()-yg)),rf&&(rf=clearInterval(rf))):(rf||(Op=Xf.now(),rf=setInterval(xne,CI)),Fc=1,RI(kC))}}function NC(t,e,n){var r=new kp;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var wne=mg("start","end","cancel","interrupt"),bne=[],OI=0,IC=1,J1=2,P0=3,MC=4,ex=5,L0=6;function xg(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Ene(t,n,{name:e,index:r,group:i,on:wne,tween:bne,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:OI})}function q_(t,e){var n=Vi(t,e);if(n.state>OI)throw new Error("too late; already scheduled");return n}function ps(t,e){var n=Vi(t,e);if(n.state>P0)throw new Error("too late; already running");return n}function Vi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ene(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=DI(s,0,n.time);function s(d){n.state=IC,n.timer.restart(a,n.delay,n.time),n.delay<=d&&a(d-n.delay)}function a(d){var h,g,m,v;if(n.state!==IC)return f();for(h in r)if(v=r[h],v.name===n.name){if(v.state===P0)return NC(a);v.state===MC?(v.state=L0,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[h]):+h<e&&(v.state=L0,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[h])}if(NC(function(){n.state===P0&&(n.state=MC,n.timer.restart(c,n.delay,n.time),c(d))}),n.state=J1,n.on.call("start",t,t.__data__,n.index,n.group),n.state===J1){for(n.state=P0,i=new Array(m=n.tween.length),h=0,g=-1;h<m;++h)(v=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++g]=v);i.length=g+1}}function c(d){for(var h=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(f),n.state=ex,1),g=-1,m=i.length;++g<m;)i[g].call(t,h);n.state===ex&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=L0,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function B0(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>J1&&r.state<ex,r.state=L0,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function Sne(t){return this.each(function(){B0(this,t)})}function Tne(t,e){var n,r;return function(){var i=ps(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,c=r.length;a<c;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Ane(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ps(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var c={name:e,value:n},f=0,d=i.length;f<d;++f)if(i[f].name===e){i[f]=c;break}f===d&&i.push(c)}s.tween=i}}function Cne(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Vi(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?Tne:Ane)(n,t,e))}function W_(t,e,n){var r=t._id;return t.each(function(){var i=ps(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Vi(i,r).value[e]}}function kI(t,e){var n;return(typeof e=="number"?Sa:e instanceof Yf?RC:(n=Yf(e))?(e=n,RC):lne)(t,e)}function Rne(t){return function(){this.removeAttribute(t)}}function Dne(t){return function(){this.removeAttributeNS(t.space,t.local)}}function One(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function kne(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function Nne(t,e,n){var r,i,s;return function(){var a,c=n(this),f;return c==null?void this.removeAttribute(t):(a=this.getAttribute(t),f=c+"",a===f?null:a===r&&f===i?s:(i=f,s=e(r=a,c)))}}function Ine(t,e,n){var r,i,s;return function(){var a,c=n(this),f;return c==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),f=c+"",a===f?null:a===r&&f===i?s:(i=f,s=e(r=a,c)))}}function Mne(t,e){var n=vg(t),r=n==="transform"?dne:kI;return this.attrTween(t,typeof e=="function"?(n.local?Ine:Nne)(n,r,W_(this,"attr."+t,e)):e==null?(n.local?Dne:Rne)(n):(n.local?kne:One)(n,r,e))}function jne(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Pne(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Lne(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Pne(t,s)),n}return i._value=e,i}function Bne(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&jne(t,s)),n}return i._value=e,i}function Fne(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=vg(t);return this.tween(n,(r.local?Lne:Bne)(r,e))}function Une(t,e){return function(){q_(this,t).delay=+e.apply(this,arguments)}}function Hne(t,e){return e=+e,function(){q_(this,t).delay=e}}function zne(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Une:Hne)(e,t)):Vi(this.node(),e).delay}function $ne(t,e){return function(){ps(this,t).duration=+e.apply(this,arguments)}}function Vne(t,e){return e=+e,function(){ps(this,t).duration=e}}function qne(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$ne:Vne)(e,t)):Vi(this.node(),e).duration}function Wne(t,e){if(typeof e!="function")throw new Error;return function(){ps(this,t).ease=e}}function Gne(t){var e=this._id;return arguments.length?this.each(Wne(e,t)):Vi(this.node(),e).ease}function Yne(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ps(this,t).ease=n}}function Xne(t){if(typeof t!="function")throw new Error;return this.each(Yne(this._id,t))}function Kne(t){typeof t!="function"&&(t=cI(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,c=r[i]=[],f,d=0;d<a;++d)(f=s[d])&&t.call(f,f.__data__,d,s)&&c.push(f);return new Ws(r,this._parents,this._name,this._id)}function Qne(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),c=0;c<s;++c)for(var f=e[c],d=n[c],h=f.length,g=a[c]=new Array(h),m,v=0;v<h;++v)(m=f[v]||d[v])&&(g[v]=m);for(;c<r;++c)a[c]=e[c];return new Ws(a,this._parents,this._name,this._id)}function Zne(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Jne(t,e,n){var r,i,s=Zne(e)?q_:ps;return function(){var a=s(this,t),c=a.on;c!==r&&(i=(r=c).copy()).on(e,n),a.on=i}}function ere(t,e){var n=this._id;return arguments.length<2?Vi(this.node(),n).on.on(t):this.each(Jne(n,t,e))}function tre(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function nre(){return this.on("end.remove",tre(this._id))}function rre(t){var e=this._name,n=this._id;typeof t!="function"&&(t=U_(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var c=r[a],f=c.length,d=s[a]=new Array(f),h,g,m=0;m<f;++m)(h=c[m])&&(g=t.call(h,h.__data__,m,c))&&("__data__"in h&&(g.__data__=h.__data__),d[m]=g,xg(d[m],e,n,m,d,Vi(h,n)));return new Ws(s,this._parents,e,n)}function ire(t){var e=this._name,n=this._id;typeof t!="function"&&(t=lI(t));for(var r=this._groups,i=r.length,s=[],a=[],c=0;c<i;++c)for(var f=r[c],d=f.length,h,g=0;g<d;++g)if(h=f[g]){for(var m=t.call(h,h.__data__,g,f),v,w=Vi(h,n),x=0,b=m.length;x<b;++x)(v=m[x])&&xg(v,e,n,x,m,w);s.push(m),a.push(h)}return new Ws(s,a,e,n)}var sre=_d.prototype.constructor;function are(){return new sre(this._groups,this._parents)}function ore(t,e){var n,r,i;return function(){var s=Bc(this,t),a=(this.style.removeProperty(t),Bc(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function NI(t){return function(){this.style.removeProperty(t)}}function lre(t,e,n){var r,i=n+"",s;return function(){var a=Bc(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function cre(t,e,n){var r,i,s;return function(){var a=Bc(this,t),c=n(this),f=c+"";return c==null&&(f=c=(this.style.removeProperty(t),Bc(this,t))),a===f?null:a===r&&f===i?s:(i=f,s=e(r=a,c))}}function ure(t,e){var n,r,i,s="style."+e,a="end."+s,c;return function(){var f=ps(this,t),d=f.on,h=f.value[s]==null?c||(c=NI(e)):void 0;(d!==n||i!==h)&&(r=(n=d).copy()).on(a,i=h),f.on=r}}function fre(t,e,n){var r=(t+="")=="transform"?fne:kI;return e==null?this.styleTween(t,ore(t,r)).on("end.style."+t,NI(t)):typeof e=="function"?this.styleTween(t,cre(t,r,W_(this,"style."+t,e))).each(ure(this._id,t)):this.styleTween(t,lre(t,r,e),n).on("end.style."+t,null)}function dre(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function hre(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&dre(t,a,n)),r}return s._value=e,s}function pre(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,hre(t,e,n??""))}function gre(t){return function(){this.textContent=t}}function mre(t){return function(){var e=t(this);this.textContent=e??""}}function vre(t){return this.tween("text",typeof t=="function"?mre(W_(this,"text",t)):gre(t==null?"":t+""))}function yre(t){return function(e){this.textContent=t.call(this,e)}}function xre(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&yre(i)),e}return r._value=t,r}function _re(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,xre(t))}function wre(){for(var t=this._name,e=this._id,n=II(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],c=a.length,f,d=0;d<c;++d)if(f=a[d]){var h=Vi(f,e);xg(f,t,n,d,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ws(r,this._parents,t,n)}function bre(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var c={value:a},f={value:function(){--i===0&&s()}};n.each(function(){var d=ps(this,r),h=d.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(f)),d.on=e}),i===0&&s()})}var Ere=0;function Ws(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function II(){return++Ere}var Ns=_d.prototype;Ws.prototype={constructor:Ws,select:rre,selectAll:ire,selectChild:Ns.selectChild,selectChildren:Ns.selectChildren,filter:Kne,merge:Qne,selection:are,transition:wre,call:Ns.call,nodes:Ns.nodes,node:Ns.node,size:Ns.size,empty:Ns.empty,each:Ns.each,on:ere,attr:Mne,attrTween:Fne,style:fre,styleTween:pre,text:vre,textTween:_re,remove:nre,tween:Cne,delay:zne,duration:qne,ease:Gne,easeVarying:Xne,end:bre,[Symbol.iterator]:Ns[Symbol.iterator]};function Sre(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Tre={time:null,delay:0,duration:250,ease:Sre};function Are(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Cre(t){var e,n;t instanceof Ws?(e=t._id,t=t._name):(e=II(),(n=Tre).time=V_(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],c=a.length,f,d=0;d<c;++d)(f=a[d])&&xg(f,t,e,d,a,n||Are(f,e));return new Ws(r,this._parents,t,e)}_d.prototype.interrupt=Sne;_d.prototype.transition=Cre;const g0=t=>()=>t;function Rre(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ps(t,e,n){this.k=t,this.x=e,this.y=n}Ps.prototype={constructor:Ps,scale:function(t){return t===1?this:new Ps(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ps(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ba=new Ps(1,0,0);Ps.prototype;function Ny(t){t.stopImmediatePropagation()}function sf(t){t.preventDefault(),t.stopImmediatePropagation()}function Dre(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Ore(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function jC(){return this.__zoom||Ba}function kre(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Nre(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ire(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function Mre(){var t=Dre,e=Ore,n=Ire,r=kre,i=Nre,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],c=250,f=mne,d=mg("start","zoom","end"),h,g,m,v=500,w=150,x=0,b=10;function S(N){N.property("__zoom",jC).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",K).filter(i).on("touchstart.zoom",te).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",ce).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(N,ee,B,re){var le=N.selection?N.selection():N;le.property("__zoom",jC),N!==le?P(N,ee,B,re):le.interrupt().each(function(){V(this,arguments).event(re).start().zoom(null,typeof ee=="function"?ee.apply(this,arguments):ee).end()})},S.scaleBy=function(N,ee,B,re){S.scaleTo(N,function(){var le=this.__zoom.k,ie=typeof ee=="function"?ee.apply(this,arguments):ee;return le*ie},B,re)},S.scaleTo=function(N,ee,B,re){S.transform(N,function(){var le=e.apply(this,arguments),ie=this.__zoom,Q=B==null?C(le):typeof B=="function"?B.apply(this,arguments):B,ae=ie.invert(Q),D=typeof ee=="function"?ee.apply(this,arguments):ee;return n(A(T(ie,D),Q,ae),le,a)},B,re)},S.translateBy=function(N,ee,B,re){S.transform(N,function(){return n(this.__zoom.translate(typeof ee=="function"?ee.apply(this,arguments):ee,typeof B=="function"?B.apply(this,arguments):B),e.apply(this,arguments),a)},null,re)},S.translateTo=function(N,ee,B,re,le){S.transform(N,function(){var ie=e.apply(this,arguments),Q=this.__zoom,ae=re==null?C(ie):typeof re=="function"?re.apply(this,arguments):re;return n(Ba.translate(ae[0],ae[1]).scale(Q.k).translate(typeof ee=="function"?-ee.apply(this,arguments):-ee,typeof B=="function"?-B.apply(this,arguments):-B),ie,a)},re,le)};function T(N,ee){return ee=Math.max(s[0],Math.min(s[1],ee)),ee===N.k?N:new Ps(ee,N.x,N.y)}function A(N,ee,B){var re=ee[0]-B[0]*N.k,le=ee[1]-B[1]*N.k;return re===N.x&&le===N.y?N:new Ps(N.k,re,le)}function C(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function P(N,ee,B,re){N.on("start.zoom",function(){V(this,arguments).event(re).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(re).end()}).tween("zoom",function(){var le=this,ie=arguments,Q=V(le,ie).event(re),ae=e.apply(le,ie),D=B==null?C(ae):typeof B=="function"?B.apply(le,ie):B,q=Math.max(ae[1][0]-ae[0][0],ae[1][1]-ae[0][1]),z=le.__zoom,F=typeof ee=="function"?ee.apply(le,ie):ee,se=f(z.invert(D).concat(q/z.k),F.invert(D).concat(q/F.k));return function(be){if(be===1)be=F;else{var ke=se(be),Ne=q/ke[2];be=new Ps(Ne,D[0]-ke[0]*Ne,D[1]-ke[1]*Ne)}Q.zoom(null,be)}})}function V(N,ee,B){return!B&&N.__zooming||new I(N,ee)}function I(N,ee){this.that=N,this.args=ee,this.active=0,this.sourceEvent=null,this.extent=e.apply(N,ee),this.taps=0}I.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,ee){return this.mouse&&N!=="mouse"&&(this.mouse[1]=ee.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=ee.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=ee.invert(this.touch1[0])),this.that.__zoom=ee,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var ee=Pi(this.that).datum();d.call(N,this.that,new Rre(N,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:d}),ee)}};function j(N,...ee){if(!t.apply(this,arguments))return;var B=V(this,ee).event(N),re=this.__zoom,le=Math.max(s[0],Math.min(s[1],re.k*Math.pow(2,r.apply(this,arguments)))),ie=ss(N);if(B.wheel)(B.mouse[0][0]!==ie[0]||B.mouse[0][1]!==ie[1])&&(B.mouse[1]=re.invert(B.mouse[0]=ie)),clearTimeout(B.wheel);else{if(re.k===le)return;B.mouse=[ie,re.invert(ie)],B0(this),B.start()}sf(N),B.wheel=setTimeout(Q,w),B.zoom("mouse",n(A(T(re,le),B.mouse[0],B.mouse[1]),B.extent,a));function Q(){B.wheel=null,B.end()}}function L(N,...ee){if(m||!t.apply(this,arguments))return;var B=N.currentTarget,re=V(this,ee,!0).event(N),le=Pi(N.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",q,!0),ie=ss(N,B),Q=N.clientX,ae=N.clientY;xI(N.view),Ny(N),re.mouse=[ie,this.__zoom.invert(ie)],B0(this),re.start();function D(z){if(sf(z),!re.moved){var F=z.clientX-Q,se=z.clientY-ae;re.moved=F*F+se*se>x}re.event(z).zoom("mouse",n(A(re.that.__zoom,re.mouse[0]=ss(z,B),re.mouse[1]),re.extent,a))}function q(z){le.on("mousemove.zoom mouseup.zoom",null),_I(z.view,re.moved),sf(z),re.event(z).end()}}function K(N,...ee){if(t.apply(this,arguments)){var B=this.__zoom,re=ss(N.changedTouches?N.changedTouches[0]:N,this),le=B.invert(re),ie=B.k*(N.shiftKey?.5:2),Q=n(A(T(B,ie),re,le),e.apply(this,ee),a);sf(N),c>0?Pi(this).transition().duration(c).call(P,Q,re,N):Pi(this).call(S.transform,Q,re,N)}}function te(N,...ee){if(t.apply(this,arguments)){var B=N.touches,re=B.length,le=V(this,ee,N.changedTouches.length===re).event(N),ie,Q,ae,D;for(Ny(N),Q=0;Q<re;++Q)ae=B[Q],D=ss(ae,this),D=[D,this.__zoom.invert(D),ae.identifier],le.touch0?!le.touch1&&le.touch0[2]!==D[2]&&(le.touch1=D,le.taps=0):(le.touch0=D,ie=!0,le.taps=1+!!h);h&&(h=clearTimeout(h)),ie&&(le.taps<2&&(g=D[0],h=setTimeout(function(){h=null},v)),B0(this),le.start())}}function X(N,...ee){if(this.__zooming){var B=V(this,ee).event(N),re=N.changedTouches,le=re.length,ie,Q,ae,D;for(sf(N),ie=0;ie<le;++ie)Q=re[ie],ae=ss(Q,this),B.touch0&&B.touch0[2]===Q.identifier?B.touch0[0]=ae:B.touch1&&B.touch1[2]===Q.identifier&&(B.touch1[0]=ae);if(Q=B.that.__zoom,B.touch1){var q=B.touch0[0],z=B.touch0[1],F=B.touch1[0],se=B.touch1[1],be=(be=F[0]-q[0])*be+(be=F[1]-q[1])*be,ke=(ke=se[0]-z[0])*ke+(ke=se[1]-z[1])*ke;Q=T(Q,Math.sqrt(be/ke)),ae=[(q[0]+F[0])/2,(q[1]+F[1])/2],D=[(z[0]+se[0])/2,(z[1]+se[1])/2]}else if(B.touch0)ae=B.touch0[0],D=B.touch0[1];else return;B.zoom("touch",n(A(Q,ae,D),B.extent,a))}}function ce(N,...ee){if(this.__zooming){var B=V(this,ee).event(N),re=N.changedTouches,le=re.length,ie,Q;for(Ny(N),m&&clearTimeout(m),m=setTimeout(function(){m=null},v),ie=0;ie<le;++ie)Q=re[ie],B.touch0&&B.touch0[2]===Q.identifier?delete B.touch0:B.touch1&&B.touch1[2]===Q.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),B.taps===2&&(Q=ss(Q,this),Math.hypot(g[0]-Q[0],g[1]-Q[1])<b)){var ae=Pi(this).on("dblclick.zoom");ae&&ae.apply(this,arguments)}}}return S.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:g0(+N),S):r},S.filter=function(N){return arguments.length?(t=typeof N=="function"?N:g0(!!N),S):t},S.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:g0(!!N),S):i},S.extent=function(N){return arguments.length?(e=typeof N=="function"?N:g0([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),S):e},S.scaleExtent=function(N){return arguments.length?(s[0]=+N[0],s[1]=+N[1],S):[s[0],s[1]]},S.translateExtent=function(N){return arguments.length?(a[0][0]=+N[0][0],a[1][0]=+N[1][0],a[0][1]=+N[0][1],a[1][1]=+N[1][1],S):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},S.constrain=function(N){return arguments.length?(n=N,S):n},S.duration=function(N){return arguments.length?(c=+N,S):c},S.interpolate=function(N){return arguments.length?(f=N,S):f},S.on=function(){var N=d.on.apply(d,arguments);return N===d?S:N},S.clickDistance=function(N){return arguments.length?(x=(N=+N)*N,S):Math.sqrt(x)},S.tapDistance=function(N){return arguments.length?(b=+N,S):b},S}const _g=k.createContext(null),jre=_g.Provider,Gs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},MI=Gs.error001();function mn(t,e){const n=k.useContext(_g);if(n===null)throw new Error(MI);return aI(n,t,e)}const rr=()=>{const t=k.useContext(_g);if(t===null)throw new Error(MI);return k.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},Pre=t=>t.userSelectionActive?"none":"all";function Lre({position:t,children:e,className:n,style:r,...i}){const s=mn(Pre),a=`${t}`.split("-");return Te.createElement("div",{className:wi(["react-flow__panel",n,...a]),style:{...r,pointerEvents:s},...i},e)}function Bre({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:Te.createElement(Lre,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},Te.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Fre=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:a=[2,4],labelBgBorderRadius:c=2,children:f,className:d,...h})=>{const g=k.useRef(null),[m,v]=k.useState({x:0,y:0,width:0,height:0}),w=wi(["react-flow__edge-textwrapper",d]);return k.useEffect(()=>{if(g.current){const x=g.current.getBBox();v({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:Te.createElement("g",{transform:`translate(${t-m.width/2} ${e-m.height/2})`,className:w,visibility:m.width?"visible":"hidden",...h},i&&Te.createElement("rect",{width:m.width+2*a[0],x:-a[0],y:-a[1],height:m.height+2*a[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),Te.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:g,style:r},n),f)};var Ure=k.memo(Fre);const G_=t=>({width:t.offsetWidth,height:t.offsetHeight}),Uc=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Y_=(t={x:0,y:0},e)=>({x:Uc(t.x,e[0][0],e[1][0]),y:Uc(t.y,e[0][1],e[1][1])}),PC=(t,e,n)=>t<e?Uc(Math.abs(t-e),1,50)/50:t>n?-Uc(Math.abs(t-n),1,50)/50:0,jI=(t,e)=>{const n=PC(t.x,35,e.width-35)*20,r=PC(t.y,35,e.height-35)*20;return[n,r]},PI=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Hre=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),X_=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),zre=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),LC=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),tx=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},$re=t=>xi(t.width)&&xi(t.height)&&xi(t.x)&&xi(t.y),xi=t=>!isNaN(t)&&isFinite(t),cn=Symbol.for("internals"),LI=["Enter"," ","Escape"],Vre=(t,e)=>{},qre=t=>"nativeEvent"in t;function nx(t){var i,s;const e=qre(t)?t.nativeEvent:t,n=((s=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:s[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const BI=t=>"clientX"in t,Fa=(t,e)=>{var s,a;const n=BI(t),r=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=n?t.clientY:(a=t.touches)==null?void 0:a[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},Np=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},bd=({id:t,path:e,labelX:n,labelY:r,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:g,markerStart:m,interactionWidth:v=20})=>Te.createElement(Te.Fragment,null,Te.createElement("path",{id:t,style:h,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:g,markerStart:m}),v&&Te.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:v,className:"react-flow__edge-interaction"}),i&&xi(n)&&xi(r)?Te.createElement(Ure,{x:n,y:r,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d}):null);bd.displayName="BaseEdge";function af(t,e,n){return n===void 0?n:r=>{const i=e().edges.find(s=>s.id===t);i&&n(r,{...i})}}function FI({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,a=Math.abs(r-e)/2,c=r<e?r+a:r-a;return[s,c,i,a]}function UI({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:a,targetControlY:c}){const f=t*.125+i*.375+a*.375+n*.125,d=e*.125+s*.375+c*.375+r*.125,h=Math.abs(f-t),g=Math.abs(d-e);return[f,d,h,g]}var tl;(function(t){t.Strict="strict",t.Loose="loose"})(tl||(tl={}));var Bo;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Bo||(Bo={}));var Kf;(function(t){t.Partial="partial",t.Full="full"})(Kf||(Kf={}));var Ra;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Ra||(Ra={}));var Ip;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Ip||(Ip={}));var Qe;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Qe||(Qe={}));function BC({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Qe.Left||t===Qe.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function HI({sourceX:t,sourceY:e,sourcePosition:n=Qe.Bottom,targetX:r,targetY:i,targetPosition:s=Qe.Top}){const[a,c]=BC({pos:n,x1:t,y1:e,x2:r,y2:i}),[f,d]=BC({pos:s,x1:r,y1:i,x2:t,y2:e}),[h,g,m,v]=UI({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:c,targetControlX:f,targetControlY:d});return[`M${t},${e} C${a},${c} ${f},${d} ${r},${i}`,h,g,m,v]}const K_=k.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i=Qe.Bottom,targetPosition:s=Qe.Top,label:a,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:w,interactionWidth:x})=>{const[b,S,T]=HI({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return Te.createElement(bd,{path:b,labelX:S,labelY:T,label:a,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:w,interactionWidth:x})});K_.displayName="SimpleBezierEdge";const FC={[Qe.Left]:{x:-1,y:0},[Qe.Right]:{x:1,y:0},[Qe.Top]:{x:0,y:-1},[Qe.Bottom]:{x:0,y:1}},Wre=({source:t,sourcePosition:e=Qe.Bottom,target:n})=>e===Qe.Left||e===Qe.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},UC=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Gre({source:t,sourcePosition:e=Qe.Bottom,target:n,targetPosition:r=Qe.Top,center:i,offset:s}){const a=FC[e],c=FC[r],f={x:t.x+a.x*s,y:t.y+a.y*s},d={x:n.x+c.x*s,y:n.y+c.y*s},h=Wre({source:f,sourcePosition:e,target:d}),g=h.x!==0?"x":"y",m=h[g];let v=[],w,x;const b={x:0,y:0},S={x:0,y:0},[T,A,C,P]=FI({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[g]*c[g]===-1){w=i.x??T,x=i.y??A;const I=[{x:w,y:f.y},{x:w,y:d.y}],j=[{x:f.x,y:x},{x:d.x,y:x}];a[g]===m?v=g==="x"?I:j:v=g==="x"?j:I}else{const I=[{x:f.x,y:d.y}],j=[{x:d.x,y:f.y}];if(g==="x"?v=a.x===m?j:I:v=a.y===m?I:j,e===r){const ce=Math.abs(t[g]-n[g]);if(ce<=s){const N=Math.min(s-1,s-ce);a[g]===m?b[g]=(f[g]>t[g]?-1:1)*N:S[g]=(d[g]>n[g]?-1:1)*N}}if(e!==r){const ce=g==="x"?"y":"x",N=a[g]===c[ce],ee=f[ce]>d[ce],B=f[ce]<d[ce];(a[g]===1&&(!N&&ee||N&&B)||a[g]!==1&&(!N&&B||N&&ee))&&(v=g==="x"?I:j)}const L={x:f.x+b.x,y:f.y+b.y},K={x:d.x+S.x,y:d.y+S.y},te=Math.max(Math.abs(L.x-v[0].x),Math.abs(K.x-v[0].x)),X=Math.max(Math.abs(L.y-v[0].y),Math.abs(K.y-v[0].y));te>=X?(w=(L.x+K.x)/2,x=v[0].y):(w=v[0].x,x=(L.y+K.y)/2)}return[[t,{x:f.x+b.x,y:f.y+b.y},...v,{x:d.x+S.x,y:d.y+S.y},n],w,x,C,P]}function Yre(t,e,n,r){const i=Math.min(UC(t,e)/2,UC(e,n)/2,r),{x:s,y:a}=e;if(t.x===s&&s===n.x||t.y===a&&a===n.y)return`L${s} ${a}`;if(t.y===a){const d=t.x<n.x?-1:1,h=t.y<n.y?1:-1;return`L ${s+i*d},${a}Q ${s},${a} ${s},${a+i*h}`}const c=t.x<n.x?1:-1,f=t.y<n.y?-1:1;return`L ${s},${a+i*f}Q ${s},${a} ${s+i*c},${a}`}function rx({sourceX:t,sourceY:e,sourcePosition:n=Qe.Bottom,targetX:r,targetY:i,targetPosition:s=Qe.Top,borderRadius:a=5,centerX:c,centerY:f,offset:d=20}){const[h,g,m,v,w]=Gre({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:c,y:f},offset:d});return[h.reduce((b,S,T)=>{let A="";return T>0&&T<h.length-1?A=Yre(h[T-1],S,h[T+1],a):A=`${T===0?"M":"L"}${S.x} ${S.y}`,b+=A,b},""),g,m,v,w]}const wg=k.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:h,sourcePosition:g=Qe.Bottom,targetPosition:m=Qe.Top,markerEnd:v,markerStart:w,pathOptions:x,interactionWidth:b})=>{const[S,T,A]=rx({sourceX:t,sourceY:e,sourcePosition:g,targetX:n,targetY:r,targetPosition:m,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return Te.createElement(bd,{path:S,labelX:T,labelY:A,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:v,markerStart:w,interactionWidth:b})});wg.displayName="SmoothStepEdge";const Q_=k.memo(t=>{var e;return Te.createElement(wg,{...t,pathOptions:k.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});Q_.displayName="StepEdge";function Xre({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,a,c]=FI({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,a,c]}const Z_=k.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:g,markerStart:m,interactionWidth:v})=>{const[w,x,b]=Xre({sourceX:t,sourceY:e,targetX:n,targetY:r});return Te.createElement(bd,{path:w,labelX:x,labelY:b,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:g,markerStart:m,interactionWidth:v})});Z_.displayName="StraightEdge";function m0(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function HC({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Qe.Left:return[e-m0(e-r,s),n];case Qe.Right:return[e+m0(r-e,s),n];case Qe.Top:return[e,n-m0(n-i,s)];case Qe.Bottom:return[e,n+m0(i-n,s)]}}function zI({sourceX:t,sourceY:e,sourcePosition:n=Qe.Bottom,targetX:r,targetY:i,targetPosition:s=Qe.Top,curvature:a=.25}){const[c,f]=HC({pos:n,x1:t,y1:e,x2:r,y2:i,c:a}),[d,h]=HC({pos:s,x1:r,y1:i,x2:t,y2:e,c:a}),[g,m,v,w]=UI({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:c,sourceControlY:f,targetControlX:d,targetControlY:h});return[`M${t},${e} C${c},${f} ${d},${h} ${r},${i}`,g,m,v,w]}const Mp=k.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i=Qe.Bottom,targetPosition:s=Qe.Top,label:a,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:w,pathOptions:x,interactionWidth:b})=>{const[S,T,A]=zI({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:s,curvature:x==null?void 0:x.curvature});return Te.createElement(bd,{path:S,labelX:T,labelY:A,label:a,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:w,interactionWidth:b})});Mp.displayName="BezierEdge";const J_=k.createContext(null),Kre=J_.Provider;J_.Consumer;const Qre=()=>k.useContext(J_),Zre=t=>"id"in t&&"source"in t&&"target"in t,Jre=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,ix=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,eie=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),tie=(t,e)=>{if(!t.source||!t.target)return e;let n;return Zre(t)?n={...t}:n={...t,id:Jre(t)},eie(n,e)?e:e.concat(n)},sx=({x:t,y:e},[n,r,i],s,[a,c])=>{const f={x:(t-n)/i,y:(e-r)/i};return s?{x:a*Math.round(f.x/a),y:c*Math.round(f.y/c)}:f},$I=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),Dc=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],i={x:t.position.x-n,y:t.position.y-r};return{...i,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:i}},ew=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const{x:s,y:a}=Dc(i,e).positionAbsolute;return Hre(r,X_({x:s,y:a,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return zre(n)},VI=(t,e,[n,r,i]=[0,0,1],s=!1,a=!1,c=[0,0])=>{const f={x:(e.x-n)/i,y:(e.y-r)/i,width:e.width/i,height:e.height/i},d=[];return t.forEach(h=>{const{width:g,height:m,selectable:v=!0,hidden:w=!1}=h;if(a&&!v||w)return!1;const{positionAbsolute:x}=Dc(h,c),b={x:x.x,y:x.y,width:g||0,height:m||0},S=tx(f,b),T=typeof g>"u"||typeof m>"u"||g===null||m===null,A=s&&S>0,C=(g||0)*(m||0);(T||A||S>=C||h.dragging)&&d.push(h)}),d},qI=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},WI=(t,e,n,r,i,s=.1)=>{const a=e/(t.width*(1+s)),c=n/(t.height*(1+s)),f=Math.min(a,c),d=Uc(f,r,i),h=t.x+t.width/2,g=t.y+t.height/2,m=e/2-h*d,v=n/2-g*d;return{x:m,y:v,zoom:d}},Co=(t,e=0)=>t.transition().duration(e);function zC(t,e,n,r){return(e[n]||[]).reduce((i,s)=>{var a,c;return`${t.id}-${s.id}-${n}`!==r&&i.push({id:s.id||null,type:n,nodeId:t.id,x:(((a=t.positionAbsolute)==null?void 0:a.x)??0)+s.x+s.width/2,y:(((c=t.positionAbsolute)==null?void 0:c.y)??0)+s.y+s.height/2}),i},[])}function nie(t,e,n,r,i,s){const{x:a,y:c}=Fa(t),d=e.elementsFromPoint(a,c).find(w=>w.classList.contains("react-flow__handle"));if(d){const w=d.getAttribute("data-nodeid");if(w){const x=tw(void 0,d),b=d.getAttribute("data-handleid"),S=s({nodeId:w,id:b,type:x});if(S){const T=i.find(A=>A.nodeId===w&&A.type===x&&A.id===b);return{handle:{id:b,type:x,nodeId:w,x:(T==null?void 0:T.x)||n.x,y:(T==null?void 0:T.y)||n.y},validHandleResult:S}}}}let h=[],g=1/0;if(i.forEach(w=>{const x=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(x<=r){const b=s(w);x<=g&&(x<g?h=[{handle:w,validHandleResult:b}]:x===g&&h.push({handle:w,validHandleResult:b}),g=x)}}),!h.length)return{handle:null,validHandleResult:GI()};if(h.length===1)return h[0];const m=h.some(({validHandleResult:w})=>w.isValid),v=h.some(({handle:w})=>w.type==="target");return h.find(({handle:w,validHandleResult:x})=>v?w.type==="target":m?x.isValid:!0)||h[0]}const rie={source:null,target:null,sourceHandle:null,targetHandle:null},GI=()=>({handleDomNode:null,isValid:!1,connection:rie,endHandle:null});function YI(t,e,n,r,i,s,a){const c=i==="target",f=a.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),d={...GI(),handleDomNode:f};if(f){const h=tw(void 0,f),g=f.getAttribute("data-nodeid"),m=f.getAttribute("data-handleid"),v=f.classList.contains("connectable"),w=f.classList.contains("connectableend"),x={source:c?g:n,sourceHandle:c?m:r,target:c?n:g,targetHandle:c?r:m};d.connection=x,v&&w&&(e===tl.Strict?c&&h==="source"||!c&&h==="target":g!==n||m!==r)&&(d.endHandle={nodeId:g,handleId:m,type:h},d.isValid=s(x))}return d}function iie({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((i,s)=>{if(s[cn]){const{handleBounds:a}=s[cn];let c=[],f=[];a&&(c=zC(s,a,"source",`${e}-${n}-${r}`),f=zC(s,a,"target",`${e}-${n}-${r}`)),i.push(...c,...f)}return i},[])}function tw(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Iy(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function sie(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function XI({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:i,getState:s,setState:a,isValidConnection:c,edgeUpdaterType:f,onReconnectEnd:d}){const h=PI(t.target),{connectionMode:g,domNode:m,autoPanOnConnect:v,connectionRadius:w,onConnectStart:x,panBy:b,getNodes:S,cancelConnection:T}=s();let A=0,C;const{x:P,y:V}=Fa(t),I=h==null?void 0:h.elementFromPoint(P,V),j=tw(f,I),L=m==null?void 0:m.getBoundingClientRect();if(!L||!j)return;let K,te=Fa(t,L),X=!1,ce=null,N=!1,ee=null;const B=iie({nodes:S(),nodeId:n,handleId:e,handleType:j}),re=()=>{if(!v)return;const[Q,ae]=jI(te,L);b({x:Q,y:ae}),A=requestAnimationFrame(re)};a({connectionPosition:te,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:j,connectionStartHandle:{nodeId:n,handleId:e,type:j},connectionEndHandle:null}),x==null||x(t,{nodeId:n,handleId:e,handleType:j});function le(Q){const{transform:ae}=s();te=Fa(Q,L);const{handle:D,validHandleResult:q}=nie(Q,h,sx(te,ae,!1,[1,1]),w,B,z=>YI(z,g,n,e,i?"target":"source",c,h));if(C=D,X||(re(),X=!0),ee=q.handleDomNode,ce=q.connection,N=q.isValid,a({connectionPosition:C&&N?$I({x:C.x,y:C.y},ae):te,connectionStatus:sie(!!C,N),connectionEndHandle:q.endHandle}),!C&&!N&&!ee)return Iy(K);ce.source!==ce.target&&ee&&(Iy(K),K=ee,ee.classList.add("connecting","react-flow__handle-connecting"),ee.classList.toggle("valid",N),ee.classList.toggle("react-flow__handle-valid",N))}function ie(Q){var ae,D;(C||ee)&&ce&&N&&(r==null||r(ce)),(D=(ae=s()).onConnectEnd)==null||D.call(ae,Q),f&&(d==null||d(Q)),Iy(K),T(),cancelAnimationFrame(A),X=!1,N=!1,ce=null,ee=null,h.removeEventListener("mousemove",le),h.removeEventListener("mouseup",ie),h.removeEventListener("touchmove",le),h.removeEventListener("touchend",ie)}h.addEventListener("mousemove",le),h.addEventListener("mouseup",ie),h.addEventListener("touchmove",le),h.addEventListener("touchend",ie)}const $C=()=>!0,aie=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),oie=(t,e,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:a}=r;return{connecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===n||(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===n,clickConnecting:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.handleId)===e&&(a==null?void 0:a.type)===n}},KI=k.forwardRef(({type:t="source",position:e=Qe.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:a,onConnect:c,children:f,className:d,onMouseDown:h,onTouchStart:g,...m},v)=>{var L,K;const w=a||null,x=t==="target",b=rr(),S=Qre(),{connectOnClick:T,noPanClassName:A}=mn(aie,Pr),{connecting:C,clickConnecting:P}=mn(oie(S,w,t),Pr);S||(K=(L=b.getState()).onError)==null||K.call(L,"010",Gs.error010());const V=te=>{const{defaultEdgeOptions:X,onConnect:ce,hasDefaultEdges:N}=b.getState(),ee={...X,...te};if(N){const{edges:B,setEdges:re}=b.getState();re(tie(ee,B))}ce==null||ce(ee),c==null||c(ee)},I=te=>{if(!S)return;const X=BI(te);i&&(X&&te.button===0||!X)&&XI({event:te,handleId:w,nodeId:S,onConnect:V,isTarget:x,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||$C}),X?h==null||h(te):g==null||g(te)},j=te=>{const{onClickConnectStart:X,onClickConnectEnd:ce,connectionClickStartHandle:N,connectionMode:ee,isValidConnection:B}=b.getState();if(!S||!N&&!i)return;if(!N){X==null||X(te,{nodeId:S,handleId:w,handleType:t}),b.setState({connectionClickStartHandle:{nodeId:S,type:t,handleId:w}});return}const re=PI(te.target),le=n||B||$C,{connection:ie,isValid:Q}=YI({nodeId:S,id:w,type:t},ee,N.nodeId,N.handleId||null,N.type,le,re);Q&&V(ie),ce==null||ce(te),b.setState({connectionClickStartHandle:null})};return Te.createElement("div",{"data-handleid":w,"data-nodeid":S,"data-handlepos":e,"data-id":`${S}-${w}-${t}`,className:wi(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",A,d,{source:!x,target:x,connectable:r,connectablestart:i,connectableend:s,connecting:P,connectionindicator:r&&(i&&!C||s&&C)}]),onMouseDown:I,onTouchStart:I,onClick:T?j:void 0,ref:v,...m},f)});KI.displayName="Handle";var jp=k.memo(KI);const QI=({data:t,isConnectable:e,targetPosition:n=Qe.Top,sourcePosition:r=Qe.Bottom})=>Te.createElement(Te.Fragment,null,Te.createElement(jp,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,Te.createElement(jp,{type:"source",position:r,isConnectable:e}));QI.displayName="DefaultNode";var ax=k.memo(QI);const ZI=({data:t,isConnectable:e,sourcePosition:n=Qe.Bottom})=>Te.createElement(Te.Fragment,null,t==null?void 0:t.label,Te.createElement(jp,{type:"source",position:n,isConnectable:e}));ZI.displayName="InputNode";var JI=k.memo(ZI);const eM=({data:t,isConnectable:e,targetPosition:n=Qe.Top})=>Te.createElement(Te.Fragment,null,Te.createElement(jp,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);eM.displayName="OutputNode";var tM=k.memo(eM);const nw=()=>null;nw.displayName="GroupNode";const lie=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),v0=t=>t.id;function cie(t,e){return Pr(t.selectedNodes.map(v0),e.selectedNodes.map(v0))&&Pr(t.selectedEdges.map(v0),e.selectedEdges.map(v0))}const nM=k.memo(({onSelectionChange:t})=>{const e=rr(),{selectedNodes:n,selectedEdges:r}=mn(lie,cie);return k.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChange.forEach(s=>s(i))},[n,r,t]),null});nM.displayName="SelectionListener";const uie=t=>!!t.onSelectionChange;function fie({onSelectionChange:t}){const e=mn(uie);return t||e?Te.createElement(nM,{onSelectionChange:t}):null}const die=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function oc(t,e){k.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function ht(t,e,n){k.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const hie=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:s,onConnectEnd:a,onClickConnectStart:c,onClickConnectEnd:f,nodesDraggable:d,nodesConnectable:h,nodesFocusable:g,edgesFocusable:m,edgesUpdatable:v,elevateNodesOnSelect:w,minZoom:x,maxZoom:b,nodeExtent:S,onNodesChange:T,onEdgesChange:A,elementsSelectable:C,connectionMode:P,snapGrid:V,snapToGrid:I,translateExtent:j,connectOnClick:L,defaultEdgeOptions:K,fitView:te,fitViewOptions:X,onNodesDelete:ce,onEdgesDelete:N,onNodeDrag:ee,onNodeDragStart:B,onNodeDragStop:re,onSelectionDrag:le,onSelectionDragStart:ie,onSelectionDragStop:Q,noPanClassName:ae,nodeOrigin:D,rfId:q,autoPanOnConnect:z,autoPanOnNodeDrag:F,onError:se,connectionRadius:be,isValidConnection:ke,nodeDragThreshold:Ne})=>{const{setNodes:Ce,setEdges:xe,setDefaultNodesAndEdges:J,setMinZoom:Ae,setMaxZoom:Pe,setTranslateExtent:We,setNodeExtent:qe,reset:Oe}=mn(die,Pr),He=rr();return k.useEffect(()=>{const Dt=r==null?void 0:r.map(Nn=>({...Nn,...K}));return J(n,Dt),()=>{Oe()}},[]),ht("defaultEdgeOptions",K,He.setState),ht("connectionMode",P,He.setState),ht("onConnect",i,He.setState),ht("onConnectStart",s,He.setState),ht("onConnectEnd",a,He.setState),ht("onClickConnectStart",c,He.setState),ht("onClickConnectEnd",f,He.setState),ht("nodesDraggable",d,He.setState),ht("nodesConnectable",h,He.setState),ht("nodesFocusable",g,He.setState),ht("edgesFocusable",m,He.setState),ht("edgesUpdatable",v,He.setState),ht("elementsSelectable",C,He.setState),ht("elevateNodesOnSelect",w,He.setState),ht("snapToGrid",I,He.setState),ht("snapGrid",V,He.setState),ht("onNodesChange",T,He.setState),ht("onEdgesChange",A,He.setState),ht("connectOnClick",L,He.setState),ht("fitViewOnInit",te,He.setState),ht("fitViewOnInitOptions",X,He.setState),ht("onNodesDelete",ce,He.setState),ht("onEdgesDelete",N,He.setState),ht("onNodeDrag",ee,He.setState),ht("onNodeDragStart",B,He.setState),ht("onNodeDragStop",re,He.setState),ht("onSelectionDrag",le,He.setState),ht("onSelectionDragStart",ie,He.setState),ht("onSelectionDragStop",Q,He.setState),ht("noPanClassName",ae,He.setState),ht("nodeOrigin",D,He.setState),ht("rfId",q,He.setState),ht("autoPanOnConnect",z,He.setState),ht("autoPanOnNodeDrag",F,He.setState),ht("onError",se,He.setState),ht("connectionRadius",be,He.setState),ht("isValidConnection",ke,He.setState),ht("nodeDragThreshold",Ne,He.setState),oc(t,Ce),oc(e,xe),oc(x,Ae),oc(b,Pe),oc(j,We),oc(S,qe),null},VC={display:"none"},pie={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},rM="react-flow__node-desc",iM="react-flow__edge-desc",gie="react-flow__aria-live",mie=t=>t.ariaLiveMessage;function vie({rfId:t}){const e=mn(mie);return Te.createElement("div",{id:`${gie}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:pie},e)}function yie({rfId:t,disableKeyboardA11y:e}){return Te.createElement(Te.Fragment,null,Te.createElement("div",{id:`${rM}-${t}`,style:VC},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),Te.createElement("div",{id:`${iM}-${t}`,style:VC},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&Te.createElement(vie,{rfId:t}))}var Qf=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=k.useState(!1),i=k.useRef(!1),s=k.useRef(new Set([])),[a,c]=k.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(g=>typeof g=="string").map(g=>g.split("+")),h=d.reduce((g,m)=>g.concat(...m),[]);return[d,h]}return[[],[]]},[t]);return k.useEffect(()=>{const f=typeof document<"u"?document:null,d=(e==null?void 0:e.target)||f;if(t!==null){const h=v=>{if(i.current=v.ctrlKey||v.metaKey||v.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&nx(v))return!1;const x=WC(v.code,c);s.current.add(v[x]),qC(a,s.current,!1)&&(v.preventDefault(),r(!0))},g=v=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&nx(v))return!1;const x=WC(v.code,c);qC(a,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(v[x]),v.key==="Meta"&&s.current.clear(),i.current=!1},m=()=>{s.current.clear(),r(!1)};return d==null||d.addEventListener("keydown",h),d==null||d.addEventListener("keyup",g),window.addEventListener("blur",m),()=>{d==null||d.removeEventListener("keydown",h),d==null||d.removeEventListener("keyup",g),window.removeEventListener("blur",m)}}},[t,r]),n};function qC(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function WC(t,e){return e.includes(t)?"code":"key"}function sM(t,e,n,r){var c,f;const i=t.parentNode||t.parentId;if(!i)return n;const s=e.get(i),a=Dc(s,r);return sM(s,e,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(((c=s[cn])==null?void 0:c.z)??0)>(n.z??0)?((f=s[cn])==null?void 0:f.z)??0:n.z??0},r)}function aM(t,e,n){t.forEach(r=>{var s;const i=r.parentNode||r.parentId;if(i&&!t.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:a,y:c,z:f}=sM(r,t,{...r.position,z:((s=r[cn])==null?void 0:s.z)??0},e);r.positionAbsolute={x:a,y:c},r[cn].z=f,n!=null&&n[r.id]&&(r[cn].isParent=!0)}})}function My(t,e,n,r){const i=new Map,s={},a=r?1e3:0;return t.forEach(c=>{var v;const f=(xi(c.zIndex)?c.zIndex:0)+(c.selected?a:0),d=e.get(c.id),h={...c,positionAbsolute:{x:c.position.x,y:c.position.y}},g=c.parentNode||c.parentId;g&&(s[g]=!0);const m=(d==null?void 0:d.type)&&(d==null?void 0:d.type)!==c.type;Object.defineProperty(h,cn,{enumerable:!1,value:{handleBounds:m||(v=d==null?void 0:d[cn])==null?void 0:v.handleBounds,z:f}}),i.set(c.id,h)}),aM(i,n,s),i}function oM(t,e={}){const{getNodes:n,width:r,height:i,minZoom:s,maxZoom:a,d3Zoom:c,d3Selection:f,fitViewOnInitDone:d,fitViewOnInit:h,nodeOrigin:g}=t(),m=e.initial&&!d&&h;if(c&&f&&(m||!e.initial)){const w=n().filter(b=>{var T;const S=e.includeHiddenNodes?b.width&&b.height:!b.hidden;return(T=e.nodes)!=null&&T.length?S&&e.nodes.some(A=>A.id===b.id):S}),x=w.every(b=>b.width&&b.height);if(w.length>0&&x){const b=ew(w,g),{x:S,y:T,zoom:A}=WI(b,r,i,e.minZoom??s,e.maxZoom??a,e.padding??.1),C=Ba.translate(S,T).scale(A);return typeof e.duration=="number"&&e.duration>0?c.transform(Co(f,e.duration),C):c.transform(f,C),!0}}return!1}function xie(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[cn]:r[cn],selected:n.selected})}),new Map(e)}function _ie(t,e){return e.map(n=>{const r=t.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function y0({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:i,edges:s,onNodesChange:a,onEdgesChange:c,hasDefaultNodes:f,hasDefaultEdges:d}=n();t!=null&&t.length&&(f&&r({nodeInternals:xie(t,i)}),a==null||a(t)),e!=null&&e.length&&(d&&r({edges:_ie(e,s)}),c==null||c(e))}const lc=()=>{},wie={zoomIn:lc,zoomOut:lc,zoomTo:lc,getZoom:()=>1,setViewport:lc,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:lc,fitBounds:lc,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},bie=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),Eie=()=>{const t=rr(),{d3Zoom:e,d3Selection:n}=mn(bie,Pr);return k.useMemo(()=>n&&e?{zoomIn:i=>e.scaleBy(Co(n,i==null?void 0:i.duration),1.2),zoomOut:i=>e.scaleBy(Co(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>e.scaleTo(Co(n,s==null?void 0:s.duration),i),getZoom:()=>t.getState().transform[2],setViewport:(i,s)=>{const[a,c,f]=t.getState().transform,d=Ba.translate(i.x??a,i.y??c).scale(i.zoom??f);e.transform(Co(n,s==null?void 0:s.duration),d)},getViewport:()=>{const[i,s,a]=t.getState().transform;return{x:i,y:s,zoom:a}},fitView:i=>oM(t.getState,i),setCenter:(i,s,a)=>{const{width:c,height:f,maxZoom:d}=t.getState(),h=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:d,g=c/2-i*h,m=f/2-s*h,v=Ba.translate(g,m).scale(h);e.transform(Co(n,a==null?void 0:a.duration),v)},fitBounds:(i,s)=>{const{width:a,height:c,minZoom:f,maxZoom:d}=t.getState(),{x:h,y:g,zoom:m}=WI(i,a,c,f,d,(s==null?void 0:s.padding)??.1),v=Ba.translate(h,g).scale(m);e.transform(Co(n,s==null?void 0:s.duration),v)},project:i=>{const{transform:s,snapToGrid:a,snapGrid:c}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),sx(i,s,a,c)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:a,snapGrid:c,domNode:f}=t.getState();if(!f)return i;const{x:d,y:h}=f.getBoundingClientRect(),g={x:i.x-d,y:i.y-h};return sx(g,s,a,c)},flowToScreenPosition:i=>{const{transform:s,domNode:a}=t.getState();if(!a)return i;const{x:c,y:f}=a.getBoundingClientRect(),d=$I(i,s);return{x:d.x+c,y:d.y+f}},viewportInitialized:!0}:wie,[e,n])};function lM(){const t=Eie(),e=rr(),n=k.useCallback(()=>e.getState().getNodes().map(x=>({...x})),[]),r=k.useCallback(x=>e.getState().nodeInternals.get(x),[]),i=k.useCallback(()=>{const{edges:x=[]}=e.getState();return x.map(b=>({...b}))},[]),s=k.useCallback(x=>{const{edges:b=[]}=e.getState();return b.find(S=>S.id===x)},[]),a=k.useCallback(x=>{const{getNodes:b,setNodes:S,hasDefaultNodes:T,onNodesChange:A}=e.getState(),C=b(),P=typeof x=="function"?x(C):x;if(T)S(P);else if(A){const V=P.length===0?C.map(I=>({type:"remove",id:I.id})):P.map(I=>({item:I,type:"reset"}));A(V)}},[]),c=k.useCallback(x=>{const{edges:b=[],setEdges:S,hasDefaultEdges:T,onEdgesChange:A}=e.getState(),C=typeof x=="function"?x(b):x;if(T)S(C);else if(A){const P=C.length===0?b.map(V=>({type:"remove",id:V.id})):C.map(V=>({item:V,type:"reset"}));A(P)}},[]),f=k.useCallback(x=>{const b=Array.isArray(x)?x:[x],{getNodes:S,setNodes:T,hasDefaultNodes:A,onNodesChange:C}=e.getState();if(A){const V=[...S(),...b];T(V)}else if(C){const P=b.map(V=>({item:V,type:"add"}));C(P)}},[]),d=k.useCallback(x=>{const b=Array.isArray(x)?x:[x],{edges:S=[],setEdges:T,hasDefaultEdges:A,onEdgesChange:C}=e.getState();if(A)T([...S,...b]);else if(C){const P=b.map(V=>({item:V,type:"add"}));C(P)}},[]),h=k.useCallback(()=>{const{getNodes:x,edges:b=[],transform:S}=e.getState(),[T,A,C]=S;return{nodes:x().map(P=>({...P})),edges:b.map(P=>({...P})),viewport:{x:T,y:A,zoom:C}}},[]),g=k.useCallback(({nodes:x,edges:b})=>{const{nodeInternals:S,getNodes:T,edges:A,hasDefaultNodes:C,hasDefaultEdges:P,onNodesDelete:V,onEdgesDelete:I,onNodesChange:j,onEdgesChange:L}=e.getState(),K=(x||[]).map(ee=>ee.id),te=(b||[]).map(ee=>ee.id),X=T().reduce((ee,B)=>{const re=B.parentNode||B.parentId,le=!K.includes(B.id)&&re&&ee.find(Q=>Q.id===re);return(typeof B.deletable=="boolean"?B.deletable:!0)&&(K.includes(B.id)||le)&&ee.push(B),ee},[]),ce=A.filter(ee=>typeof ee.deletable=="boolean"?ee.deletable:!0),N=ce.filter(ee=>te.includes(ee.id));if(X||N){const ee=qI(X,ce),B=[...N,...ee],re=B.reduce((le,ie)=>(le.includes(ie.id)||le.push(ie.id),le),[]);if((P||C)&&(P&&e.setState({edges:A.filter(le=>!re.includes(le.id))}),C&&(X.forEach(le=>{S.delete(le.id)}),e.setState({nodeInternals:new Map(S)}))),re.length>0&&(I==null||I(B),L&&L(re.map(le=>({id:le,type:"remove"})))),X.length>0&&(V==null||V(X),j)){const le=X.map(ie=>({id:ie.id,type:"remove"}));j(le)}}},[]),m=k.useCallback(x=>{const b=$re(x),S=b?null:e.getState().nodeInternals.get(x.id);return!b&&!S?[null,null,b]:[b?x:LC(S),S,b]},[]),v=k.useCallback((x,b=!0,S)=>{const[T,A,C]=m(x);return T?(S||e.getState().getNodes()).filter(P=>{if(!C&&(P.id===A.id||!P.positionAbsolute))return!1;const V=LC(P),I=tx(V,T);return b&&I>0||I>=T.width*T.height}):[]},[]),w=k.useCallback((x,b,S=!0)=>{const[T]=m(x);if(!T)return!1;const A=tx(T,b);return S&&A>0||A>=T.width*T.height},[]);return k.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:i,getEdge:s,setNodes:a,setEdges:c,addNodes:f,addEdges:d,toObject:h,deleteElements:g,getIntersectingNodes:v,isNodeIntersecting:w}),[t,n,r,i,s,a,c,f,d,h,g,v,w])}const Sie={actInsideInputWithModifier:!1};var Tie=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=rr(),{deleteElements:r}=lM(),i=Qf(t,Sie),s=Qf(e);k.useEffect(()=>{if(i){const{edges:a,getNodes:c}=n.getState(),f=c().filter(h=>h.selected),d=a.filter(h=>h.selected);r({nodes:f,edges:d}),n.setState({nodesSelectionActive:!1})}},[i]),k.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function Aie(t){const e=rr();k.useEffect(()=>{let n;const r=()=>{var s,a;if(!t.current)return;const i=G_(t.current);(i.height===0||i.width===0)&&((a=(s=e.getState()).onError)==null||a.call(s,"004",Gs.error004())),e.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const rw={position:"absolute",width:"100%",height:"100%",top:0,left:0},Cie=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,x0=t=>({x:t.x,y:t.y,zoom:t.k}),cc=(t,e)=>t.target.closest(`.${e}`),GC=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),YC=t=>{const e=t.ctrlKey&&Np()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},Rie=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),Die=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:a=!1,panOnScrollSpeed:c=.5,panOnScrollMode:f=Bo.Free,zoomOnDoubleClick:d=!0,elementsSelectable:h,panOnDrag:g=!0,defaultViewport:m,translateExtent:v,minZoom:w,maxZoom:x,zoomActivationKeyCode:b,preventScrolling:S=!0,children:T,noWheelClassName:A,noPanClassName:C})=>{const P=k.useRef(),V=rr(),I=k.useRef(!1),j=k.useRef(!1),L=k.useRef(null),K=k.useRef({x:0,y:0,zoom:0}),{d3Zoom:te,d3Selection:X,d3ZoomHandler:ce,userSelectionActive:N}=mn(Rie,Pr),ee=Qf(b),B=k.useRef(0),re=k.useRef(!1),le=k.useRef();return Aie(L),k.useEffect(()=>{if(L.current){const ie=L.current.getBoundingClientRect(),Q=Mre().scaleExtent([w,x]).translateExtent(v),ae=Pi(L.current).call(Q),D=Ba.translate(m.x,m.y).scale(Uc(m.zoom,w,x)),q=[[0,0],[ie.width,ie.height]],z=Q.constrain()(D,q,v);Q.transform(ae,z),Q.wheelDelta(YC),V.setState({d3Zoom:Q,d3Selection:ae,d3ZoomHandler:ae.on("wheel.zoom"),transform:[z.x,z.y,z.k],domNode:L.current.closest(".react-flow")})}},[]),k.useEffect(()=>{X&&te&&(a&&!ee&&!N?X.on("wheel.zoom",ie=>{if(cc(ie,A))return!1;ie.preventDefault(),ie.stopImmediatePropagation();const Q=X.property("__zoom").k||1;if(ie.ctrlKey&&s){const ke=ss(ie),Ne=YC(ie),Ce=Q*Math.pow(2,Ne);te.scaleTo(X,Ce,ke,ie);return}const ae=ie.deltaMode===1?20:1;let D=f===Bo.Vertical?0:ie.deltaX*ae,q=f===Bo.Horizontal?0:ie.deltaY*ae;!Np()&&ie.shiftKey&&f!==Bo.Vertical&&(D=ie.deltaY*ae,q=0),te.translateBy(X,-(D/Q)*c,-(q/Q)*c,{internal:!0});const z=x0(X.property("__zoom")),{onViewportChangeStart:F,onViewportChange:se,onViewportChangeEnd:be}=V.getState();clearTimeout(le.current),re.current||(re.current=!0,e==null||e(ie,z),F==null||F(z)),re.current&&(t==null||t(ie,z),se==null||se(z),le.current=setTimeout(()=>{n==null||n(ie,z),be==null||be(z),re.current=!1},150))},{passive:!1}):typeof ce<"u"&&X.on("wheel.zoom",function(ie,Q){if(!S&&ie.type==="wheel"&&!ie.ctrlKey||cc(ie,A))return null;ie.preventDefault(),ce.call(this,ie,Q)},{passive:!1}))},[N,a,f,X,te,ce,ee,s,S,A,e,t,n]),k.useEffect(()=>{te&&te.on("start",ie=>{var D,q;if(!ie.sourceEvent||ie.sourceEvent.internal)return null;B.current=(D=ie.sourceEvent)==null?void 0:D.button;const{onViewportChangeStart:Q}=V.getState(),ae=x0(ie.transform);I.current=!0,K.current=ae,((q=ie.sourceEvent)==null?void 0:q.type)==="mousedown"&&V.setState({paneDragging:!0}),Q==null||Q(ae),e==null||e(ie.sourceEvent,ae)})},[te,e]),k.useEffect(()=>{te&&(N&&!I.current?te.on("zoom",null):N||te.on("zoom",ie=>{var ae;const{onViewportChange:Q}=V.getState();if(V.setState({transform:[ie.transform.x,ie.transform.y,ie.transform.k]}),j.current=!!(r&&GC(g,B.current??0)),(t||Q)&&!((ae=ie.sourceEvent)!=null&&ae.internal)){const D=x0(ie.transform);Q==null||Q(D),t==null||t(ie.sourceEvent,D)}}))},[N,te,t,g,r]),k.useEffect(()=>{te&&te.on("end",ie=>{if(!ie.sourceEvent||ie.sourceEvent.internal)return null;const{onViewportChangeEnd:Q}=V.getState();if(I.current=!1,V.setState({paneDragging:!1}),r&&GC(g,B.current??0)&&!j.current&&r(ie.sourceEvent),j.current=!1,(n||Q)&&Cie(K.current,ie.transform)){const ae=x0(ie.transform);K.current=ae,clearTimeout(P.current),P.current=setTimeout(()=>{Q==null||Q(ae),n==null||n(ie.sourceEvent,ae)},a?150:0)}})},[te,a,g,n,r]),k.useEffect(()=>{te&&te.filter(ie=>{const Q=ee||i,ae=s&&ie.ctrlKey;if((g===!0||Array.isArray(g)&&g.includes(1))&&ie.button===1&&ie.type==="mousedown"&&(cc(ie,"react-flow__node")||cc(ie,"react-flow__edge")))return!0;if(!g&&!Q&&!a&&!d&&!s||N||!d&&ie.type==="dblclick"||cc(ie,A)&&ie.type==="wheel"||cc(ie,C)&&(ie.type!=="wheel"||a&&ie.type==="wheel"&&!ee)||!s&&ie.ctrlKey&&ie.type==="wheel"||!Q&&!a&&!ae&&ie.type==="wheel"||!g&&(ie.type==="mousedown"||ie.type==="touchstart")||Array.isArray(g)&&!g.includes(ie.button)&&ie.type==="mousedown")return!1;const D=Array.isArray(g)&&g.includes(ie.button)||!ie.button||ie.button<=1;return(!ie.ctrlKey||ie.type==="wheel")&&D})},[N,te,i,s,a,d,g,h,ee]),Te.createElement("div",{className:"react-flow__renderer",ref:L,style:rw},T)},Oie=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function kie(){const{userSelectionActive:t,userSelectionRect:e}=mn(Oie,Pr);return t&&e?Te.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function XC(t,e){const n=e.parentNode||e.parentId,r=t.find(i=>i.id===n);if(r){const i=e.position.x+e.width-r.width,s=e.position.y+e.height-r.height;if(i>0||s>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),s>0&&(r.style.height+=s),e.position.x<0){const a=Math.abs(e.position.x);r.position.x=r.position.x-a,r.style.width+=a,e.position.x=0}if(e.position.y<0){const a=Math.abs(e.position.y);r.position.y=r.position.y-a,r.style.height+=a,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function cM(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,i)=>{const s=t.filter(c=>c.id===i.id);if(s.length===0)return r.push(i),r;const a={...i};for(const c of s)if(c)switch(c.type){case"select":{a.selected=c.selected;break}case"position":{typeof c.position<"u"&&(a.position=c.position),typeof c.positionAbsolute<"u"&&(a.positionAbsolute=c.positionAbsolute),typeof c.dragging<"u"&&(a.dragging=c.dragging),a.expandParent&&XC(r,a);break}case"dimensions":{typeof c.dimensions<"u"&&(a.width=c.dimensions.width,a.height=c.dimensions.height),typeof c.updateStyle<"u"&&(a.style={...a.style||{},...c.dimensions}),typeof c.resizing=="boolean"&&(a.resizing=c.resizing),a.expandParent&&XC(r,a);break}case"remove":return r}return r.push(a),r},n)}function Nie(t,e){return cM(t,e)}function Kce(t,e){return cM(t,e)}const Ta=(t,e)=>({id:t,type:"select",selected:e});function vc(t,e){return t.reduce((n,r)=>{const i=e.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Ta(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Ta(r.id,!1))),n},[])}const jy=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},Iie=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),uM=k.memo(({isSelecting:t,selectionMode:e=Kf.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:a,onPaneScroll:c,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:h,children:g})=>{const m=k.useRef(null),v=rr(),w=k.useRef(0),x=k.useRef(0),b=k.useRef(),{userSelectionActive:S,elementsSelectable:T,dragging:A}=mn(Iie,Pr),C=()=>{v.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,x.current=0},P=ce=>{s==null||s(ce),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},V=ce=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){ce.preventDefault();return}a==null||a(ce)},I=c?ce=>c(ce):void 0,j=ce=>{const{resetSelectedElements:N,domNode:ee}=v.getState();if(b.current=ee==null?void 0:ee.getBoundingClientRect(),!T||!t||ce.button!==0||ce.target!==m.current||!b.current)return;const{x:B,y:re}=Fa(ce,b.current);N(),v.setState({userSelectionRect:{width:0,height:0,startX:B,startY:re,x:B,y:re}}),r==null||r(ce)},L=ce=>{const{userSelectionRect:N,nodeInternals:ee,edges:B,transform:re,onNodesChange:le,onEdgesChange:ie,nodeOrigin:Q,getNodes:ae}=v.getState();if(!t||!b.current||!N)return;v.setState({userSelectionActive:!0,nodesSelectionActive:!1});const D=Fa(ce,b.current),q=N.startX??0,z=N.startY??0,F={...N,x:D.x<q?D.x:q,y:D.y<z?D.y:z,width:Math.abs(D.x-q),height:Math.abs(D.y-z)},se=ae(),be=VI(ee,F,re,e===Kf.Partial,!0,Q),ke=qI(be,B).map(Ce=>Ce.id),Ne=be.map(Ce=>Ce.id);if(w.current!==Ne.length){w.current=Ne.length;const Ce=vc(se,Ne);Ce.length&&(le==null||le(Ce))}if(x.current!==ke.length){x.current=ke.length;const Ce=vc(B,ke);Ce.length&&(ie==null||ie(Ce))}v.setState({userSelectionRect:F})},K=ce=>{if(ce.button!==0)return;const{userSelectionRect:N}=v.getState();!S&&N&&ce.target===m.current&&(P==null||P(ce)),v.setState({nodesSelectionActive:w.current>0}),C(),i==null||i(ce)},te=ce=>{S&&(v.setState({nodesSelectionActive:w.current>0}),i==null||i(ce)),C()},X=T&&(t||S);return Te.createElement("div",{className:wi(["react-flow__pane",{dragging:A,selection:t}]),onClick:X?void 0:jy(P,m),onContextMenu:jy(V,m),onWheel:jy(I,m),onMouseEnter:X?void 0:f,onMouseDown:X?j:void 0,onMouseMove:X?L:d,onMouseUp:X?K:void 0,onMouseLeave:X?te:h,ref:m,style:rw},g,Te.createElement(kie,null))});uM.displayName="Pane";function fM(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:fM(r,e):!1}function KC(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Mie(t,e,n,r){return Array.from(t.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!fM(i,t))&&(i.draggable||e&&typeof i.draggable>"u")).map(i=>{var s,a;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((a=i.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function jie(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function dM(t,e,n,r,i=[0,0],s){const a=jie(t,t.extent||r);let c=a;const f=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(f&&t.width&&t.height){const g=n.get(f),{x:m,y:v}=Dc(g,i).positionAbsolute;c=g&&xi(m)&&xi(v)&&xi(g.width)&&xi(g.height)?[[m+t.width*i[0],v+t.height*i[1]],[m+g.width-t.width+t.width*i[0],v+g.height-t.height+t.height*i[1]]]:c}else s==null||s("005",Gs.error005()),c=a;else if(t.extent&&f&&t.extent!=="parent"){const g=n.get(f),{x:m,y:v}=Dc(g,i).positionAbsolute;c=[[t.extent[0][0]+m,t.extent[0][1]+v],[t.extent[1][0]+m,t.extent[1][1]+v]]}let d={x:0,y:0};if(f){const g=n.get(f);d=Dc(g,i).positionAbsolute}const h=c&&c!=="parent"?Y_(e,c):e;return{position:{x:h.x-d.x,y:h.y-d.y},positionAbsolute:h}}function Py({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[t?r.find(i=>i.id===t):r[0],r]}const QC=(t,e,n,r)=>{const i=e.querySelectorAll(t);if(!i||!i.length)return null;const s=Array.from(i),a=e.getBoundingClientRect(),c={x:a.width*r[0],y:a.height*r[1]};return s.map(f=>{const d=f.getBoundingClientRect();return{id:f.getAttribute("data-handleid"),position:f.getAttribute("data-handlepos"),x:(d.left-a.left-c.x)/n,y:(d.top-a.top-c.y)/n,...G_(f)}})};function of(t,e,n){return n===void 0?n:r=>{const i=e().nodeInternals.get(t);i&&n(r,{...i})}}function ox({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:a,nodeInternals:c,onError:f}=e.getState(),d=c.get(t);if(!d){f==null||f("012",Gs.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&a)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var h;return(h=r==null?void 0:r.current)==null?void 0:h.blur()})):i([t])}function Pie(){const t=rr();return k.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:s}=t.getState(),a=n.touches?n.touches[0].clientX:n.clientX,c=n.touches?n.touches[0].clientY:n.clientY,f={x:(a-r[0])/r[2],y:(c-r[1])/r[2]};return{xSnapped:s?i[0]*Math.round(f.x/i[0]):f.x,ySnapped:s?i[1]*Math.round(f.y/i[1]):f.y,...f}},[])}function Ly(t){return(e,n,r)=>t==null?void 0:t(e,r)}function hM({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,selectNodesOnDrag:a}){const c=rr(),[f,d]=k.useState(!1),h=k.useRef([]),g=k.useRef({x:null,y:null}),m=k.useRef(0),v=k.useRef(null),w=k.useRef({x:0,y:0}),x=k.useRef(null),b=k.useRef(!1),S=k.useRef(!1),T=k.useRef(!1),A=Pie();return k.useEffect(()=>{if(t!=null&&t.current){const C=Pi(t.current),P=({x:j,y:L})=>{const{nodeInternals:K,onNodeDrag:te,onSelectionDrag:X,updateNodePositions:ce,nodeExtent:N,snapGrid:ee,snapToGrid:B,nodeOrigin:re,onError:le}=c.getState();g.current={x:j,y:L};let ie=!1,Q={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&N){const D=ew(h.current,re);Q=X_(D)}if(h.current=h.current.map(D=>{const q={x:j-D.distance.x,y:L-D.distance.y};B&&(q.x=ee[0]*Math.round(q.x/ee[0]),q.y=ee[1]*Math.round(q.y/ee[1]));const z=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];h.current.length>1&&N&&!D.extent&&(z[0][0]=D.positionAbsolute.x-Q.x+N[0][0],z[1][0]=D.positionAbsolute.x+(D.width??0)-Q.x2+N[1][0],z[0][1]=D.positionAbsolute.y-Q.y+N[0][1],z[1][1]=D.positionAbsolute.y+(D.height??0)-Q.y2+N[1][1]);const F=dM(D,q,K,z,re,le);return ie=ie||D.position.x!==F.position.x||D.position.y!==F.position.y,D.position=F.position,D.positionAbsolute=F.positionAbsolute,D}),!ie)return;ce(h.current,!0,!0),d(!0);const ae=i?te:Ly(X);if(ae&&x.current){const[D,q]=Py({nodeId:i,dragItems:h.current,nodeInternals:K});ae(x.current,D,q)}},V=()=>{if(!v.current)return;const[j,L]=jI(w.current,v.current);if(j!==0||L!==0){const{transform:K,panBy:te}=c.getState();g.current.x=(g.current.x??0)-j/K[2],g.current.y=(g.current.y??0)-L/K[2],te({x:j,y:L})&&P(g.current)}m.current=requestAnimationFrame(V)},I=j=>{var re;const{nodeInternals:L,multiSelectionActive:K,nodesDraggable:te,unselectNodesAndEdges:X,onNodeDragStart:ce,onSelectionDragStart:N}=c.getState();S.current=!0;const ee=i?ce:Ly(N);(!a||!s)&&!K&&i&&((re=L.get(i))!=null&&re.selected||X()),i&&s&&a&&ox({id:i,store:c,nodeRef:t});const B=A(j);if(g.current=B,h.current=Mie(L,te,B,i),ee&&h.current){const[le,ie]=Py({nodeId:i,dragItems:h.current,nodeInternals:L});ee(j.sourceEvent,le,ie)}};if(e)C.on(".drag",null);else{const j=zte().on("start",L=>{const{domNode:K,nodeDragThreshold:te}=c.getState();te===0&&I(L),T.current=!1;const X=A(L);g.current=X,v.current=(K==null?void 0:K.getBoundingClientRect())||null,w.current=Fa(L.sourceEvent,v.current)}).on("drag",L=>{var ce,N;const K=A(L),{autoPanOnNodeDrag:te,nodeDragThreshold:X}=c.getState();if(L.sourceEvent.type==="touchmove"&&L.sourceEvent.touches.length>1&&(T.current=!0),!T.current){if(!b.current&&S.current&&te&&(b.current=!0,V()),!S.current){const ee=K.xSnapped-(((ce=g==null?void 0:g.current)==null?void 0:ce.x)??0),B=K.ySnapped-(((N=g==null?void 0:g.current)==null?void 0:N.y)??0);Math.sqrt(ee*ee+B*B)>X&&I(L)}(g.current.x!==K.xSnapped||g.current.y!==K.ySnapped)&&h.current&&S.current&&(x.current=L.sourceEvent,w.current=Fa(L.sourceEvent,v.current),P(K))}}).on("end",L=>{if(!(!S.current||T.current)&&(d(!1),b.current=!1,S.current=!1,cancelAnimationFrame(m.current),h.current)){const{updateNodePositions:K,nodeInternals:te,onNodeDragStop:X,onSelectionDragStop:ce}=c.getState(),N=i?X:Ly(ce);if(K(h.current,!1,!1),N){const[ee,B]=Py({nodeId:i,dragItems:h.current,nodeInternals:te});N(L.sourceEvent,ee,B)}}}).filter(L=>{const K=L.target;return!L.button&&(!n||!KC(K,`.${n}`,t))&&(!r||KC(K,r,t))});return C.call(j),()=>{C.on(".drag",null)}}}},[t,e,n,r,s,c,i,a,A]),f}function pM(){const t=rr();return k.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:s,getNodes:a,snapToGrid:c,snapGrid:f,onError:d,nodesDraggable:h}=t.getState(),g=a().filter(T=>T.selected&&(T.draggable||h&&typeof T.draggable>"u")),m=c?f[0]:5,v=c?f[1]:5,w=n.isShiftPressed?4:1,x=n.x*m*w,b=n.y*v*w,S=g.map(T=>{if(T.positionAbsolute){const A={x:T.positionAbsolute.x+x,y:T.positionAbsolute.y+b};c&&(A.x=f[0]*Math.round(A.x/f[0]),A.y=f[1]*Math.round(A.y/f[1]));const{positionAbsolute:C,position:P}=dM(T,A,r,i,void 0,d);T.position=P,T.positionAbsolute=C}return T});s(S,!0,!1)},[])}const Oc={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var lf=t=>{const e=({id:n,type:r,data:i,xPos:s,yPos:a,xPosOrigin:c,yPosOrigin:f,selected:d,onClick:h,onMouseEnter:g,onMouseMove:m,onMouseLeave:v,onContextMenu:w,onDoubleClick:x,style:b,className:S,isDraggable:T,isSelectable:A,isConnectable:C,isFocusable:P,selectNodesOnDrag:V,sourcePosition:I,targetPosition:j,hidden:L,resizeObserver:K,dragHandle:te,zIndex:X,isParent:ce,noDragClassName:N,noPanClassName:ee,initialized:B,disableKeyboardA11y:re,ariaLabel:le,rfId:ie,hasHandleBounds:Q})=>{const ae=rr(),D=k.useRef(null),q=k.useRef(null),z=k.useRef(I),F=k.useRef(j),se=k.useRef(r),be=A||T||h||g||m||v,ke=pM(),Ne=of(n,ae.getState,g),Ce=of(n,ae.getState,m),xe=of(n,ae.getState,v),J=of(n,ae.getState,w),Ae=of(n,ae.getState,x),Pe=Oe=>{const{nodeDragThreshold:He}=ae.getState();if(A&&(!V||!T||He>0)&&ox({id:n,store:ae,nodeRef:D}),h){const Dt=ae.getState().nodeInternals.get(n);Dt&&h(Oe,{...Dt})}},We=Oe=>{if(!nx(Oe)&&!re)if(LI.includes(Oe.key)&&A){const He=Oe.key==="Escape";ox({id:n,store:ae,unselect:He,nodeRef:D})}else T&&d&&Object.prototype.hasOwnProperty.call(Oc,Oe.key)&&(ae.setState({ariaLiveMessage:`Moved selected node ${Oe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~a}`}),ke({x:Oc[Oe.key].x,y:Oc[Oe.key].y,isShiftPressed:Oe.shiftKey}))};k.useEffect(()=>()=>{q.current&&(K==null||K.unobserve(q.current),q.current=null)},[]),k.useEffect(()=>{if(D.current&&!L){const Oe=D.current;(!B||!Q||q.current!==Oe)&&(q.current&&(K==null||K.unobserve(q.current)),K==null||K.observe(Oe),q.current=Oe)}},[L,B,Q]),k.useEffect(()=>{const Oe=se.current!==r,He=z.current!==I,Dt=F.current!==j;D.current&&(Oe||He||Dt)&&(Oe&&(se.current=r),He&&(z.current=I),Dt&&(F.current=j),ae.getState().updateNodeDimensions([{id:n,nodeElement:D.current,forceUpdate:!0}]))},[n,r,I,j]);const qe=hM({nodeRef:D,disabled:L||!T,noDragClassName:N,handleSelector:te,nodeId:n,isSelectable:A,selectNodesOnDrag:V});return L?null:Te.createElement("div",{className:wi(["react-flow__node",`react-flow__node-${r}`,{[ee]:T},S,{selected:d,selectable:A,parent:ce,dragging:qe}]),ref:D,style:{zIndex:X,transform:`translate(${c}px,${f}px)`,pointerEvents:be?"all":"none",visibility:B?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Ne,onMouseMove:Ce,onMouseLeave:xe,onContextMenu:J,onClick:Pe,onDoubleClick:Ae,onKeyDown:P?We:void 0,tabIndex:P?0:void 0,role:P?"button":void 0,"aria-describedby":re?void 0:`${rM}-${ie}`,"aria-label":le},Te.createElement(Kre,{value:n},Te.createElement(t,{id:n,data:i,type:r,xPos:s,yPos:a,selected:d,isConnectable:C,sourcePosition:I,targetPosition:j,dragging:qe,dragHandle:te,zIndex:X})))};return e.displayName="NodeWrapper",k.memo(e)};const Lie=t=>{const e=t.getNodes().filter(n=>n.selected);return{...ew(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function Bie({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=rr(),{width:i,height:s,x:a,y:c,transformString:f,userSelectionActive:d}=mn(Lie,Pr),h=pM(),g=k.useRef(null);if(k.useEffect(()=>{var w;n||(w=g.current)==null||w.focus({preventScroll:!0})},[n]),hM({nodeRef:g}),d||!i||!s)return null;const m=t?w=>{const x=r.getState().getNodes().filter(b=>b.selected);t(w,x)}:void 0,v=w=>{Object.prototype.hasOwnProperty.call(Oc,w.key)&&h({x:Oc[w.key].x,y:Oc[w.key].y,isShiftPressed:w.shiftKey})};return Te.createElement("div",{className:wi(["react-flow__nodesselection","react-flow__container",e]),style:{transform:f}},Te.createElement("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:v,style:{width:i,height:s,top:c,left:a}}))}var Fie=k.memo(Bie);const Uie=t=>t.nodesSelectionActive,gM=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:a,deleteKeyCode:c,onMove:f,onMoveStart:d,onMoveEnd:h,selectionKeyCode:g,selectionOnDrag:m,selectionMode:v,onSelectionStart:w,onSelectionEnd:x,multiSelectionKeyCode:b,panActivationKeyCode:S,zoomActivationKeyCode:T,elementsSelectable:A,zoomOnScroll:C,zoomOnPinch:P,panOnScroll:V,panOnScrollSpeed:I,panOnScrollMode:j,zoomOnDoubleClick:L,panOnDrag:K,defaultViewport:te,translateExtent:X,minZoom:ce,maxZoom:N,preventScrolling:ee,onSelectionContextMenu:B,noWheelClassName:re,noPanClassName:le,disableKeyboardA11y:ie})=>{const Q=mn(Uie),ae=Qf(g),D=Qf(S),q=D||K,z=D||V,F=ae||m&&q!==!0;return Tie({deleteKeyCode:c,multiSelectionKeyCode:b}),Te.createElement(Die,{onMove:f,onMoveStart:d,onMoveEnd:h,onPaneContextMenu:s,elementsSelectable:A,zoomOnScroll:C,zoomOnPinch:P,panOnScroll:z,panOnScrollSpeed:I,panOnScrollMode:j,zoomOnDoubleClick:L,panOnDrag:!ae&&q,defaultViewport:te,translateExtent:X,minZoom:ce,maxZoom:N,zoomActivationKeyCode:T,preventScrolling:ee,noWheelClassName:re,noPanClassName:le},Te.createElement(uM,{onSelectionStart:w,onSelectionEnd:x,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:a,panOnDrag:q,isSelecting:!!F,selectionMode:v},t,Q&&Te.createElement(Fie,{onSelectionContextMenu:B,noPanClassName:le,disableKeyboardA11y:ie})))};gM.displayName="FlowRenderer";var Hie=k.memo(gM);function zie(t){return mn(k.useCallback(n=>t?VI(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function $ie(t){const e={input:lf(t.input||JI),default:lf(t.default||ax),output:lf(t.output||tM),group:lf(t.group||nw)},n={},r=Object.keys(t).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=lf(t[s]||ax),i),n);return{...e,...r}}const Vie=({x:t,y:e,width:n,height:r,origin:i})=>!n||!r?{x:t,y:e}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:e}:{x:t-n*i[0],y:e-r*i[1]},qie=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),mM=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:s,onError:a}=mn(qie,Pr),c=zie(t.onlyRenderVisibleElements),f=k.useRef(),d=k.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const h=new ResizeObserver(g=>{const m=g.map(v=>({id:v.target.getAttribute("data-id"),nodeElement:v.target,forceUpdate:!0}));s(m)});return f.current=h,h},[]);return k.useEffect(()=>()=>{var h;(h=f==null?void 0:f.current)==null||h.disconnect()},[]),Te.createElement("div",{className:"react-flow__nodes",style:rw},c.map(h=>{var P,V,I;let g=h.type||"default";t.nodeTypes[g]||(a==null||a("003",Gs.error003(g)),g="default");const m=t.nodeTypes[g]||t.nodeTypes.default,v=!!(h.draggable||e&&typeof h.draggable>"u"),w=!!(h.selectable||i&&typeof h.selectable>"u"),x=!!(h.connectable||n&&typeof h.connectable>"u"),b=!!(h.focusable||r&&typeof h.focusable>"u"),S=t.nodeExtent?Y_(h.positionAbsolute,t.nodeExtent):h.positionAbsolute,T=(S==null?void 0:S.x)??0,A=(S==null?void 0:S.y)??0,C=Vie({x:T,y:A,width:h.width??0,height:h.height??0,origin:t.nodeOrigin});return Te.createElement(m,{key:h.id,id:h.id,className:h.className,style:h.style,type:g,data:h.data,sourcePosition:h.sourcePosition||Qe.Bottom,targetPosition:h.targetPosition||Qe.Top,hidden:h.hidden,xPos:T,yPos:A,xPosOrigin:C.x,yPosOrigin:C.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!h.selected,isDraggable:v,isSelectable:w,isConnectable:x,isFocusable:b,resizeObserver:d,dragHandle:h.dragHandle,zIndex:((P=h[cn])==null?void 0:P.z)??0,isParent:!!((V=h[cn])!=null&&V.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!h.width&&!!h.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:h.ariaLabel,hasHandleBounds:!!((I=h[cn])!=null&&I.handleBounds)})}))};mM.displayName="NodeRenderer";var Wie=k.memo(mM);const Gie=(t,e,n)=>n===Qe.Left?t-e:n===Qe.Right?t+e:t,Yie=(t,e,n)=>n===Qe.Top?t-e:n===Qe.Bottom?t+e:t,ZC="react-flow__edgeupdater",JC=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:a,type:c})=>Te.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:a,className:wi([ZC,`${ZC}-${c}`]),cx:Gie(e,r,t),cy:Yie(n,r,t),r,stroke:"transparent",fill:"transparent"}),Xie=()=>!0;var uc=t=>{const e=({id:n,className:r,type:i,data:s,onClick:a,onEdgeDoubleClick:c,selected:f,animated:d,label:h,labelStyle:g,labelShowBg:m,labelBgStyle:v,labelBgPadding:w,labelBgBorderRadius:x,style:b,source:S,target:T,sourceX:A,sourceY:C,targetX:P,targetY:V,sourcePosition:I,targetPosition:j,elementsSelectable:L,hidden:K,sourceHandleId:te,targetHandleId:X,onContextMenu:ce,onMouseEnter:N,onMouseMove:ee,onMouseLeave:B,reconnectRadius:re,onReconnect:le,onReconnectStart:ie,onReconnectEnd:Q,markerEnd:ae,markerStart:D,rfId:q,ariaLabel:z,isFocusable:F,isReconnectable:se,pathOptions:be,interactionWidth:ke,disableKeyboardA11y:Ne})=>{const Ce=k.useRef(null),[xe,J]=k.useState(!1),[Ae,Pe]=k.useState(!1),We=rr(),qe=k.useMemo(()=>`url('#${ix(D,q)}')`,[D,q]),Oe=k.useMemo(()=>`url('#${ix(ae,q)}')`,[ae,q]);if(K)return null;const He=fn=>{var Mn;const{edges:ir,addSelectedEdges:gr,unselectNodesAndEdges:mr,multiSelectionActive:In}=We.getState(),sr=ir.find(Wi=>Wi.id===n);sr&&(L&&(We.setState({nodesSelectionActive:!1}),sr.selected&&In?(mr({nodes:[],edges:[sr]}),(Mn=Ce.current)==null||Mn.blur()):gr([n])),a&&a(fn,sr))},Dt=af(n,We.getState,c),Nn=af(n,We.getState,ce),$n=af(n,We.getState,N),bi=af(n,We.getState,ee),Lr=af(n,We.getState,B),rn=(fn,ir)=>{if(fn.button!==0)return;const{edges:gr,isValidConnection:mr}=We.getState(),In=ir?T:S,sr=(ir?X:te)||null,Mn=ir?"target":"source",Wi=mr||Xie,gs=ir,Ei=gr.find(Er=>Er.id===n);Pe(!0),ie==null||ie(fn,Ei,Mn);const ms=Er=>{Pe(!1),Q==null||Q(Er,Ei,Mn)};XI({event:fn,handleId:sr,nodeId:In,onConnect:Er=>le==null?void 0:le(Ei,Er),isTarget:gs,getState:We.getState,setState:We.setState,isValidConnection:Wi,edgeUpdaterType:Mn,onReconnectEnd:ms})},Br=fn=>rn(fn,!0),Vn=fn=>rn(fn,!1),Gt=()=>J(!0),Jt=()=>J(!1),sn=!L&&!a,qi=fn=>{var ir;if(!Ne&&LI.includes(fn.key)&&L){const{unselectNodesAndEdges:gr,addSelectedEdges:mr,edges:In}=We.getState();fn.key==="Escape"?((ir=Ce.current)==null||ir.blur(),gr({edges:[In.find(Mn=>Mn.id===n)]})):mr([n])}};return Te.createElement("g",{className:wi(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:f,animated:d,inactive:sn,updating:xe}]),onClick:He,onDoubleClick:Dt,onContextMenu:Nn,onMouseEnter:$n,onMouseMove:bi,onMouseLeave:Lr,onKeyDown:F?qi:void 0,tabIndex:F?0:void 0,role:F?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":z===null?void 0:z||`Edge from ${S} to ${T}`,"aria-describedby":F?`${iM}-${q}`:void 0,ref:Ce},!Ae&&Te.createElement(t,{id:n,source:S,target:T,selected:f,animated:d,label:h,labelStyle:g,labelShowBg:m,labelBgStyle:v,labelBgPadding:w,labelBgBorderRadius:x,data:s,style:b,sourceX:A,sourceY:C,targetX:P,targetY:V,sourcePosition:I,targetPosition:j,sourceHandleId:te,targetHandleId:X,markerStart:qe,markerEnd:Oe,pathOptions:be,interactionWidth:ke}),se&&Te.createElement(Te.Fragment,null,(se==="source"||se===!0)&&Te.createElement(JC,{position:I,centerX:A,centerY:C,radius:re,onMouseDown:Br,onMouseEnter:Gt,onMouseOut:Jt,type:"source"}),(se==="target"||se===!0)&&Te.createElement(JC,{position:j,centerX:P,centerY:V,radius:re,onMouseDown:Vn,onMouseEnter:Gt,onMouseOut:Jt,type:"target"})))};return e.displayName="EdgeWrapper",k.memo(e)};function Kie(t){const e={default:uc(t.default||Mp),straight:uc(t.bezier||Z_),step:uc(t.step||Q_),smoothstep:uc(t.step||wg),simplebezier:uc(t.simplebezier||K_)},n={},r=Object.keys(t).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=uc(t[s]||Mp),i),n);return{...e,...r}}function eR(t,e,n=null){const r=((n==null?void 0:n.x)||0)+e.x,i=((n==null?void 0:n.y)||0)+e.y,s=(n==null?void 0:n.width)||e.width,a=(n==null?void 0:n.height)||e.height;switch(t){case Qe.Top:return{x:r+s/2,y:i};case Qe.Right:return{x:r+s,y:i+a/2};case Qe.Bottom:return{x:r+s/2,y:i+a};case Qe.Left:return{x:r,y:i+a/2}}}function tR(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const Qie=(t,e,n,r,i,s)=>{const a=eR(n,t,e),c=eR(s,r,i);return{sourceX:a.x,sourceY:a.y,targetX:c.x,targetY:c.y}};function Zie({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:s,width:a,height:c,transform:f}){const d={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+i),y2:Math.max(t.y+r,e.y+s)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const h=X_({x:(0-f[0])/f[2],y:(0-f[1])/f[2],width:a/f[2],height:c/f[2]}),g=Math.max(0,Math.min(h.x2,d.x2)-Math.max(h.x,d.x)),m=Math.max(0,Math.min(h.y2,d.y2)-Math.max(h.y,d.y));return Math.ceil(g*m)>0}function nR(t){var r,i,s,a,c;const e=((r=t==null?void 0:t[cn])==null?void 0:r.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.x)||0,y:((c=t==null?void 0:t.positionAbsolute)==null?void 0:c.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const Jie=[{level:0,isMaxLevel:!0,edges:[]}];function ese(t,e,n=!1){let r=-1;const i=t.reduce((a,c)=>{var h,g;const f=xi(c.zIndex);let d=f?c.zIndex:0;if(n){const m=e.get(c.target),v=e.get(c.source),w=c.selected||(m==null?void 0:m.selected)||(v==null?void 0:v.selected),x=Math.max(((h=v==null?void 0:v[cn])==null?void 0:h.z)||0,((g=m==null?void 0:m[cn])==null?void 0:g.z)||0,1e3);d=(f?c.zIndex:0)+(w?x:0)}return a[d]?a[d].push(c):a[d]=[c],r=d>r?d:r,a},{}),s=Object.entries(i).map(([a,c])=>{const f=+a;return{edges:c,level:f,isMaxLevel:f===r}});return s.length===0?Jie:s}function tse(t,e,n){const r=mn(k.useCallback(i=>t?i.edges.filter(s=>{const a=e.get(s.source),c=e.get(s.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(c==null?void 0:c.width)&&(c==null?void 0:c.height)&&Zie({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:c.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:c.width,targetHeight:c.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[t,e]));return ese(r,e,n)}const nse=({color:t="none",strokeWidth:e=1})=>Te.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),rse=({color:t="none",strokeWidth:e=1})=>Te.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),rR={[Ip.Arrow]:nse,[Ip.ArrowClosed]:rse};function ise(t){const e=rr();return k.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(rR,t)?rR[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",Gs.error009(t)),null)},[t])}const sse=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:a,orient:c="auto-start-reverse"})=>{const f=ise(e);return f?Te.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0"},Te.createElement(f,{color:n,strokeWidth:a})):null},ase=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const c=ix(a,e);r.includes(c)||(i.push({id:c,color:a.color||t,...a}),r.push(c))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},vM=({defaultColor:t,rfId:e})=>{const n=mn(k.useCallback(ase({defaultColor:t,rfId:e}),[t,e]),(r,i)=>!(r.length!==i.length||r.some((s,a)=>s.id!==i[a].id)));return Te.createElement("defs",null,n.map(r=>Te.createElement(sse,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};vM.displayName="MarkerDefinitions";var ose=k.memo(vM);const lse=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),yM=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:a,onEdgeMouseEnter:c,onEdgeMouseMove:f,onEdgeMouseLeave:d,onEdgeClick:h,onEdgeDoubleClick:g,onReconnect:m,onReconnectStart:v,onReconnectEnd:w,reconnectRadius:x,children:b,disableKeyboardA11y:S})=>{const{edgesFocusable:T,edgesUpdatable:A,elementsSelectable:C,width:P,height:V,connectionMode:I,nodeInternals:j,onError:L}=mn(lse,Pr),K=tse(e,j,n);return P?Te.createElement(Te.Fragment,null,K.map(({level:te,edges:X,isMaxLevel:ce})=>Te.createElement("svg",{key:te,style:{zIndex:te},width:P,height:V,className:"react-flow__edges react-flow__container"},ce&&Te.createElement(ose,{defaultColor:t,rfId:r}),Te.createElement("g",null,X.map(N=>{const[ee,B,re]=nR(j.get(N.source)),[le,ie,Q]=nR(j.get(N.target));if(!re||!Q)return null;let ae=N.type||"default";i[ae]||(L==null||L("011",Gs.error011(ae)),ae="default");const D=i[ae]||i.default,q=I===tl.Strict?ie.target:(ie.target??[]).concat(ie.source??[]),z=tR(B.source,N.sourceHandle),F=tR(q,N.targetHandle),se=(z==null?void 0:z.position)||Qe.Bottom,be=(F==null?void 0:F.position)||Qe.Top,ke=!!(N.focusable||T&&typeof N.focusable>"u"),Ne=N.reconnectable||N.updatable,Ce=typeof m<"u"&&(Ne||A&&typeof Ne>"u");if(!z||!F)return L==null||L("008",Gs.error008(z,N)),null;const{sourceX:xe,sourceY:J,targetX:Ae,targetY:Pe}=Qie(ee,z,se,le,F,be);return Te.createElement(D,{key:N.id,id:N.id,className:wi([N.className,s]),type:ae,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:xe,sourceY:J,targetX:Ae,targetY:Pe,sourcePosition:se,targetPosition:be,elementsSelectable:C,onContextMenu:a,onMouseEnter:c,onMouseMove:f,onMouseLeave:d,onClick:h,onEdgeDoubleClick:g,onReconnect:m,onReconnectStart:v,onReconnectEnd:w,reconnectRadius:x,rfId:r,ariaLabel:N.ariaLabel,isFocusable:ke,isReconnectable:Ce,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth,disableKeyboardA11y:S})})))),b):null};yM.displayName="EdgeRenderer";var cse=k.memo(yM);const use=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function fse({children:t}){const e=mn(use);return Te.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function dse(t){const e=lM(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const hse={[Qe.Left]:Qe.Right,[Qe.Right]:Qe.Left,[Qe.Top]:Qe.Bottom,[Qe.Bottom]:Qe.Top},xM=({nodeId:t,handleType:e,style:n,type:r=Ra.Bezier,CustomComponent:i,connectionStatus:s})=>{var V,I,j;const{fromNode:a,handleId:c,toX:f,toY:d,connectionMode:h}=mn(k.useCallback(L=>({fromNode:L.nodeInternals.get(t),handleId:L.connectionHandleId,toX:(L.connectionPosition.x-L.transform[0])/L.transform[2],toY:(L.connectionPosition.y-L.transform[1])/L.transform[2],connectionMode:L.connectionMode}),[t]),Pr),g=(V=a==null?void 0:a[cn])==null?void 0:V.handleBounds;let m=g==null?void 0:g[e];if(h===tl.Loose&&(m=m||(g==null?void 0:g[e==="source"?"target":"source"])),!a||!m)return null;const v=c?m.find(L=>L.id===c):m[0],w=v?v.x+v.width/2:(a.width??0)/2,x=v?v.y+v.height/2:a.height??0,b=(((I=a.positionAbsolute)==null?void 0:I.x)??0)+w,S=(((j=a.positionAbsolute)==null?void 0:j.y)??0)+x,T=v==null?void 0:v.position,A=T?hse[T]:null;if(!T||!A)return null;if(i)return Te.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:a,fromHandle:v,fromX:b,fromY:S,toX:f,toY:d,fromPosition:T,toPosition:A,connectionStatus:s});let C="";const P={sourceX:b,sourceY:S,sourcePosition:T,targetX:f,targetY:d,targetPosition:A};return r===Ra.Bezier?[C]=zI(P):r===Ra.Step?[C]=rx({...P,borderRadius:0}):r===Ra.SmoothStep?[C]=rx(P):r===Ra.SimpleBezier?[C]=HI(P):C=`M${b},${S} ${f},${d}`,Te.createElement("path",{d:C,fill:"none",className:"react-flow__connection-path",style:n})};xM.displayName="ConnectionLine";const pse=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function gse({containerStyle:t,style:e,type:n,component:r}){const{nodeId:i,handleType:s,nodesConnectable:a,width:c,height:f,connectionStatus:d}=mn(pse,Pr);return!(i&&s&&c&&a)?null:Te.createElement("svg",{style:t,width:c,height:f,className:"react-flow__edges react-flow__connectionline react-flow__container"},Te.createElement("g",{className:wi(["react-flow__connection",d])},Te.createElement(xM,{nodeId:i,handleType:s,style:e,type:n,CustomComponent:r,connectionStatus:d})))}function iR(t,e){return k.useRef(null),rr(),k.useMemo(()=>e(t),[t])}const _M=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:s,onNodeClick:a,onEdgeClick:c,onNodeDoubleClick:f,onEdgeDoubleClick:d,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:m,onNodeContextMenu:v,onSelectionContextMenu:w,onSelectionStart:x,onSelectionEnd:b,connectionLineType:S,connectionLineStyle:T,connectionLineComponent:A,connectionLineContainerStyle:C,selectionKeyCode:P,selectionOnDrag:V,selectionMode:I,multiSelectionKeyCode:j,panActivationKeyCode:L,zoomActivationKeyCode:K,deleteKeyCode:te,onlyRenderVisibleElements:X,elementsSelectable:ce,selectNodesOnDrag:N,defaultViewport:ee,translateExtent:B,minZoom:re,maxZoom:le,preventScrolling:ie,defaultMarkerColor:Q,zoomOnScroll:ae,zoomOnPinch:D,panOnScroll:q,panOnScrollSpeed:z,panOnScrollMode:F,zoomOnDoubleClick:se,panOnDrag:be,onPaneClick:ke,onPaneMouseEnter:Ne,onPaneMouseMove:Ce,onPaneMouseLeave:xe,onPaneScroll:J,onPaneContextMenu:Ae,onEdgeContextMenu:Pe,onEdgeMouseEnter:We,onEdgeMouseMove:qe,onEdgeMouseLeave:Oe,onReconnect:He,onReconnectStart:Dt,onReconnectEnd:Nn,reconnectRadius:$n,noDragClassName:bi,noWheelClassName:Lr,noPanClassName:rn,elevateEdgesOnSelect:Br,disableKeyboardA11y:Vn,nodeOrigin:Gt,nodeExtent:Jt,rfId:sn})=>{const qi=iR(t,$ie),fn=iR(e,Kie);return dse(s),Te.createElement(Hie,{onPaneClick:ke,onPaneMouseEnter:Ne,onPaneMouseMove:Ce,onPaneMouseLeave:xe,onPaneContextMenu:Ae,onPaneScroll:J,deleteKeyCode:te,selectionKeyCode:P,selectionOnDrag:V,selectionMode:I,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:j,panActivationKeyCode:L,zoomActivationKeyCode:K,elementsSelectable:ce,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:ae,zoomOnPinch:D,zoomOnDoubleClick:se,panOnScroll:q,panOnScrollSpeed:z,panOnScrollMode:F,panOnDrag:be,defaultViewport:ee,translateExtent:B,minZoom:re,maxZoom:le,onSelectionContextMenu:w,preventScrolling:ie,noDragClassName:bi,noWheelClassName:Lr,noPanClassName:rn,disableKeyboardA11y:Vn},Te.createElement(fse,null,Te.createElement(cse,{edgeTypes:fn,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:X,onEdgeContextMenu:Pe,onEdgeMouseEnter:We,onEdgeMouseMove:qe,onEdgeMouseLeave:Oe,onReconnect:He,onReconnectStart:Dt,onReconnectEnd:Nn,reconnectRadius:$n,defaultMarkerColor:Q,noPanClassName:rn,elevateEdgesOnSelect:!!Br,disableKeyboardA11y:Vn,rfId:sn},Te.createElement(gse,{style:T,type:S,component:A,containerStyle:C})),Te.createElement("div",{className:"react-flow__edgelabel-renderer"}),Te.createElement(Wie,{nodeTypes:qi,onNodeClick:a,onNodeDoubleClick:f,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:m,onNodeContextMenu:v,selectNodesOnDrag:N,onlyRenderVisibleElements:X,noPanClassName:rn,noDragClassName:bi,disableKeyboardA11y:Vn,nodeOrigin:Gt,nodeExtent:Jt,rfId:sn})))};_M.displayName="GraphView";var mse=k.memo(_M);const lx=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ea={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:lx,nodeExtent:lx,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:tl.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Vre,isValidConnection:void 0},vse=()=>eee((t,e)=>({...Ea,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:s}=e();t({nodeInternals:My(n,r,i,s)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",s=typeof r<"u",a=i?My(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:a,edges:s?r:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:a,fitViewOnInitOptions:c,domNode:f,nodeOrigin:d}=e(),h=f==null?void 0:f.querySelector(".react-flow__viewport");if(!h)return;const g=window.getComputedStyle(h),{m22:m}=new window.DOMMatrixReadOnly(g.transform),v=n.reduce((x,b)=>{const S=i.get(b.id);if(S!=null&&S.hidden)i.set(S.id,{...S,[cn]:{...S[cn],handleBounds:void 0}});else if(S){const T=G_(b.nodeElement);!!(T.width&&T.height&&(S.width!==T.width||S.height!==T.height||b.forceUpdate))&&(i.set(S.id,{...S,[cn]:{...S[cn],handleBounds:{source:QC(".source",b.nodeElement,m,d),target:QC(".target",b.nodeElement,m,d)}},...T}),x.push({id:S.id,type:"dimensions",dimensions:T}))}return x},[]);aM(i,d);const w=a||s&&!a&&oM(e,{initial:!0,...c});t({nodeInternals:new Map(i),fitViewOnInitDone:w}),(v==null?void 0:v.length)>0&&(r==null||r(v))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:s}=e(),a=n.map(c=>{const f={id:c.id,type:"position",dragging:i};return r&&(f.positionAbsolute=c.positionAbsolute,f.position=c.position),f});s(a)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:a,getNodes:c,elevateNodesOnSelect:f}=e();if(n!=null&&n.length){if(s){const d=Nie(n,c()),h=My(d,i,a,f);t({nodeInternals:h})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=e();let a,c=null;r?a=n.map(f=>Ta(f,!0)):(a=vc(s(),n),c=vc(i,[])),y0({changedNodes:a,changedEdges:c,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=e();let a,c=null;r?a=n.map(f=>Ta(f,!0)):(a=vc(i,n),c=vc(s(),[])),y0({changedNodes:c,changedEdges:a,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:s}=e(),a=n||s(),c=r||i,f=a.map(h=>(h.selected=!1,Ta(h.id,!1))),d=c.map(h=>Ta(h.id,!1));y0({changedNodes:f,changedEdges:d,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=e();r==null||r.scaleExtent([n,i]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=e();r==null||r.scaleExtent([i,n]),t({maxZoom:n})},setTranslateExtent:n=>{var r;(r=e().d3Zoom)==null||r.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),s=r().filter(c=>c.selected).map(c=>Ta(c.id,!1)),a=n.filter(c=>c.selected).map(c=>Ta(c.id,!1));y0({changedNodes:s,changedEdges:a,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(i=>{i.positionAbsolute=Y_(i.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:s,d3Zoom:a,d3Selection:c,translateExtent:f}=e();if(!a||!c||!n.x&&!n.y)return!1;const d=Ba.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),h=[[0,0],[i,s]],g=a==null?void 0:a.constrain()(d,h,f);return a.transform(c,g),r[0]!==g.x||r[1]!==g.y||r[2]!==g.k},cancelConnection:()=>t({connectionNodeId:Ea.connectionNodeId,connectionHandleId:Ea.connectionHandleId,connectionHandleType:Ea.connectionHandleType,connectionStatus:Ea.connectionStatus,connectionStartHandle:Ea.connectionStartHandle,connectionEndHandle:Ea.connectionEndHandle}),reset:()=>t({...Ea})}),Object.is),Df=({children:t})=>{const e=k.useRef(null);return e.current||(e.current=vse()),Te.createElement(jre,{value:e.current},t)};Df.displayName="ReactFlowProvider";const wM=({children:t})=>k.useContext(_g)?Te.createElement(Te.Fragment,null,t):Te.createElement(Df,null,t);wM.displayName="ReactFlowWrapper";const yse={input:JI,default:ax,output:tM,group:nw},xse={default:Mp,straight:Z_,step:Q_,smoothstep:wg,simplebezier:K_},_se=[0,0],wse=[15,15],bse={x:0,y:0,zoom:1},Ese={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Sse=k.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s=yse,edgeTypes:a=xse,onNodeClick:c,onEdgeClick:f,onInit:d,onMove:h,onMoveStart:g,onMoveEnd:m,onConnect:v,onConnectStart:w,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:S,onNodeMouseEnter:T,onNodeMouseMove:A,onNodeMouseLeave:C,onNodeContextMenu:P,onNodeDoubleClick:V,onNodeDragStart:I,onNodeDrag:j,onNodeDragStop:L,onNodesDelete:K,onEdgesDelete:te,onSelectionChange:X,onSelectionDragStart:ce,onSelectionDrag:N,onSelectionDragStop:ee,onSelectionContextMenu:B,onSelectionStart:re,onSelectionEnd:le,connectionMode:ie=tl.Strict,connectionLineType:Q=Ra.Bezier,connectionLineStyle:ae,connectionLineComponent:D,connectionLineContainerStyle:q,deleteKeyCode:z="Backspace",selectionKeyCode:F="Shift",selectionOnDrag:se=!1,selectionMode:be=Kf.Full,panActivationKeyCode:ke="Space",multiSelectionKeyCode:Ne=Np()?"Meta":"Control",zoomActivationKeyCode:Ce=Np()?"Meta":"Control",snapToGrid:xe=!1,snapGrid:J=wse,onlyRenderVisibleElements:Ae=!1,selectNodesOnDrag:Pe=!0,nodesDraggable:We,nodesConnectable:qe,nodesFocusable:Oe,nodeOrigin:He=_se,edgesFocusable:Dt,edgesUpdatable:Nn,elementsSelectable:$n,defaultViewport:bi=bse,minZoom:Lr=.5,maxZoom:rn=2,translateExtent:Br=lx,preventScrolling:Vn=!0,nodeExtent:Gt,defaultMarkerColor:Jt="#b1b1b7",zoomOnScroll:sn=!0,zoomOnPinch:qi=!0,panOnScroll:fn=!1,panOnScrollSpeed:ir=.5,panOnScrollMode:gr=Bo.Free,zoomOnDoubleClick:mr=!0,panOnDrag:In=!0,onPaneClick:sr,onPaneMouseEnter:Mn,onPaneMouseMove:Wi,onPaneMouseLeave:gs,onPaneScroll:Ei,onPaneContextMenu:ms,children:Gi,onEdgeContextMenu:Er,onEdgeDoubleClick:ml,onEdgeMouseEnter:vl,onEdgeMouseMove:eo,onEdgeMouseLeave:to,onEdgeUpdate:yl,onEdgeUpdateStart:nu,onEdgeUpdateEnd:si,onReconnect:vn,onReconnectStart:yn,onReconnectEnd:Yi,reconnectRadius:no=10,edgeUpdaterRadius:ru=10,onNodesChange:O,onEdgesChange:G,noDragClassName:U="nodrag",noWheelClassName:H="nowheel",noPanClassName:W="nopan",fitView:Y=!1,fitViewOptions:pe,connectOnClick:Ee=!0,attributionPosition:fe,proOptions:ge,defaultEdgeOptions:ve,elevateNodesOnSelect:je=!0,elevateEdgesOnSelect:Be=!1,disableKeyboardA11y:$e=!1,autoPanOnConnect:Le=!0,autoPanOnNodeDrag:ze=!0,connectionRadius:at=20,isValidConnection:At,onError:Ct,style:Pt,id:ai,nodeDragThreshold:Xi,...Sr},Fr)=>{const Si=ai||"1";return Te.createElement("div",{...Sr,style:{...Pt,...Ese},ref:Fr,className:wi(["react-flow",i]),"data-testid":"rf__wrapper",id:ai},Te.createElement(wM,null,Te.createElement(mse,{onInit:d,onMove:h,onMoveStart:g,onMoveEnd:m,onNodeClick:c,onEdgeClick:f,onNodeMouseEnter:T,onNodeMouseMove:A,onNodeMouseLeave:C,onNodeContextMenu:P,onNodeDoubleClick:V,nodeTypes:s,edgeTypes:a,connectionLineType:Q,connectionLineStyle:ae,connectionLineComponent:D,connectionLineContainerStyle:q,selectionKeyCode:F,selectionOnDrag:se,selectionMode:be,deleteKeyCode:z,multiSelectionKeyCode:Ne,panActivationKeyCode:ke,zoomActivationKeyCode:Ce,onlyRenderVisibleElements:Ae,selectNodesOnDrag:Pe,defaultViewport:bi,translateExtent:Br,minZoom:Lr,maxZoom:rn,preventScrolling:Vn,zoomOnScroll:sn,zoomOnPinch:qi,zoomOnDoubleClick:mr,panOnScroll:fn,panOnScrollSpeed:ir,panOnScrollMode:gr,panOnDrag:In,onPaneClick:sr,onPaneMouseEnter:Mn,onPaneMouseMove:Wi,onPaneMouseLeave:gs,onPaneScroll:Ei,onPaneContextMenu:ms,onSelectionContextMenu:B,onSelectionStart:re,onSelectionEnd:le,onEdgeContextMenu:Er,onEdgeDoubleClick:ml,onEdgeMouseEnter:vl,onEdgeMouseMove:eo,onEdgeMouseLeave:to,onReconnect:vn??yl,onReconnectStart:yn??nu,onReconnectEnd:Yi??si,reconnectRadius:no??ru,defaultMarkerColor:Jt,noDragClassName:U,noWheelClassName:H,noPanClassName:W,elevateEdgesOnSelect:Be,rfId:Si,disableKeyboardA11y:$e,nodeOrigin:He,nodeExtent:Gt}),Te.createElement(hie,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:w,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:S,nodesDraggable:We,nodesConnectable:qe,nodesFocusable:Oe,edgesFocusable:Dt,edgesUpdatable:Nn,elementsSelectable:$n,elevateNodesOnSelect:je,minZoom:Lr,maxZoom:rn,nodeExtent:Gt,onNodesChange:O,onEdgesChange:G,snapToGrid:xe,snapGrid:J,connectionMode:ie,translateExtent:Br,connectOnClick:Ee,defaultEdgeOptions:ve,fitView:Y,fitViewOptions:pe,onNodesDelete:K,onEdgesDelete:te,onNodeDragStart:I,onNodeDrag:j,onNodeDragStop:L,onSelectionDrag:N,onSelectionDragStart:ce,onSelectionDragStop:ee,noPanClassName:W,nodeOrigin:He,rfId:Si,autoPanOnConnect:Le,autoPanOnNodeDrag:ze,onError:Ct,connectionRadius:at,isValidConnection:At,nodeDragThreshold:Xi}),Te.createElement(fie,{onSelectionChange:X}),Gi,Te.createElement(Bre,{proOptions:ge,position:fe}),Te.createElement(yie,{rfId:Si,disableKeyboardA11y:$e})))});Sse.displayName="ReactFlow";const Tse=Te.lazy(()=>Ht(()=>import("./Dashboard-DpfnlTpU.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Ase=Te.lazy(()=>Ht(()=>import("./EodReport-D9PnOatU.js"),__vite__mapDeps([7,1,2,8,9,5,3]))),Cse=Te.lazy(()=>Ht(()=>import("./TimeSheetDashboard-By52bx3u.js"),__vite__mapDeps([10,1,2,3,11]))),sR=Te.lazy(()=>Ht(()=>import("./TaskBoard-TXJrW-HH.js"),__vite__mapDeps([12,1,2,13,9,3,14]))),Rse=Te.lazy(()=>Ht(()=>import("./InvoiceDashboard-Be7MDUwD.js"),__vite__mapDeps([15,1,2,13,3,8,9,5]))),aR=Te.lazy(()=>Ht(()=>import("./Login-C2MEkjFP.js"),__vite__mapDeps([16,1,2,3,17]))),Dse=Te.lazy(()=>Ht(()=>import("./Profile-BJYfF6JM.js"),__vite__mapDeps([18,1,2,3]))),Ose=Te.lazy(()=>Ht(()=>import("./Settings-CdQSrVwX.js"),__vite__mapDeps([19,1,2,3]))),kse=Te.lazy(()=>Ht(()=>import("./CardMaster-DuT0HlD-.js"),__vite__mapDeps([20,1,2,3,21]))),Nse=Te.lazy(()=>Ht(()=>import("./QuotationPage-CgBnCYt2.js"),__vite__mapDeps([22,1,2,23,3,24,13,25,26]))),Ise=Te.lazy(()=>Ht(()=>import("./QuotationForm-DQ_oiu0S.js"),__vite__mapDeps([23,1,2,3]))),Mse=Te.lazy(()=>Ht(()=>import("./QuotationList-HAmNDq3I.js"),__vite__mapDeps([24,1,2,13,25,3]))),jse=Te.lazy(()=>Ht(()=>import("./InvoicePage-Bqe1l0r0.js"),__vite__mapDeps([27,1,2,28,3,13,25,26,29]))),Pse=Te.lazy(()=>Ht(()=>import("./InvoiceForm-DbSTVKKo.js"),__vite__mapDeps([29,1,2,3]))),Lse=Te.lazy(()=>Ht(()=>import("./InvoiceList-92xTWJQa.js").then(t=>t.a),__vite__mapDeps([28,1,2,3,13,25,26]))),Bse=Te.lazy(()=>Ht(()=>import("./Leads-Cl55JbNb.js"),__vite__mapDeps([30,1,2,25,31,3,13,26]))),Fse=Te.lazy(()=>Ht(()=>import("./Customers-DvWC6Wjg.js"),__vite__mapDeps([32,1,2,31,3,13,26,25]))),Use=Te.lazy(()=>Ht(()=>import("./CustomerProfile-R-PDfdb8.js"),__vite__mapDeps([33,1,2,3,34])));Te.lazy(()=>Ht(()=>import("./UserManagement-7MPzy6cR.js"),__vite__mapDeps([35,1,2,3])));Te.lazy(()=>Ht(()=>import("./DepartmentManagement-BxIDu8Ce.js"),__vite__mapDeps([36,1,2,3])));Te.lazy(()=>Ht(()=>import("./TeamManagement-BSuqYgYz.js"),__vite__mapDeps([37,1,2,3])));const Hse=Te.lazy(()=>Ht(()=>import("./CombinedManagement-DAHh4BQA.js"),__vite__mapDeps([38,1,2,35,3,36,37]))),zse=Te.lazy(()=>Ht(()=>import("./BrandService-Dk55AMeI.js"),__vite__mapDeps([39,1,2,3,40]))),$se=Te.lazy(()=>Ht(()=>import("./ZoneView-6TEsutd1.js"),__vite__mapDeps([41,1,2,13,3]))),oR=Te.lazy(()=>Ht(()=>import("./WorkflowBuilder-CqZ6Dl38.js"),__vite__mapDeps([42,1,2,43,44,3]))),Vse=Te.lazy(()=>Ht(()=>import("./WorkflowListPage-CQtpv0bn.js"),__vite__mapDeps([45,1,2,3]))),qse=Te.lazy(()=>Ht(()=>import("./WorkflowViewPage-BlfWWoVm.js"),__vite__mapDeps([46,1,2,43,44,3]))),Wse=Te.lazy(()=>Ht(()=>import("./ProcessStepPage-CaA-AFKQ.js"),__vite__mapDeps([47,1,2,3]))),Gse=[{path:"/dashboard",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Employee","Team Leader"],children:_.jsx(Tse,{})})},{path:"/projects",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Employee","Team Leader"],children:_.jsx(NJ,{})})},{path:"/project-track",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader"],children:_.jsx(LJ,{})})},{path:"/workingdays",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Employee","Team Leader"],children:_.jsx(DJ,{})})},{path:"/apply-leave",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Employee","Team Leader"],children:_.jsx(Mq,{})})},{path:"/manage-leaves",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Team Leader"],children:_.jsx(Pq,{})})},{path:"/eodreport",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin"],children:_.jsx(Ase,{})})},{path:"/master",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Employee","Team Leader"],children:_.jsx(kse,{})})},{path:"/taskboard",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Employee","Team Leader"],children:_.jsx(sR,{})})},{path:"/taskmanage",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Employee","Team Leader"],children:_.jsx(sR,{})})},{path:"/chat",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Employee","Team Leader"],children:_.jsx($5,{})})},{path:"/wallets",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Employee","Team Leader"],children:_.jsx(r8,{})})},{path:"/attendance",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Employee","Team Leader"],children:_.jsx(Cse,{})})},{path:"/invoicedashboard",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader"],children:_.jsx(Rse,{})})},{path:"/profile",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Employee","Team Leader"],children:_.jsx(Dse,{})})},{path:"/settings",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Employee","Team Leader"],children:_.jsx(Ose,{})})},{path:"/leads",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader","Employee"],children:_.jsx(Bse,{})})},{path:"/notifications",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader","Employee"],children:_.jsx(n8,{})})},{path:"/clients",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader","Employee"],children:_.jsx(Fse,{})})},{path:"/zone-view",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader","Employee"],children:_.jsx($se,{})})},{path:"/customers/:id",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader","Employee"],children:_.jsx(Use,{})})},{path:"/invoice",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin"],children:_.jsx(jse,{})})},{path:"/invoice/form",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin"],children:_.jsx(Pse,{})})},{path:"/invoice/list",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin"],children:_.jsx(Lse,{})})},{path:"/service",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader"],children:_.jsx(zse,{})})},{path:"/quotation",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader"],children:_.jsx(Nse,{})})},{path:"/quotation/form",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader"],children:_.jsx(Ise,{})})},{path:"/quotation/list",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader"],children:_.jsx(Mse,{})})},{path:"/management",element:_.jsx(dt,{allowedRoles:["Superadmin","Client","Admin"],children:_.jsx(Hse,{})})},{path:"/dailyplan",element:_.jsx(dt,{allowedRoles:["Superadmin","Client","Admin","Team Leader","Employee"],children:_.jsx(Oq,{})})},{path:"/subscriptions",element:_.jsx(dt,{allowedRoles:["Superadmin","Client","Admin","Team Leader","Employee"],children:_.jsx(HJ,{})})},{path:"/createsubscriptions",element:_.jsx(dt,{allowedRoles:["Superadmin","Client","Admin","Team Leader","Employee"],children:_.jsx(zJ,{})})},{path:"/process-step",element:_.jsx(dt,{allowedRoles:["Superadmin","Client","Admin","Team Leader","Employee"],children:_.jsx(Wse,{})})},{path:"/client-dashboard",element:_.jsx(dt,{allowedRoles:["Superadmin","Client"],children:_.jsx(UJ,{})})},{path:"/workflow/:service_id/list",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader"],children:_.jsx(Vse,{})})},{path:"/workflow/:service_id/create",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader"],children:_.jsx(Df,{children:_.jsx(oR,{isEdit:!1})})})},{path:"/workflow/edit/:workflow_id",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader"],children:_.jsx(Df,{children:_.jsx(oR,{isEdit:!0})})})},{path:"/workflow/view/:workflow_id",element:_.jsx(dt,{allowedRoles:["Admin","Superadmin","Client","Team Leader"],children:_.jsx(Df,{children:_.jsx(qse,{})})})}],Yse=[{path:"/login",element:_.jsx(aR,{})},{path:"/",element:_.jsx(aR,{})}],Xse="/assets/vrismsmall-CW26RYAX.png",Kse="/assets/vrism-C_g_ufdn.png",Qse=({collapsed:t})=>{const e=$c(),n=zc(),r="/"+n.pathname.split("/")[1],i=JSON.parse(localStorage.getItem("user")),s=i==null?void 0:i.role,a=[{key:"/dashboard",icon:_.jsx(IR,{}),label:"Dashboard",roles:["Admin","Superadmin","Employee","Team Leader"],children:[{key:"/eodreport",label:"EOD Report",roles:["Admin","Superadmin"],icon:_.jsx(F0,{})},{key:"/dashboard/deals",label:"Leads Dashboard",roles:["Admin","Superadmin","Team Leader"],icon:_.jsx(OP,{})},{key:"/manage-leaves",label:"ManageLeaves",roles:["Admin","Superadmin","Team Leader"],icon:_.jsx(KS,{})},{key:"/taskmanage",label:"Task Dashboard",roles:["Admin","Superadmin","Team Leader","Employee"],icon:_.jsx(QS,{})},{key:"/dailyplan",label:"Daily Planner",roles:["Admin","Superadmin","Team Leader","Employee"],icon:_.jsx(OR,{})},{key:"/attendance",label:"TimeSheet",roles:["Admin","Superadmin","Team Leader","Employee"],icon:_.jsx(ZS,{})},{key:"/workingdays",label:"Attendance",roles:["Admin","Superadmin","Team Leader"],icon:_.jsx(JS,{})},{key:"/projects",label:"Projects",roles:["Admin","Superadmin","Team Leader","Employee"],icon:_.jsx(kP,{})},{key:"/project-track",label:"Tracking",roles:["Admin","Superadmin","Team Leader"],icon:_.jsx(Jy,{})}]},{key:"/application",icon:_.jsx(Jy,{}),label:"Application",roles:["Admin","Superadmin","Team Leader","Employee"],children:[{key:"/leads",icon:_.jsx(NP,{}),label:"Leads",roles:["Admin","Superadmin","Team Leader"]},{key:"/clients",icon:_.jsx(nd,{}),label:"Clients",roles:["Admin","Superadmin","Team Leader"]},{key:"/quotation",icon:_.jsx(F0,{}),label:"Quotations",roles:["Admin","Superadmin","Team Leader"]},{key:"/service",icon:_.jsx(MR,{}),label:"Service",roles:["Admin","Superadmin","Team Leader"]}]},{key:"/personal",icon:_.jsx(ZS,{}),label:"Personal",roles:["Admin","Superadmin","Team Leader","Employee"],children:[{key:"/wallets",icon:_.jsx(IP,{}),label:"Wallets",roles:["Admin","Superadmin","Team Leader","Employee"]},{key:"/chat",icon:_.jsx(MP,{}),label:"Chat",roles:["Admin","Superadmin","Team Leader","Employee"]},{key:"/master",icon:_.jsx(JS,{}),label:"Master",roles:["Admin","Superadmin","Team Leader","Employee"]},{key:"/apply-leave",icon:_.jsx(QS,{}),label:"leave",roles:["Admin","Superadmin","Team Leader","Employee"]}]},{key:"/super-admin",icon:_.jsx(KS,{}),label:"User Manage",roles:["Superadmin","Admin","Employee","Team Leader","Client"],children:[{key:"/management",icon:_.jsx(Ov,{}),label:"User Management",roles:["Superadmin"]},{key:"/profile",icon:_.jsx(eT,{}),label:"Profile",roles:["Superadmin","Admin","Employee","Team Leader"]}]},{key:"/clinet",icon:_.jsx(jP,{}),label:"Client",roles:["Superadmin","Client"],children:[{key:"/client-dashboard",icon:_.jsx(Ov,{}),label:"Projects Status",roles:["Client"]},{key:"/subscriptions",icon:_.jsx(Ov,{}),label:"Subscriptions",roles:["Client"]},{key:"/createsubscriptions",icon:_.jsx(eT,{}),label:"Create subscriptions ",roles:["Superadmin","Admin","Employee","Team Leader"]}]}],c=w=>w.map(x=>{if(x.children){const b=c(x.children);return b.length>0&&(!x.roles||x.roles.includes(s))?{...x,children:b}:null}else return!x.roles||x.roles.includes(s)?x:null}).filter(Boolean),f=c(a),d=f.map(w=>w.key),[h,g]=k.useState([]);k.useEffect(()=>{if(t)g([]);else{const w=d.find(x=>n.pathname.startsWith(x));g(w?[w]:[])}},[t,r,n.pathname]);const m=w=>{const x=w.find(b=>!h.includes(b));d.includes(x)?g(x?[x]:[]):g(w)},v=({key:w})=>{e(w)};return _.jsxs("div",{style:{position:"fixed",top:0,height:"100vh",width:t?80:200,overflowY:"auto",background:"#fafafa",transition:"all .3s"},children:[_.jsx("div",{style:{height:64,display:"flex",alignItems:"center",justifyContent:"center",background:"white",borderBottom:"1px solid #f0f0f0"},children:_.jsx("img",{src:t?Xse:Kse,alt:"Logo",style:{padding:10,width:t?55:160,transition:"all 0.3s"}})}),_.jsx(mP,{mode:"inline",theme:"light",items:f,selectedKeys:[n.pathname],openKeys:h,onOpenChange:m,onClick:v,style:{height:"calc(100% - 64px)",borderRight:0},inlineCollapsed:t})]})},Pp=new Audio("/sounds/notify.mp3");Pp.volume=.8;Pp.preload="auto";const lR=()=>{if(yc())return console.log(" Sound Muted");Pp.currentTime=0,Pp.play().catch(t=>{console.warn(" Sound play blocked until first click",t)})},Zse=()=>{const t=yc();return localStorage.setItem("notificationsMuted",!t),!t},yc=()=>localStorage.getItem("notificationsMuted")==="true";Ze.extend(Zp);const Jse=({collapsed:t,setCollapsed:e})=>{var K,te;const n=$c(),r=JSON.parse(localStorage.getItem("user")),{presenceMap:i,socket:s}=k.useContext(ol);if(!r)return null;const a={online:"#00d12e",busy:"#ff2d2d",away:"#ffb300",in_meeting:"#8b32ff",offline:"#8c8c8c"},c=((K=i[r._id])==null?void 0:K.presence)||"offline",f={backgroundColor:a[c],width:12,height:12,borderRadius:"50%",position:"absolute",bottom:0,right:0,border:"2px solid white",boxShadow:`0 0 6px ${a[c]}`},[d,h]=k.useState(0),[g,m]=k.useState(0),v=()=>{Ve.get(`/api/notifications/${r._id}`).then(X=>{const ce=X.data.notifications.filter(N=>!N.read).length;h(ce),ce>g&&!yc()&&lR(),m(ce)}).catch(()=>{})};k.useEffect(()=>{v();const X=setInterval(v,6e3);return()=>clearInterval(X)},[g]);const[w,x]=k.useState([]),[b,S]=k.useState(!1),T=()=>{Ve.get(`/api/alerts?userId=${r._id}`).then(X=>x(X.data.alerts||[])).catch(()=>{})};k.useEffect(()=>{T();const X=setInterval(T,7e3);return()=>clearInterval(X)},[]),k.useEffect(()=>{if(!s)return;const X=()=>{T(),yc()||lR()};return s.on("alert_received",X),()=>s.off("alert_received",X)},[s]);const A=w.filter(X=>!X.isRead).length,C=async X=>{await Ve.put(`/api/alerts/${X._id}/read`),X.type==="Task"&&X.refId?n(`/taskmanage?open=${X.refId}`):X.type==="Project"&&X.refId?n(`/projects?open=${X.refId}`):X.type==="Leave"?r.role==="Employee"?n(`/apply-leave?open=${X.refId}`):n(`/manage-leaves?open=${X.refId}`):X.type==="Work"?r.role==="Employee"?n(`/attendance?open=${X.refId}`):n(`/eodreport?open=${X.refId}`):n("/alerts"),S(!1),T()},P=async()=>{await Ve.put(`/api/alerts/mark-all-read?userId=${r._id}`),Bn.success("Unread Alerts Cleared"),T()},V=async()=>{await Ve.delete(`/api/alerts/clear?userId=${r._id}`),Bn.success("All Alerts Cleared"),T()},I=async X=>{try{await Ve.post("/api/users/status/update",{userId:r._id,presence:X}),s&&s.emit("presence_change",{userId:r._id,presence:X})}catch(ce){console.error(ce)}},j=_.jsxs("div",{style:{width:360,maxHeight:380,overflowY:"auto"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:10},children:[_.jsx("span",{children:_.jsxs("b",{children:["Unread (",A,")"]})}),_.jsxs("div",{style:{display:"flex",gap:12},children:[_.jsx("span",{style:{color:"#fa8c16",cursor:"pointer"},onClick:P,children:"Clear Unread"}),_.jsx("span",{style:{color:"red",cursor:"pointer"},onClick:V,children:"Clear All"})]})]}),_.jsx(os,{dataSource:w.filter(X=>!X.isRead),locale:{emptyText:_.jsx(za,{description:" No unread alerts"})},renderItem:X=>_.jsxs("div",{onClick:()=>C(X),style:{padding:"10px 10px",borderRadius:6,marginBottom:8,border:"1px solid #eee",background:"#fff7e6",cursor:"pointer"},children:[_.jsx("b",{children:X.type==="Leave"?" Leave Alert":`${X.type} Alert`}),_.jsx(Et,{color:X.type==="Leave"?"geekblue":X.type==="Task"?"green":X.type==="Project"?"purple":"gold",style:{marginLeft:8},children:X.type}),_.jsx("div",{children:X.message}),_.jsx("small",{style:{color:"#666"},children:Ze(X.createdAt).fromNow()})]})}),_.jsx(cr,{plain:!0,children:"Read Alerts"}),_.jsx(os,{dataSource:w.filter(X=>X.isRead),locale:{emptyText:_.jsx(za,{description:"No read alerts"})},renderItem:X=>_.jsxs("div",{onClick:()=>C(X),style:{padding:"10px 0",opacity:.45,cursor:"pointer",borderBottom:"1px solid #eee"},children:[X.message,_.jsx("br",{}),_.jsx("small",{style:{color:"#666"},children:Ze(X.createdAt).fromNow()})]})})]}),L={items:[{type:"group",label:"Status",children:Object.keys(a).map(X=>({key:X,label:_.jsxs("div",{onClick:()=>I(X),children:[_.jsx("span",{style:{width:10,height:10,marginRight:8,background:a[X],borderRadius:"50%",display:"inline-block"}}),X.replace("_"," ")]})}))},{type:"divider"},{key:"profile",icon:_.jsx(nd,{}),label:"Profile",onClick:()=>n("/profile")},{key:"logout",icon:_.jsx(PP,{}),label:"Logout",onClick:()=>{I("offline"),localStorage.clear(),n("/login")}}]};return _.jsxs("div",{className:"top-navbar-container",children:[_.jsx("div",{className:"navbar-left-content",onClick:()=>e(!t)}),_.jsxs("div",{className:"top-navbar-right",children:[_.jsx(Dv,{title:yc()?"Enable Sound":"Mute",children:_.jsx("span",{className:"mute-toggle",onClick:()=>Bn(Zse()?" Muted":" Enabled"),children:yc()?"":""})}),_.jsx(Dv,{title:"Notifications",children:_.jsx(YS,{count:d,children:_.jsx(LP,{className:"bell-icon",style:{fontSize:24,marginLeft:15},onClick:()=>n("/notifications")})})}),_.jsx(Dv,{title:"System Alerts",children:_.jsx(vP,{content:j,trigger:"click",placement:"bottomRight",open:b,onOpenChange:S,children:_.jsx(YS,{count:A,style:{backgroundColor:"#1677ff"},children:_.jsx(yP,{className:"bell-icon",style:{fontSize:24,marginLeft:15,color:"#122e44"}})})})}),_.jsx(xP,{menu:L,trigger:["click"],children:_.jsxs("div",{style:{cursor:"pointer",position:"relative"},children:[_.jsx(_P,{style:{fontSize:24,backgroundColor:"#122e44"},src:r==null?void 0:r.profileImage,children:!(r!=null&&r.profileImage)&&((te=r==null?void 0:r.name)==null?void 0:te.charAt(0))}),_.jsx("span",{style:f})]})})]})]})},eae=()=>{const t=$c(),e=zc(),n=JSON.parse(localStorage.getItem("user")),r=n==null?void 0:n.role,s=[{key:"/dashboard",icon:_.jsx(IR,{}),label:"Dashboard",roles:["Admin","Superadmin","Team Leader"]},{key:"/attendance",icon:_.jsx(Up,{}),label:"Timesheet",roles:["Admin","Superadmin","Employee","Team Leader"]},{key:"/taskmanage",icon:_.jsx(mf,{}),label:"Task",roles:["Admin","Superadmin","Employee","Team Leader"]},{key:"/chat",icon:_.jsx(BP,{}),label:"Timesheet",roles:["Admin","Superadmin","Employee","Team Leader"]},{key:"/quotation",icon:_.jsx(F0,{}),label:"Quotations",roles:["Admin","Superadmin"]},{key:"/customers",icon:_.jsx(nd,{}),label:"Customers",roles:["Admin","Superadmin"]},{key:"/products",icon:_.jsx(MR,{}),label:"Products",roles:["Admin","Superadmin"]},{key:"/master",icon:_.jsx(FP,{}),label:"Timesheet",roles:["Admin","Superadmin","Employee","Team Leader"]}].filter(a=>a.roles.includes(r));return _.jsx("div",{className:"mobile-tab-menu",children:s.map(a=>_.jsx("div",{onClick:()=>t(a.key),className:`tab-item ${e.pathname===a.key?"active-tab":""}`,children:a.icon},a.key))})},{Footer:tae}=U0,nae=()=>_.jsxs(tae,{style:{textAlign:"center",backgroundColor:"#132f45",padding:"16px 50px",position:"relative",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",fontSize:"14px",color:"#ffffffff"},children:[" ",new Date().getFullYear()," All rights are reserved by ",_.jsxs("strong",{children:[" ",_.jsx("a",{href:"https://megacranesindia.com/",target:"_blank",rel:"noopener noreferrer",children:_.jsx("span",{className:"company",children:"Vrism"})})]})]}),{Sider:rae,Content:iae,Header:sae,Footer:Qce}=U0,aae=({children:t})=>{const[e,n]=k.useState(!1),[r,i]=k.useState(!1);k.useEffect(()=>{const a=()=>{i(window.innerWidth<768)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const s=k.useCallback(a=>{n(a)},[]);return _.jsxs(_.Fragment,{children:[_.jsxs(U0,{className:"main-layout",style:{minHeight:"100vh"},children:[!r&&_.jsx(rae,{collapsible:!0,collapsed:e,onCollapse:s,breakpoint:"lg",collapsedWidth:"80",className:"sidebar",theme:"light",children:_.jsx(Qse,{collapsed:e})}),_.jsxs(U0,{children:[_.jsx(sae,{className:"top-navbar",children:_.jsx(Jse,{collapsed:e,setCollapsed:n})}),_.jsx(iae,{className:"main-content",children:_.jsx("div",{className:"inner-content",children:t})}),_.jsx(nae,{})," "]})]}),r&&_.jsx(eae,{})]})},oae=k.createContext(null),By={didCatch:!1,error:null};class lae extends k.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=By}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var n,r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:s,reason:"imperative-api"}),this.setState(By)}}componentDidCatch(e,n){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,e,n)}componentDidUpdate(e,n){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&n.error!==null&&cae(e.resetKeys,i)){var s,a;(s=(a=this.props).onReset)===null||s===void 0||s.call(a,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(By)}}render(){const{children:e,fallbackRender:n,FallbackComponent:r,fallback:i}=this.props,{didCatch:s,error:a}=this.state;let c=e;if(s){const f={error:a,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")c=n(f);else if(r)c=k.createElement(r,f);else if(i!==void 0)c=i;else throw a}return k.createElement(oae.Provider,{value:{didCatch:s,error:a,resetErrorBoundary:this.resetErrorBoundary}},c)}}function cae(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((n,r)=>!Object.is(n,e[r]))}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uae=()=>{};var cR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fae=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},EM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,h=s>>2,g=(s&3)<<4|c>>4;let m=(c&15)<<2|d>>6,v=d&63;f||(v=64,a||(m=64)),r.push(n[h],n[g],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fae(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new dae;const m=s<<2|c>>4;if(r.push(m),d!==64){const v=c<<4&240|d>>2;if(r.push(v),g!==64){const w=d<<6&192|g;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hae=function(t){const e=bM(t);return EM.encodeByteArray(e,!0)},SM=function(t){return hae(t).replace(/\./g,"")},pae=function(t){try{return EM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mae=()=>gae().__FIREBASE_DEFAULTS__,vae=()=>{if(typeof process>"u"||typeof cR>"u")return;const t=cR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yae=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pae(t[1]);return e&&JSON.parse(e)},xae=()=>{try{return uae()||mae()||vae()||yae()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TM=()=>{var t;return(t=xae())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function AM(){try{return typeof indexedDB=="object"}catch{return!1}}function CM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function wae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bae="FirebaseError";class tu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bae,Object.setPrototypeOf(this,tu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bg.prototype.create)}}class bg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Eae(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new tu(i,c,r)}}function Eae(t,e){return t.replace(Sae,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Sae=/\{\$([^}]+)}/g;function cx(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(uR(s)&&uR(a)){if(!cx(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t){return t&&t._delegate?t._delegate:t}class Ya{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tae{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _ae;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cae(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Aae(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Aae(t){return t===Ro?void 0:t}function Cae(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tae(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Yt||(Yt={}));const Dae={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},Oae=Yt.INFO,kae={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},Nae=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=kae[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iae{constructor(e){this.name=e,this._logLevel=Oae,this._logHandler=Nae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}const Mae=(t,e)=>e.some(n=>t instanceof n);let fR,dR;function jae(){return fR||(fR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pae(){return dR||(dR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RM=new WeakMap,ux=new WeakMap,DM=new WeakMap,Fy=new WeakMap,sw=new WeakMap;function Lae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Hs(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&RM.set(n,t)}).catch(()=>{}),sw.set(e,t),e}function Bae(t){if(ux.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});ux.set(t,e)}let fx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ux.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Fae(t){fx=t(fx)}function Uae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uy(this),e,...n);return DM.set(r,e.sort?e.sort():[e]),Hs(r)}:Pae().includes(t)?function(...e){return t.apply(Uy(this),e),Hs(RM.get(this))}:function(...e){return Hs(t.apply(Uy(this),e))}}function Hae(t){return typeof t=="function"?Uae(t):(t instanceof IDBTransaction&&Bae(t),Mae(t,jae())?new Proxy(t,fx):t)}function Hs(t){if(t instanceof IDBRequest)return Lae(t);if(Fy.has(t))return Fy.get(t);const e=Hae(t);return e!==t&&(Fy.set(t,e),sw.set(e,t)),e}const Uy=t=>sw.get(t);function Eg(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=Hs(a);return r&&a.addEventListener("upgradeneeded",f=>{r(Hs(a.result),f.oldVersion,f.newVersion,Hs(a.transaction),f)}),n&&a.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}function Hy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Hs(n).then(()=>{})}const zae=["get","getKey","getAll","getAllKeys","count"],$ae=["put","add","delete","clear"],zy=new Map;function hR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zy.get(e))return zy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$ae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zae.includes(n)))return;const s=async function(a,...c){const f=this.transaction(a,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&f.done]))[0]};return zy.set(e,s),s}Fae(t=>({...t,get:(e,n,r)=>hR(e,n)||t.get(e,n,r),has:(e,n)=>!!hR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qae(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qae(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dx="@firebase/app",pR="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Iae("@firebase/app"),Wae="@firebase/app-compat",Gae="@firebase/analytics-compat",Yae="@firebase/analytics",Xae="@firebase/app-check-compat",Kae="@firebase/app-check",Qae="@firebase/auth",Zae="@firebase/auth-compat",Jae="@firebase/database",eoe="@firebase/data-connect",toe="@firebase/database-compat",noe="@firebase/functions",roe="@firebase/functions-compat",ioe="@firebase/installations",soe="@firebase/installations-compat",aoe="@firebase/messaging",ooe="@firebase/messaging-compat",loe="@firebase/performance",coe="@firebase/performance-compat",uoe="@firebase/remote-config",foe="@firebase/remote-config-compat",doe="@firebase/storage",hoe="@firebase/storage-compat",poe="@firebase/firestore",goe="@firebase/ai",moe="@firebase/firestore-compat",voe="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="[DEFAULT]",yoe={[dx]:"fire-core",[Wae]:"fire-core-compat",[Yae]:"fire-analytics",[Gae]:"fire-analytics-compat",[Kae]:"fire-app-check",[Xae]:"fire-app-check-compat",[Qae]:"fire-auth",[Zae]:"fire-auth-compat",[Jae]:"fire-rtdb",[eoe]:"fire-data-connect",[toe]:"fire-rtdb-compat",[noe]:"fire-fn",[roe]:"fire-fn-compat",[ioe]:"fire-iid",[soe]:"fire-iid-compat",[aoe]:"fire-fcm",[ooe]:"fire-fcm-compat",[loe]:"fire-perf",[coe]:"fire-perf-compat",[uoe]:"fire-rc",[foe]:"fire-rc-compat",[doe]:"fire-gcs",[hoe]:"fire-gcs-compat",[poe]:"fire-fst",[moe]:"fire-fst-compat",[goe]:"fire-vertex","fire-js":"fire-js",[voe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=new Map,xoe=new Map,px=new Map;function gR(t,e){try{t.container.addComponent(e)}catch(n){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nl(t){const e=t.name;if(px.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;px.set(e,t);for(const n of Lp.values())gR(n,t);for(const n of xoe.values())gR(n,t);return!0}function aw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _oe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new bg("app","Firebase",_oe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class woe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}function OM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:hx,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ua.create("bad-app-name",{appName:String(i)});if(n||(n=TM()),!n)throw Ua.create("no-options");const s=Lp.get(i);if(s){if(cx(n,s.options)&&cx(r,s.config))return s;throw Ua.create("duplicate-app",{appName:i})}const a=new Rae(i);for(const f of px.values())a.addComponent(f);const c=new woe(n,r,a);return Lp.set(i,c),c}function boe(t=hx){const e=Lp.get(t);if(!e&&t===hx&&TM())return OM();if(!e)throw Ua.create("no-app",{appName:t});return e}function Ha(t,e,n){let r=yoe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ys.warn(a.join(" "));return}nl(new Ya(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eoe="firebase-heartbeat-database",Soe=1,Zf="firebase-heartbeat-store";let $y=null;function kM(){return $y||($y=Eg(Eoe,Soe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ua.create("idb-open",{originalErrorMessage:t.message})})),$y}async function Toe(t){try{const n=(await kM()).transaction(Zf),r=await n.objectStore(Zf).get(NM(t));return await n.done,r}catch(e){if(e instanceof tu)Ys.warn(e.message);else{const n=Ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ys.warn(n.message)}}}async function mR(t,e){try{const r=(await kM()).transaction(Zf,"readwrite");await r.objectStore(Zf).put(e,NM(t)),await r.done}catch(n){if(n instanceof tu)Ys.warn(n.message);else{const r=Ua.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ys.warn(r.message)}}}function NM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aoe=1024,Coe=30;class Roe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ooe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vR();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Coe){const a=koe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ys.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vR(),{heartbeatsToSend:r,unsentEntries:i}=Doe(this._heartbeatsCache.heartbeats),s=SM(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ys.warn(n),""}}}function vR(){return new Date().toISOString().substring(0,10)}function Doe(t,e=Aoe){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),yR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ooe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AM()?CM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Toe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function yR(t){return SM(JSON.stringify({version:2,heartbeats:t})).length}function koe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Noe(t){nl(new Ya("platform-logger",e=>new Vae(e),"PRIVATE")),nl(new Ya("heartbeat",e=>new Roe(e),"PRIVATE")),Ha(dx,pR,t),Ha(dx,pR,"esm2020"),Ha("fire-js","")}Noe("");var Ioe="firebase",Moe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ha(Ioe,Moe,"app");const IM="@firebase/installations",ow="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=1e4,jM=`w:${ow}`,PM="FIS_v2",joe="https://firebaseinstallations.googleapis.com/v1",Poe=60*60*1e3,Loe="installations",Boe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Foe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},rl=new bg(Loe,Boe,Foe);function LM(t){return t instanceof tu&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM({projectId:t}){return`${joe}/projects/${t}/installations`}function FM(t){return{token:t.token,requestStatus:2,expiresIn:Hoe(t.expiresIn),creationTime:Date.now()}}async function UM(t,e){const r=(await e.json()).error;return rl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function HM({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Uoe(t,{refreshToken:e}){const n=HM(t);return n.append("Authorization",zoe(e)),n}async function zM(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Hoe(t){return Number(t.replace("s","000"))}function zoe(t){return`${PM} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $oe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=BM(t),i=HM(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={fid:n,authVersion:PM,appId:t.appId,sdkVersion:jM},c={method:"POST",headers:i,body:JSON.stringify(a)},f=await zM(()=>fetch(r,c));if(f.ok){const d=await f.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:FM(d.authToken)}}else throw await UM("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Voe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qoe=/^[cdef][\w-]{21}$/,gx="";function Woe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Goe(t);return qoe.test(n)?n:gx}catch{return gx}}function Goe(t){return Voe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new Map;function qM(t,e){const n=Sg(t);WM(n,e),Yoe(n,e)}function WM(t,e){const n=VM.get(t);if(n)for(const r of n)r(e)}function Yoe(t,e){const n=Xoe();n&&n.postMessage({key:t,fid:e}),Koe()}let Fo=null;function Xoe(){return!Fo&&"BroadcastChannel"in self&&(Fo=new BroadcastChannel("[Firebase] FID Change"),Fo.onmessage=t=>{WM(t.data.key,t.data.fid)}),Fo}function Koe(){VM.size===0&&Fo&&(Fo.close(),Fo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qoe="firebase-installations-database",Zoe=1,il="firebase-installations-store";let Vy=null;function lw(){return Vy||(Vy=Eg(Qoe,Zoe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(il)}}})),Vy}async function Bp(t,e){const n=Sg(t),i=(await lw()).transaction(il,"readwrite"),s=i.objectStore(il),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&qM(t,e.fid),e}async function GM(t){const e=Sg(t),r=(await lw()).transaction(il,"readwrite");await r.objectStore(il).delete(e),await r.done}async function Tg(t,e){const n=Sg(t),i=(await lw()).transaction(il,"readwrite"),s=i.objectStore(il),a=await s.get(n),c=e(a);return c===void 0?await s.delete(n):await s.put(c,n),await i.done,c&&(!a||a.fid!==c.fid)&&qM(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(t){let e;const n=await Tg(t.appConfig,r=>{const i=Joe(r),s=ele(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===gx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Joe(t){const e=t||{fid:Woe(),registrationStatus:0};return YM(e)}function ele(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(rl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=tle(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nle(t)}:{installationEntry:e}}async function tle(t,e){try{const n=await $oe(t,e);return Bp(t.appConfig,n)}catch(n){throw LM(n)&&n.customData.serverCode===409?await GM(t.appConfig):await Bp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function nle(t){let e=await xR(t.appConfig);for(;e.registrationStatus===1;)await $M(100),e=await xR(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await cw(t);return r||n}return e}function xR(t){return Tg(t,e=>{if(!e)throw rl.create("installation-not-found");return YM(e)})}function YM(t){return rle(t)?{fid:t.fid,registrationStatus:0}:t}function rle(t){return t.registrationStatus===1&&t.registrationTime+MM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ile({appConfig:t,heartbeatServiceProvider:e},n){const r=sle(t,n),i=Uoe(t,n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={installation:{sdkVersion:jM,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(a)},f=await zM(()=>fetch(r,c));if(f.ok){const d=await f.json();return FM(d)}else throw await UM("Generate Auth Token",f)}function sle(t,{fid:e}){return`${BM(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(t,e=!1){let n;const r=await Tg(t.appConfig,s=>{if(!XM(s))throw rl.create("not-registered");const a=s.authToken;if(!e&&lle(a))return s;if(a.requestStatus===1)return n=ale(t,e),s;{if(!navigator.onLine)throw rl.create("app-offline");const c=ule(s);return n=ole(t,c),c}});return n?await n:r.authToken}async function ale(t,e){let n=await _R(t.appConfig);for(;n.authToken.requestStatus===1;)await $M(100),n=await _R(t.appConfig);const r=n.authToken;return r.requestStatus===0?uw(t,e):r}function _R(t){return Tg(t,e=>{if(!XM(e))throw rl.create("not-registered");const n=e.authToken;return fle(n)?{...e,authToken:{requestStatus:0}}:e})}async function ole(t,e){try{const n=await ile(t,e),r={...e,authToken:n};return await Bp(t.appConfig,r),n}catch(n){if(LM(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await GM(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Bp(t.appConfig,r)}throw n}}function XM(t){return t!==void 0&&t.registrationStatus===2}function lle(t){return t.requestStatus===2&&!cle(t)}function cle(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Poe}function ule(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function fle(t){return t.requestStatus===1&&t.requestTime+MM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dle(t){const e=t,{installationEntry:n,registrationPromise:r}=await cw(e);return r?r.catch(console.error):uw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hle(t,e=!1){const n=t;return await ple(n),(await uw(n,e)).token}async function ple(t){const{registrationPromise:e}=await cw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gle(t){if(!t||!t.options)throw qy("App Configuration");if(!t.name)throw qy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function qy(t){return rl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="installations",mle="installations-internal",vle=t=>{const e=t.getProvider("app").getImmediate(),n=gle(e),r=aw(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},yle=t=>{const e=t.getProvider("app").getImmediate(),n=aw(e,KM).getImmediate();return{getId:()=>dle(n),getToken:i=>hle(n,i)}};function xle(){nl(new Ya(KM,vle,"PUBLIC")),nl(new Ya(mle,yle,"PRIVATE"))}xle();Ha(IM,ow);Ha(IM,ow,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _le="/firebase-messaging-sw.js",wle="/firebase-cloud-messaging-push-scope",QM="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ble="https://fcmregistrations.googleapis.com/v1",ZM="google.c.a.c_id",Ele="google.c.a.c_l",Sle="google.c.a.ts",Tle="google.c.a.e",wR=1e4;var bR;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(bR||(bR={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Jf;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Jf||(Jf={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ale(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="fcm_token_details_db",Cle=5,ER="fcm_token_object_Store";async function Rle(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Wy))return null;let e=null;return(await Eg(Wy,Cle,{upgrade:async(r,i,s,a)=>{if(i<2||!r.objectStoreNames.contains(ER))return;const c=a.objectStore(ER),f=await c.index("fcmSenderId").get(t);if(await c.clear(),!!f){if(i===2){const d=f;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:d.createTime??Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Ms(d.vapidKey)}}}else if(i===3){const d=f;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ms(d.auth),p256dh:Ms(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ms(d.vapidKey)}}}else if(i===4){const d=f;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ms(d.auth),p256dh:Ms(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ms(d.vapidKey)}}}}}})).close(),await Hy(Wy),await Hy("fcm_vapid_details_db"),await Hy("undefined"),Dle(e)?e:null}function Dle(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ole="firebase-messaging-database",kle=1,ed="firebase-messaging-store";let Gy=null;function JM(){return Gy||(Gy=Eg(Ole,kle,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ed)}}})),Gy}async function Nle(t){const e=e3(t),r=await(await JM()).transaction(ed).objectStore(ed).get(e);if(r)return r;{const i=await Rle(t.appConfig.senderId);if(i)return await fw(t,i),i}}async function fw(t,e){const n=e3(t),i=(await JM()).transaction(ed,"readwrite");return await i.objectStore(ed).put(e,n),await i.done,e}function e3({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ile={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},pr=new bg("messaging","Messaging",Ile);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mle(t,e){const n=await hw(t),r=t3(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(dw(t.appConfig),i)).json()}catch(a){throw pr.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw pr.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw pr.create("token-subscribe-no-token");return s.token}async function jle(t,e){const n=await hw(t),r=t3(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${dw(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw pr.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw pr.create("token-update-failed",{errorInfo:a})}if(!s.token)throw pr.create("token-update-no-token");return s.token}async function Ple(t,e){const r={method:"DELETE",headers:await hw(t)};try{const s=await(await fetch(`${dw(t.appConfig)}/${e}`,r)).json();if(s.error){const a=s.error.message;throw pr.create("token-unsubscribe-failed",{errorInfo:a})}}catch(i){throw pr.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function dw({projectId:t}){return`${ble}/projects/${t}/registrations`}async function hw({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function t3({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==QM&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lle=7*24*60*60*1e3;async function Ble(t){const e=await Ule(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ms(e.getKey("auth")),p256dh:Ms(e.getKey("p256dh"))},r=await Nle(t.firebaseDependencies);if(r){if(Hle(r.subscriptionOptions,n))return Date.now()>=r.createTime+Lle?Fle(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Ple(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return SR(t.firebaseDependencies,n)}else return SR(t.firebaseDependencies,n)}async function Fle(t,e){try{const n=await jle(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await fw(t.firebaseDependencies,r),n}catch(n){throw n}}async function SR(t,e){const r={token:await Mle(t,e),createTime:Date.now(),subscriptionOptions:e};return await fw(t,r),r.token}async function Ule(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ale(e)})}function Hle(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return zle(e,t),$le(e,t),Vle(e,t),e}function zle(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function $le(t,e){e.data&&(t.data=e.data)}function Vle(t,e){var i,s,a,c;if(!e.fcmOptions&&!((i=e.notification)!=null&&i.click_action))return;t.fcmOptions={};const n=((s=e.fcmOptions)==null?void 0:s.link)??((a=e.notification)==null?void 0:a.click_action);n&&(t.fcmOptions.link=n);const r=(c=e.fcmOptions)==null?void 0:c.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qle(t){return typeof t=="object"&&!!t&&ZM in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wle(t){if(!t||!t.options)throw Yy("App Configuration Object");if(!t.name)throw Yy("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Yy(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Yy(t){return pr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gle{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=Wle(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yle(t){try{t.swRegistration=await navigator.serviceWorker.register(_le,{scope:wle}),t.swRegistration.update().catch(()=>{}),await Xle(t.swRegistration)}catch(e){throw pr.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function Xle(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${wR} ms`)),wR),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=s=>{var a;((a=s.target)==null?void 0:a.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kle(t,e){if(!e&&!t.swRegistration&&await Yle(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw pr.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qle(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=QM)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e){if(!navigator)throw pr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw pr.create("permission-blocked");return await Qle(t,e==null?void 0:e.vapidKey),await Kle(t,e==null?void 0:e.serviceWorkerRegistration),Ble(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zle(t,e,n){const r=Jle(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[ZM],message_name:n[Ele],message_time:n[Sle],message_device_time:Math.floor(Date.now()/1e3)})}function Jle(t){switch(t){case Jf.NOTIFICATION_CLICKED:return"notification_open";case Jf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ece(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Jf.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(TR(n)):t.onMessageHandler.next(TR(n)));const r=n.data;qle(r)&&r[Tle]==="1"&&await Zle(t,n.messageType,r)}const AR="@firebase/messaging",CR="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tce=t=>{const e=new Gle(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>ece(e,n)),e},nce=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>n3(e,r)}};function rce(){nl(new Ya("messaging",tce,"PUBLIC")),nl(new Ya("messaging-internal",nce,"PRIVATE")),Ha(AR,CR),Ha(AR,CR,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ice(){try{await CM()}catch{return!1}return typeof window<"u"&&AM()&&wae()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sce(t,e){if(!navigator)throw pr.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ace(t=boe()){return ice().then(e=>{if(!e)throw pr.create("unsupported-browser")},e=>{throw pr.create("indexed-db-unsupported")}),aw(iw(t),"messaging").getImmediate()}async function oce(t,e){return t=iw(t),n3(t,e)}function lce(t,e){return t=iw(t),sce(t,e)}rce();const cce={apiKey:"AIzaSyBcNTkpl4sv89fUMecf6vvmLilq7wmdb5Y",authDomain:"vrism-b96fc.firebaseapp.com",projectId:"vrism-b96fc",storageBucket:"vrism-b96fc.firebasestorage.app",messagingSenderId:"376273879246",appId:"1:376273879246:web:835a60aa82508ae20f109f"},uce=OM(cce),r3=ace(uce),fce=async()=>{try{const t=await oce(r3,{vapidKey:"NDx3eh45H21YvZevYS3CV3SqZ7iGu3KcX0UKxjXmJRU"});return t&&localStorage.setItem("fcm_token",t),t}catch{console.log("Notification permission denied")}},dce=t=>{lce(r3,e=>{var n,r;Bn(((n=e.notification)==null?void 0:n.body)||"New Notification",{icon:""}),(r=e==null?void 0:e.data)!=null&&r.senderId&&setTimeout(()=>{t(`/chat/${e.data.senderId}`)},1e3)})},hce=({message:t="Loading data...",fullscreen:e=!1})=>_.jsx("div",{className:e?"spinner-wrapper fullscreen":"spinner-wrapper",children:_.jsxs(wP,{align:"center",vertical:!0,className:"spinner-box",children:[_.jsx(Zy,{indicator:_.jsx(vx,{style:{fontSize:50,color:"#122e44"},spin:!0}),size:"large"}),_.jsx("p",{className:"spinner-text",children:t})]})});function pce({error:t,resetErrorBoundary:e}){return _.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column"},children:[_.jsx("h2",{children:"Something went wrong"}),_.jsx("pre",{style:{color:"red"},children:t.message}),_.jsx("button",{onClick:e,children:"Try Again"})]})}const gce=()=>{const t=$c(),e=zc(),n=e.pathname==="/login"||e.pathname==="/";return JSON.parse(localStorage.getItem("user")),k.useEffect(()=>{fce(),dce(t),"serviceWorker"in navigator&&navigator.serviceWorker.register("/firebase-messaging-sw.js")},[t]),k.useEffect(()=>{const r=()=>{const i=new Audio("/sounds/notify.mp3");i.volume=0,i.play().then(()=>{i.pause(),i.volume=.9}).catch(()=>{}),window.removeEventListener("click",r),window.removeEventListener("touchstart",r)};window.addEventListener("click",r),window.addEventListener("touchstart",r)},[]),_.jsxs(_.Fragment,{children:[_.jsx(NB,{position:"top-center"}),_.jsx(lae,{FallbackComponent:pce,children:_.jsx(k.Suspense,{fallback:_.jsx("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:_.jsx(hce,{})}),children:n?_.jsxs(dT,{children:[Yse.map(r=>_.jsx(cf,{path:r.path,element:r.element},r.path)),_.jsx(cf,{path:"*",element:_.jsx(H0,{to:"/login"})})]}):_.jsx(aae,{children:_.jsxs(dT,{children:[Gse.map(r=>_.jsx(cf,{path:r.path,element:r.element},r.path)),_.jsx(cf,{path:"*",element:_.jsx(H0,{to:"/dashboard"})})]})})})})]})},mce=k.createContext(),vce=({children:t})=>{const e=k.useRef(null);return k.useEffect(()=>{const n="https://vrism.haltnshine.com";return e.current=zo(n,{transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3}),console.log(" Socket connecting:",n),e.current.on("connect_error",r=>{console.error(" Socket error:",r.message)}),()=>e.current.close()},[]),_.jsx(mce.Provider,{value:e.current,children:t})};YP.createRoot(document.getElementById("root")).render(_.jsx(Te.StrictMode,{children:_.jsxs(vce,{children:["       ",_.jsxs(e8,{children:["   ",_.jsx(UL,{children:_.jsx(gce,{})})]})]})}));export{kO as A,_r as B,wd as C,Sy as D,B_ as E,CJ as F,Gce as G,Ht as H,wce as I,rr as J,mn as K,Kse as L,lM as M,Lre as N,NB as O,ol as P,wi as Q,Or as R,Pr as S,Sse as T,Nie as U,Bn as V,Kce as W,tie as X,qI as Y,V0 as _,Wf as a,Ap as b,YD as c,z_ as d,wI as e,PD as f,Rx as g,Yce as h,Gc as i,tO as j,q0 as k,mg as l,GD as m,SI as n,Xce as o,Cp as p,_ as q,Zte as r,Ve as s,DI as t,$c as u,$_ as v,Sa as w,RC as x,lne as y,Yf as z};
