import{q as e}from"./index-Db3Ct3vh.js";import{F as t,C as O,m as i,n,c as o,l as T,z as q,B as M,T as G,r as m,ap as V,an as B,s as r,aq as _,a0 as z,v as H}from"./antd-CjRtIVzR.js";import{M as A}from"./icons-De3RWgvB.js";import"./react-DoC2WAmd.js";const{Option:h}=T,{Title:J,Paragraph:Q}=G,X=()=>{const[x]=t.useForm(),c=u=>{console.log("Received values of form: ",u)},p={companyName:"COMPANY Name",companyAddress:"25, Your Company Address",companyState:"New York",companyCountry:"United State",companyEmail:"youremail@example.com",companyPhone:"+1 345234654",companyWebsite:"www.example.com",companyTaxNumber:"91231255234",companyVatNumber:"91231255234",companyRegNumber:"00001233421"};return e.jsx(O,{title:e.jsx(J,{level:4,style:{margin:0},children:"Company Settings"}),extra:e.jsx(Q,{style:{margin:0},children:"Update Your Company Informations"}),style:{maxWidth:900,margin:"auto"},children:e.jsxs(t,{form:x,layout:"vertical",name:"company_profile_form",onFinish:c,initialValues:p,children:[e.jsxs(i,{gutter:16,children:[" ",e.jsxs(n,{span:12,children:[" ",e.jsx(t.Item,{label:"Company Name:",name:"companyName",rules:[{required:!0,message:"Please input your Company Name!"}],children:e.jsx(o,{placeholder:"Enter company name"})})]}),e.jsxs(n,{span:12,children:[" ",e.jsx(t.Item,{label:"Company Email:",name:"companyEmail",rules:[{required:!0,message:"Please input your Company Email!"},{type:"email",message:"Please enter a valid email!"}],children:e.jsx(o,{placeholder:"Enter company email"})})]})]}),e.jsxs(i,{gutter:16,children:[e.jsx(n,{span:12,children:e.jsx(t.Item,{label:"Company Phone:",name:"companyPhone",children:e.jsx(o,{placeholder:"Enter company phone"})})}),e.jsx(n,{span:12,children:e.jsx(t.Item,{label:"Company Website:",name:"companyWebsite",children:e.jsx(o,{placeholder:"Enter company website URL"})})})]}),e.jsxs(t.Item,{label:"Company Address:",name:"companyAddress",rules:[{required:!0,message:"Please input your Company Address!"}],children:[e.jsx(o.TextArea,{autoSize:{minRows:2,maxRows:4},placeholder:"Enter company full address"})," "]}),e.jsxs(i,{gutter:16,children:[e.jsx(n,{span:12,children:e.jsx(t.Item,{label:"Company State:",name:"companyState",rules:[{required:!0,message:"Please select your Company State!"}],children:e.jsxs(T,{placeholder:"Select a state",children:[e.jsx(h,{value:"New York",children:"New York"}),e.jsx(h,{value:"California",children:"California"}),e.jsx(h,{value:"Texas",children:"Texas"})]})})}),e.jsx(n,{span:12,children:e.jsx(t.Item,{label:"Company Country:",name:"companyCountry",rules:[{required:!0,message:"Please select your Company Country!"}],children:e.jsxs(T,{placeholder:"Select a country",children:[e.jsx(h,{value:"United State",children:"United States"}),e.jsx(h,{value:"Canada",children:"Canada"}),e.jsx(h,{value:"India",children:"India"})]})})})]}),e.jsx(q,{orientation:"left",children:"Tax & Registration Details"})," ",e.jsxs(i,{gutter:16,children:[e.jsxs(n,{span:8,children:[" ",e.jsx(t.Item,{label:" GST No.",name:"companyTaxNumber",children:e.jsx(o,{placeholder:"Enter GST number"})})]}),e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"Bank Name:",name:"companyBankName",children:e.jsx(o,{placeholder:"Enter bank name"})})}),e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"Account Number:",name:"companyAccountNumber",children:e.jsx(o,{placeholder:"Enter account number"})})})]}),e.jsxs(i,{gutter:16,children:[e.jsxs(n,{span:8,children:[" ",e.jsx(t.Item,{label:"IFSC Code:",name:"companyIFSCCode",children:e.jsx(o,{placeholder:"Enter IFSC code"})})]}),e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"Branch:",name:"companyBranch",children:e.jsx(o,{placeholder:"Enter branch name"})})})]}),e.jsxs(t.Item,{style:{marginTop:24,textAlign:"right"},children:[" ",e.jsx(M,{type:"primary",style:{backgroundColor:"#0E2B43",borderColor:"#orange",color:"white"},htmlType:"submit",children:"Save Changes"})]})]})})},{Title:b,Paragraph:N}=G,{Dragger:D}=V,Z=()=>{const[x,c]=m.useState([]),[p,u]=m.useState(!1),[j,d]=m.useState(null),[Y,I]=m.useState([]),[$,w]=m.useState(!1),[U,C]=m.useState(null),P=async({file:a,onSuccess:s,onError:f,type:l})=>{const S=l==="logo"?u:w,g=l==="logo"?c:I,v=l==="logo"?d:C;S(!0);const L=new FormData;L.append(l==="logo"?"logoFile":"signatureFile",a);try{const R=await fetch(l==="logo"?"/api/upload-company-logo":"/api/upload-company-signature",{method:"POST",body:L});if(R.ok){const y=await R.json();r.success(`${a.name} ${l} uploaded successfully.`),s(y,a);const E=y.url||URL.createObjectURL(a);g([{uid:y.id||a.uid,name:a.name,status:"done",url:E}]),v(E)}else{const y=await R.json();r.error(`${a.name} ${l} upload failed: ${y.message||"Server error"}`),f(y)}}catch(F){console.error(`Upload ${l} error:`,F),r.error(`${a.name} ${l} upload failed: ${F.message}`),f(F)}finally{S(!1)}},k=async(a,s)=>{const f=s==="logo"?u:w,l=s==="logo"?c:I,S=s==="logo"?d:C;f(!0);try{const g=s==="logo"?`/api/delete-company-logo/${a.uid}`:`/api/delete-company-signature/${a.uid}`,v=await fetch(g,{method:"DELETE"});if(v.ok)r.success(`${a.name} ${s} removed successfully.`),l([]),S(null);else{const L=await v.json();r.error(`${a.name} ${s} removal failed: ${L.message||"Server error"}`)}}catch(g){console.error(`Removal ${s} error:`,g),r.error(`${a.name} ${s} removal failed: ${g.message}`)}finally{f(!1)}return!0},K={name:"logoFile",multiple:!1,listType:"picture",maxCount:1,accept:"image/*",fileList:x,customRequest:a=>P({...a,type:"logo"}),onChange(a){let s=[...a.fileList];s=s.slice(-1),a.file.status==="done"?(r.success(`${a.file.name} logo uploaded successfully.`),a.file.originFileObj?d(URL.createObjectURL(a.file.originFileObj)):a.file.url&&d(a.file.url)):a.file.status==="error"?r.error(`${a.file.name} logo upload failed.`):a.file.status==="removed"&&d(null),c(s)},onRemove:a=>k(a,"logo")},W={name:"signatureFile",multiple:!1,listType:"picture",maxCount:1,accept:"image/*",fileList:Y,customRequest:a=>P({...a,type:"signature"}),onChange(a){let s=[...a.fileList];s=s.slice(-1),a.file.status==="done"?(r.success(`${a.file.name} signature uploaded successfully.`),a.file.originFileObj?C(URL.createObjectURL(a.file.originFileObj)):a.file.url&&C(a.file.url)):a.file.status==="error"?r.error(`${a.file.name} signature upload failed.`):a.file.status==="removed"&&C(null),I(s)},onRemove:a=>k(a,"signature")};return e.jsxs(O,{title:e.jsx(b,{level:4,style:{margin:0},children:"Company Logo & Signature Settings"}),style:{margin:"auto",padding:"16px"},bodyStyle:{padding:"30px"},children:[e.jsx(N,{style:{marginBottom:24},children:"Manage your company logo and authorized signature images."}),e.jsxs(i,{gutter:[32,32],justify:"space-around",children:[e.jsxs(n,{xs:24,md:11,children:[e.jsx(b,{level:5,children:"Company Logo"}),e.jsx(N,{type:"secondary",style:{marginBottom:20},children:"Upload your official company logo."}),e.jsxs(i,{gutter:16,align:"middle",children:[e.jsx(n,{span:j?12:24,children:e.jsxs(D,{...K,disabled:p,children:[e.jsx("p",{className:"ant-upload-drag-icon",children:e.jsx(A,{})}),e.jsx("p",{className:"ant-upload-text",children:"Click or drag logo to this area"}),e.jsx("p",{className:"ant-upload-hint",children:"Support for single image upload. Max size: 2MB. Recommended: PNG."})]})}),j&&e.jsx(n,{span:12,style:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:e.jsxs("div",{children:[e.jsx(b,{level:5,style:{marginBottom:10,textAlign:"center"},children:"Current Logo:"}),e.jsx(B,{width:150,src:j,alt:"Company Logo Preview",style:{border:"1px solid #f0f0f0",padding:5,borderRadius:"4px"}})]})})]})]}),e.jsx(n,{xs:0,md:1,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(q,{type:"vertical",style:{height:"80%"}})}),e.jsxs(n,{xs:24,md:11,children:[e.jsx(b,{level:5,children:"Company Signature"}),e.jsx(N,{type:"secondary",style:{marginBottom:20},children:"Upload an authorized company signature image."}),e.jsxs(i,{gutter:16,align:"middle",children:[e.jsx(n,{span:U?12:24,children:e.jsxs(D,{...W,disabled:$,children:[e.jsx("p",{className:"ant-upload-drag-icon",children:e.jsx(A,{})}),e.jsx("p",{className:"ant-upload-text",children:"Click or drag signature to this area"}),e.jsx("p",{className:"ant-upload-hint",children:"Support for single image upload. Max size: 1MB. Recommended: Transparent PNG."})]})}),U&&e.jsx(n,{span:12,style:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:e.jsxs("div",{children:[e.jsx(b,{level:5,style:{marginBottom:10,textAlign:"center"},children:"Current Signature:"}),e.jsx(B,{width:150,src:U,alt:"Company Signature Preview",style:{border:"1px solid #f0f0f0",padding:5,borderRadius:"4px"}})]})})]})]})]}),e.jsx(M,{type:"primary",onClick:()=>{r.info("Saving all image settings...")},style:{backgroundColor:"#0E2B43",borderColor:"#orange",color:"white",marginTop:30,display:"block",margin:"30px auto 0"},disabled:p||$,children:"Save All Images"})]})},{Content:ee}=z,le=()=>{const[x,c]=m.useState("companySettings"),{token:{colorBgContainer:p,borderRadiusLG:u}}=_.useToken(),j=d=>{c(d)};return e.jsx(z,{style:{minHeight:"100vh"},children:e.jsx(ee,{style:{background:p,borderRadius:u},children:e.jsx(H,{defaultActiveKey:"companySettings",activeKey:x,onChange:j,tabPosition:"top",items:[{label:"General Settings",key:"generalSettings",children:e.jsx("div",{style:{padding:"24px"},children:"Content for General Settings tab"})},{label:"Company Settings",key:"companySettings",children:e.jsx(X,{})},{label:"Company Logo",key:"companyLogo",children:e.jsx(Z,{})},{label:"Currency Settings",key:"currencySettings",children:e.jsx("div",{style:{padding:"24px"},children:"Content for Currency Settings tab"})},{label:"PDF Settings",key:"pdfSettings",children:e.jsx("div",{style:{padding:"24px"},children:"Content for PDF Settings tab"})},{label:"Finance Settings",key:"financeSettings",children:e.jsx("div",{style:{padding:"24px"},children:"Content for Finance Settings tab"})}]})})})};export{le as default};
