import{r as l,i as N,R as y,ac as We,B as te,aW as Ae,aX as He,aY as ne,J as _,a9 as oe,d as w,X as De,aa as Ve,aU as qe,aZ as Xe,ab as F,a_ as Ze,u as Q,ai as Qe,aL as le,aH as Ge,aI as Ue,aM as Ye,aK as Je,aq as Ke,a$ as et}from"./index-CzhUO-j-.js";import{R as tt,a as nt}from"./ExclamationCircleFilled-DJFsQvbq.js";import{u as z,b as se,S as ot,a as lt}from"./TextArea-DXZam5Hb.js";import{R as st}from"./InfoCircleFilled-BHF3Pce5.js";import{A as ae}from"./ActionButton-LNqSuIr7.js";import{u as re,D as at,p as rt,a as ct,P as it}from"./index-DjwdYPep.js";import{u as ut,p as G}from"./useClosable-dDnesZuT.js";import{u as dt}from"./context-C3C_yqM-.js";function ft(){const[e,n]=l.useState([]),s=l.useCallback(t=>(n(o=>[].concat(N(o),[t])),()=>{n(o=>o.filter(c=>c!==t))}),[]);return[e,s]}const k=y.createContext({}),{Provider:ce}=k,U=()=>{const{autoFocusButton:e,cancelButtonProps:n,cancelTextLocale:s,isSilent:t,mergedOkCancel:o,rootPrefixCls:c,close:d,onCancel:i,onConfirm:r}=l.useContext(k);return o?y.createElement(ae,{isSilent:t,actionFn:i,close:(...u)=>{d==null||d.apply(void 0,u),r==null||r(!1)},autoFocus:e==="cancel",buttonProps:n,prefixCls:`${c}-btn`},s):null},Y=()=>{const{autoFocusButton:e,close:n,isSilent:s,okButtonProps:t,rootPrefixCls:o,okTextLocale:c,okType:d,onConfirm:i,onOk:r}=l.useContext(k);return y.createElement(ae,{isSilent:s,type:d||"primary",actionFn:r,close:(...u)=>{n==null||n.apply(void 0,u),i==null||i(!0)},autoFocus:e==="ok",buttonProps:t,prefixCls:`${o}-btn`},c)},mt=()=>We()&&window.document.documentElement,J=()=>{const{cancelButtonProps:e,cancelTextLocale:n,onCancel:s}=l.useContext(k);return y.createElement(te,Object.assign({onClick:s},e),n)},K=()=>{const{confirmLoading:e,okButtonProps:n,okType:s,okTextLocale:t,onOk:o}=l.useContext(k);return y.createElement(te,Object.assign({},Ae(s),{loading:e,onClick:o},n),t)};function ie(e,n){return y.createElement("span",{className:`${e}-close-x`},n||y.createElement(se,{className:`${e}-close-icon`}))}const ue=e=>{const{okText:n,okType:s="primary",cancelText:t,confirmLoading:o,onOk:c,onCancel:d,okButtonProps:i,cancelButtonProps:r,footer:u}=e,[a]=z("Modal",ne()),f=n||(a==null?void 0:a.okText),b=t||(a==null?void 0:a.cancelText),C={confirmLoading:o,okButtonProps:i,cancelButtonProps:r,okTextLocale:f,cancelTextLocale:b,okType:s,onOk:c,onCancel:d},p=y.useMemo(()=>C,N(Object.values(C)));let m;return typeof u=="function"||typeof u>"u"?(m=y.createElement(y.Fragment,null,y.createElement(J,null),y.createElement(K,null)),typeof u=="function"&&(m=u(m,{OkBtn:K,CancelBtn:J})),m=y.createElement(ce,{value:p},m)):m=u,y.createElement(He,{disabled:!1},m)};var Ct=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};let L;const gt=e=>{L={x:e.pageX,y:e.pageY},setTimeout(()=>{L=null},100)};mt()&&document.documentElement.addEventListener("click",gt,!0);const de=e=>{const{prefixCls:n,className:s,rootClassName:t,open:o,wrapClassName:c,centered:d,getContainer:i,focusTriggerAfterClose:r=!0,style:u,visible:a,width:f=520,footer:b,classNames:C,styles:p,children:m,loading:x,confirmLoading:g,zIndex:v,mousePosition:P,onOk:j,onCancel:T,destroyOnHidden:h,destroyOnClose:Pe,panelRef:he=null}=e,$e=Ct(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose","panelRef"]),{getPopupContainer:Ee,getPrefixCls:W,direction:je,modal:O}=l.useContext(_),A=I=>{g||T==null||T(I)},Te=I=>{j==null||j(I)},$=W("modal",n),H=W(),D=oe($),[Ie,V,we]=re($,D),Ne=w(c,{[`${$}-centered`]:d??(O==null?void 0:O.centered),[`${$}-wrap-rtl`]:je==="rtl"}),Se=b!==null&&!x?l.createElement(ue,Object.assign({},e,{onOk:Te,onCancel:A})):null,[q,X,ke,Me]=ut(G(e),G(O),{closable:!0,closeIcon:l.createElement(se,{className:`${$}-close-icon`}),closeIconRender:I=>ie($,I)}),Re=dt(`.${$}-content`),Be=De(he,Re),[Fe,_e]=Ve("Modal",v),[Le,R]=l.useMemo(()=>f&&typeof f=="object"?[void 0,f]:[f,void 0],[f]),ze=l.useMemo(()=>{const I={};return R&&Object.keys(R).forEach(Z=>{const B=R[Z];B!==void 0&&(I[`--${$}-${Z}-width`]=typeof B=="number"?`${B}px`:B)}),I},[R]);return Ie(l.createElement(qe,{form:!0,space:!0},l.createElement(Xe.Provider,{value:_e},l.createElement(at,Object.assign({width:Le},$e,{zIndex:Fe,getContainer:i===void 0?Ee:i,prefixCls:$,rootClassName:w(V,t,we,D),footer:Se,visible:o??a,mousePosition:P??L,onClose:A,closable:q&&Object.assign({disabled:ke,closeIcon:X},Me),closeIcon:X,focusTriggerAfterClose:r,transitionName:F(H,"zoom",e.transitionName),maskTransitionName:F(H,"fade",e.maskTransitionName),className:w(V,s,O==null?void 0:O.className),style:Object.assign(Object.assign(Object.assign({},O==null?void 0:O.style),u),ze),classNames:Object.assign(Object.assign(Object.assign({},O==null?void 0:O.classNames),C),{wrapper:w(Ne,C==null?void 0:C.wrapper)}),styles:Object.assign(Object.assign({},O==null?void 0:O.styles),p),panelRef:Be,destroyOnClose:h??Pe}),x?l.createElement(ot,{active:!0,title:!1,paragraph:{rows:4},className:`${$}-body-skeleton`}):m))))},vt=e=>{const{componentCls:n,titleFontSize:s,titleLineHeight:t,modalConfirmIconSize:o,fontSize:c,lineHeight:d,modalTitleHeight:i,fontHeight:r,confirmBodyPadding:u}=e,a=`${n}-confirm`;return{[a]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${a}-body-wrapper`]:Object.assign({},Qe()),[`&${n} ${n}-body`]:{padding:u},[`${a}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(r).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(i).sub(o).equal()).div(2).equal()}},[`${a}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${Q(e.marginSM)})`},[`${e.iconCls} + ${a}-paragraph`]:{maxWidth:`calc(100% - ${Q(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${a}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:s,lineHeight:t},[`${a}-content`]:{color:e.colorText,fontSize:c,lineHeight:d},[`${a}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${a}-error ${a}-body > ${e.iconCls}`]:{color:e.colorError},[`${a}-warning ${a}-body > ${e.iconCls},
        ${a}-confirm ${a}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${a}-info ${a}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${a}-success ${a}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},bt=Ze(["Modal","confirm"],e=>{const n=rt(e);return vt(n)},ct,{order:-1e3});var pt=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};function fe(e){const{prefixCls:n,icon:s,okText:t,cancelText:o,confirmPrefixCls:c,type:d,okCancel:i,footer:r,locale:u}=e,a=pt(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=s;if(!s&&s!==null)switch(d){case"info":f=l.createElement(st,null);break;case"success":f=l.createElement(nt,null);break;case"error":f=l.createElement(lt,null);break;default:f=l.createElement(tt,null)}const b=i??d==="confirm",C=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[p]=z("Modal"),m=u||p,x=t||(b?m==null?void 0:m.okText:m==null?void 0:m.justOkText),g=o||(m==null?void 0:m.cancelText),v=Object.assign({autoFocusButton:C,cancelTextLocale:g,okTextLocale:x,mergedOkCancel:b},a),P=l.useMemo(()=>v,N(Object.values(v))),j=l.createElement(l.Fragment,null,l.createElement(U,null),l.createElement(Y,null)),T=e.title!==void 0&&e.title!==null,h=`${c}-body`;return l.createElement("div",{className:`${c}-body-wrapper`},l.createElement("div",{className:w(h,{[`${h}-has-title`]:T})},f,l.createElement("div",{className:`${c}-paragraph`},T&&l.createElement("span",{className:`${c}-title`},e.title),l.createElement("div",{className:`${c}-content`},e.content))),r===void 0||typeof r=="function"?l.createElement(ce,{value:P},l.createElement("div",{className:`${c}-btns`},typeof r=="function"?r(j,{OkBtn:Y,CancelBtn:U}):j)):r,l.createElement(bt,{prefixCls:n}))}const xt=e=>{const{close:n,zIndex:s,maskStyle:t,direction:o,prefixCls:c,wrapClassName:d,rootPrefixCls:i,bodyStyle:r,closable:u=!1,onConfirm:a,styles:f}=e,b=`${c}-confirm`,C=e.width||416,p=e.style||{},m=e.mask===void 0?!0:e.mask,x=e.maskClosable===void 0?!1:e.maskClosable,g=w(b,`${b}-${e.type}`,{[`${b}-rtl`]:o==="rtl"},e.className),[,v]=Ge(),P=l.useMemo(()=>s!==void 0?s:v.zIndexPopupBase+Ue,[s,v]);return l.createElement(de,Object.assign({},e,{className:g,wrapClassName:w({[`${b}-centered`]:!!e.centered},d),onCancel:()=>{n==null||n({triggerCancel:!0}),a==null||a(!1)},title:"",footer:null,transitionName:F(i||"","zoom",e.transitionName),maskTransitionName:F(i||"","fade",e.maskTransitionName),mask:m,maskClosable:x,style:p,styles:Object.assign({body:r,mask:t},f),width:C,zIndex:P,closable:u}),l.createElement(fe,Object.assign({},e,{confirmPrefixCls:b})))},me=e=>{const{rootPrefixCls:n,iconPrefixCls:s,direction:t,theme:o}=e;return l.createElement(le,{prefixCls:n,iconPrefixCls:s,direction:t,theme:o},l.createElement(xt,Object.assign({},e)))},S=[];let Ce="";function ge(){return Ce}const yt=e=>{var n,s;const{prefixCls:t,getContainer:o,direction:c}=e,d=ne(),i=l.useContext(_),r=ge()||i.getPrefixCls(),u=t||`${r}-modal`;let a=o;return a===!1&&(a=void 0),y.createElement(me,Object.assign({},e,{rootPrefixCls:r,prefixCls:u,iconPrefixCls:i.iconPrefixCls,theme:i.theme,direction:c??i.direction,locale:(s=(n=i.locale)===null||n===void 0?void 0:n.Modal)!==null&&s!==void 0?s:d,getContainer:a}))};function M(e){const n=Ye(),s=document.createDocumentFragment();let t=Object.assign(Object.assign({},e),{close:r,open:!0}),o,c;function d(...a){var f;if(a.some(p=>p==null?void 0:p.triggerCancel)){var C;(f=e.onCancel)===null||f===void 0||(C=f).call.apply(C,[e,()=>{}].concat(N(a.slice(1))))}for(let p=0;p<S.length;p++)if(S[p]===r){S.splice(p,1);break}c()}function i(a){clearTimeout(o),o=setTimeout(()=>{const f=n.getPrefixCls(void 0,ge()),b=n.getIconPrefixCls(),C=n.getTheme(),p=y.createElement(yt,Object.assign({},a));c=Je()(y.createElement(le,{prefixCls:f,iconPrefixCls:b,theme:C},n.holderRender?n.holderRender(p):p),s)})}function r(...a){t=Object.assign(Object.assign({},t),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),d.apply(this,a)}}),t.visible&&delete t.visible,i(t)}function u(a){typeof a=="function"?t=a(t):t=Object.assign(Object.assign({},t),a),i(t)}return i(t),S.push(r),{destroy:r,update:u}}function ve(e){return Object.assign(Object.assign({},e),{type:"warning"})}function be(e){return Object.assign(Object.assign({},e),{type:"info"})}function pe(e){return Object.assign(Object.assign({},e),{type:"success"})}function xe(e){return Object.assign(Object.assign({},e),{type:"error"})}function ye(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Ot({rootPrefixCls:e}){Ce=e}var Pt=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const ht=(e,n)=>{var s,{afterClose:t,config:o}=e,c=Pt(e,["afterClose","config"]);const[d,i]=l.useState(!0),[r,u]=l.useState(o),{direction:a,getPrefixCls:f}=l.useContext(_),b=f("modal"),C=f(),p=()=>{var v;t(),(v=r.afterClose)===null||v===void 0||v.call(r)},m=(...v)=>{var P;if(i(!1),v.some(h=>h==null?void 0:h.triggerCancel)){var T;(P=r.onCancel)===null||P===void 0||(T=P).call.apply(T,[r,()=>{}].concat(N(v.slice(1))))}};l.useImperativeHandle(n,()=>({destroy:m,update:v=>{u(P=>{const j=typeof v=="function"?v(P):v;return Object.assign(Object.assign({},P),j)})}}));const x=(s=r.okCancel)!==null&&s!==void 0?s:r.type==="confirm",[g]=z("Modal",Ke.Modal);return l.createElement(me,Object.assign({prefixCls:b,rootPrefixCls:C},r,{close:m,open:d,afterClose:p,okText:r.okText||(x?g==null?void 0:g.okText:g==null?void 0:g.justOkText),direction:r.direction||a,cancelText:r.cancelText||(g==null?void 0:g.cancelText)},c))},$t=l.forwardRef(ht);let ee=0;const Et=l.memo(l.forwardRef((e,n)=>{const[s,t]=ft();return l.useImperativeHandle(n,()=>({patchElement:t}),[]),l.createElement(l.Fragment,null,s)}));function jt(){const e=l.useRef(null),[n,s]=l.useState([]);l.useEffect(()=>{n.length&&(N(n).forEach(d=>{d()}),s([]))},[n]);const t=l.useCallback(c=>function(i){var r;ee+=1;const u=l.createRef();let a;const f=new Promise(x=>{a=x});let b=!1,C;const p=l.createElement($t,{key:`modal-${ee}`,config:c(i),ref:u,afterClose:()=>{C==null||C()},isSilent:()=>b,onConfirm:x=>{a(x)}});return C=(r=e.current)===null||r===void 0?void 0:r.patchElement(p),C&&S.push(C),{destroy:()=>{function x(){var g;(g=u.current)===null||g===void 0||g.destroy()}u.current?x():s(g=>[].concat(N(g),[x]))},update:x=>{function g(){var v;(v=u.current)===null||v===void 0||v.update(x)}u.current?g():s(v=>[].concat(N(v),[g]))},then:x=>(b=!0,f.then(x))}},[]);return[l.useMemo(()=>({info:t(be),success:t(pe),error:t(xe),warning:t(ve),confirm:t(ye)}),[]),l.createElement(Et,{key:"modal-holder",ref:e})]}var Tt=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const It=e=>{const{prefixCls:n,className:s,closeIcon:t,closable:o,type:c,title:d,children:i,footer:r}=e,u=Tt(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:a}=l.useContext(_),f=a(),b=n||a("modal"),C=oe(f),[p,m,x]=re(b,C),g=`${b}-confirm`;let v={};return c?v={closable:o??!1,title:"",footer:"",children:l.createElement(fe,Object.assign({},e,{prefixCls:b,confirmPrefixCls:g,rootPrefixCls:f,content:i}))}:v={closable:o??!0,title:d,footer:r!==null&&l.createElement(ue,Object.assign({},e)),children:i},p(l.createElement(it,Object.assign({prefixCls:b,className:w(m,`${b}-pure-panel`,c&&g,c&&`${g}-${c}`,s,x,C)},u,{closeIcon:ie(b,t),closable:o},v)))},wt=et(It);function Oe(e){return M(ve(e))}const E=de;E.useModal=jt;E.info=function(n){return M(be(n))};E.success=function(n){return M(pe(n))};E.error=function(n){return M(xe(n))};E.warning=Oe;E.warn=Oe;E.confirm=function(n){return M(ye(n))};E.destroyAll=function(){for(;S.length;){const n=S.pop();n&&n()}};E.config=Ot;E._InternalPanelDoNotUseOrYouWillBeFired=wt;export{E as M};
