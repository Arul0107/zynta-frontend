import{d as $e,g as at,m as it,R as b,J as jt,K as De,L as kt,r as A,I as ot,e as st,a as _t,b as Tt,M as Et,N as Le,P as Ct,f as ct,x as p,S as It,B as Fe,y as $t}from"./index-DysXtrl7.js";import{h as $}from"./moment-C5S46NFB.js";import{i as Rt}from"./axios-Dbq_CbWC.js";import{T as Nt}from"./index-PWcPX8J0.js";import{R as Be,C as le}from"./row-BYIzmBXD.js";import{C as ue}from"./index-IahplJ7o.js";import{p as Dt,S as Lt}from"./TextArea-Bqbh4RKI.js";import{R as Ft}from"./FallOutlined-2N1Ij9xk.js";import{f as E,x as lt,y as Bt,z as ut,A as Mt,b as J,T as Re,C as H,L,D as ft,d as Ne,e as dt,E as Vt,F as Kt,H as ae,I as ee,S as zt,J as Ht,c as Wt,K as Me,M as Yt,i as te,N as Gt,O as qt,G as Ut,m as he,P as Zt,Q as pt,U as Jt,V as pe,w as Ve,r as Xt,W as Qt,R as er,v as tr,X as rr}from"./generateCategoricalChart-B71JAKPp.js";import{c as G}from"./clsx-B-dksMZM.js";import{I as nr}from"./index-N4YTd5WF.js";import{S as _e}from"./index-qBajPA1p.js";import{F as ar}from"./Table-DflE-h7Z.js";import{s as ir}from"./index-B2vH5Mtt.js";import{T as Ke}from"./index-BBTWRX9T.js";import"./EditOutlined-C9Bhlaw5.js";import"./styleChecker-w1bbWMN2.js";import"./index-CL3JxQbZ.js";import"./PlusOutlined-BIwFneT8.js";import"./rgb-CRqGqeL1.js";import"./addEventListener-D04I5D8z.js";import"./index-BrgBQ01W.js";import"./Pagination-ByOtUXMd.js";import"./extendsObject-78o_rR5W.js";import"./InfoCircleFilled-6_sUPPXN.js";import"./useClosable-DxUighul.js";const mt=["wrap","nowrap","wrap-reverse"],ht=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],gt=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],or=(r,e)=>{const n=e.wrap===!0?"wrap":e.wrap;return{[`${r}-wrap-${n}`]:n&&mt.includes(n)}},sr=(r,e)=>{const n={};return gt.forEach(t=>{n[`${r}-align-${t}`]=e.align===t}),n[`${r}-align-stretch`]=!e.align&&!!e.vertical,n},cr=(r,e)=>{const n={};return ht.forEach(t=>{n[`${r}-justify-${t}`]=e.justify===t}),n};function lr(r,e){return $e(Object.assign(Object.assign(Object.assign({},or(r,e)),sr(r,e)),cr(r,e)))}const ur=r=>{const{componentCls:e}=r;return{[e]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},fr=r=>{const{componentCls:e}=r;return{[e]:{"&-gap-small":{gap:r.flexGapSM},"&-gap-middle":{gap:r.flexGap},"&-gap-large":{gap:r.flexGapLG}}}},dr=r=>{const{componentCls:e}=r,n={};return mt.forEach(t=>{n[`${e}-wrap-${t}`]={flexWrap:t}}),n},pr=r=>{const{componentCls:e}=r,n={};return gt.forEach(t=>{n[`${e}-align-${t}`]={alignItems:t}}),n},mr=r=>{const{componentCls:e}=r,n={};return ht.forEach(t=>{n[`${e}-justify-${t}`]={justifyContent:t}}),n},hr=()=>({}),gr=at("Flex",r=>{const{paddingXS:e,padding:n,paddingLG:t}=r,a=it(r,{flexGapSM:e,flexGap:n,flexGapLG:t});return[ur(a),fr(a),dr(a),pr(a),mr(a)]},hr,{resetStyle:!1});var yr=function(r,e){var n={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(n[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(r);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(r,t[a])&&(n[t[a]]=r[t[a]]);return n};const ze=b.forwardRef((r,e)=>{const{prefixCls:n,rootClassName:t,className:a,style:s,flex:i,gap:c,children:u,vertical:l=!1,component:m="div"}=r,g=yr(r,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:h,direction:x,getPrefixCls:y}=b.useContext(jt),d=y("flex",n),[O,w,j]=gr(d),_=l??(h==null?void 0:h.vertical),R=$e(a,t,h==null?void 0:h.className,d,w,j,lr(d,r),{[`${d}-rtl`]:x==="rtl",[`${d}-gap-${c}`]:De(c),[`${d}-vertical`]:_}),k=Object.assign(Object.assign({},h==null?void 0:h.style),s);return i&&(k.flex=i),c&&!De(c)&&(k.gap=c),O(b.createElement(m,Object.assign({ref:e,className:R,style:k},kt(g,["justify","wrap","align"])),u))});var vr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},br=function(e,n){return A.createElement(ot,st({},e,{ref:n,icon:vr}))},xr=A.forwardRef(br),Ar={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M917 211.1l-199.2 24c-6.6.8-9.4 8.9-4.7 13.6l59.3 59.3-226 226-101.8-101.7c-6.3-6.3-16.4-6.2-22.6 0L100.3 754.1a8.03 8.03 0 000 11.3l45 45.2c3.1 3.1 8.2 3.1 11.3 0L433.3 534 535 635.7c6.3 6.2 16.4 6.2 22.6 0L829 364.5l59.3 59.3a8.01 8.01 0 0013.6-4.7l24-199.2c.7-5.1-3.7-9.5-8.9-8.8z"}}]},name:"rise",theme:"outlined"},Sr=function(e,n){return A.createElement(ot,st({},e,{ref:n,icon:Ar}))},He=A.forwardRef(Sr);const Or=r=>{const{value:e,formatter:n,precision:t,decimalSeparator:a,groupSeparator:s="",prefixCls:i}=r;let c;if(typeof n=="function")c=n(e);else{const u=String(e),l=u.match(/^(-?)(\d*)(\.(\d+))?$/);if(!l||u==="-")c=u;else{const m=l[1];let g=l[2]||"0",h=l[4]||"";g=g.replace(/\B(?=(\d{3})+(?!\d))/g,s),typeof t=="number"&&(h=h.padEnd(t,"0").slice(0,t>0?t:0)),h&&(h=`${a}${h}`),c=[A.createElement("span",{key:"int",className:`${i}-content-value-int`},m,g),h&&A.createElement("span",{key:"decimal",className:`${i}-content-value-decimal`},h)]}}return A.createElement("span",{className:`${i}-content-value`},c)},Pr=r=>{const{componentCls:e,marginXXS:n,padding:t,colorTextDescription:a,titleFontSize:s,colorTextHeading:i,contentFontSize:c,fontFamily:u}=r;return{[e]:Object.assign(Object.assign({},_t(r)),{[`${e}-title`]:{marginBottom:n,color:a,fontSize:s},[`${e}-skeleton`]:{paddingTop:t},[`${e}-content`]:{color:i,fontSize:c,fontFamily:u,[`${e}-content-value`]:{display:"inline-block",direction:"ltr"},[`${e}-content-prefix, ${e}-content-suffix`]:{display:"inline-block"},[`${e}-content-prefix`]:{marginInlineEnd:n},[`${e}-content-suffix`]:{marginInlineStart:n}}})}},wr=r=>{const{fontSizeHeading3:e,fontSize:n}=r;return{titleFontSize:n,contentFontSize:e}},jr=at("Statistic",r=>{const e=it(r,{});return[Pr(e)]},wr);var kr=function(r,e){var n={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(n[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(r);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(r,t[a])&&(n[t[a]]=r[t[a]]);return n};const Q=A.forwardRef((r,e)=>{const{prefixCls:n,className:t,rootClassName:a,style:s,valueStyle:i,value:c=0,title:u,valueRender:l,prefix:m,suffix:g,loading:h=!1,formatter:x,precision:y,decimalSeparator:d=".",groupSeparator:O=",",onMouseEnter:w,onMouseLeave:j}=r,_=kr(r,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:R,direction:k,className:D,style:V}=Tt("statistic"),S=R("statistic",n),[F,C,K]=jr(S),B=A.createElement(Or,{decimalSeparator:d,groupSeparator:O,prefixCls:S,formatter:x,precision:y,value:c}),I=$e(S,{[`${S}-rtl`]:k==="rtl"},D,t,a,C,K),Y=A.useRef(null);A.useImperativeHandle(e,()=>({nativeElement:Y.current}));const o=Dt(_,{aria:!0,data:!0});return F(A.createElement("div",Object.assign({},o,{ref:Y,className:I,style:Object.assign(Object.assign({},V),s),onMouseEnter:w,onMouseLeave:j}),u&&A.createElement("div",{className:`${S}-title`},u),A.createElement(Lt,{paragraph:!1,loading:h,className:`${S}-skeleton`},A.createElement("div",{style:i,className:`${S}-content`},m&&A.createElement("span",{className:`${S}-content-prefix`},m),l?l(B):B,g&&A.createElement("span",{className:`${S}-content-suffix`},g)))))}),_r=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function Tr(r,e){let n=r;const t=/\[[^\]]*]/g,a=(e.match(t)||[]).map(u=>u.slice(1,-1)),s=e.replace(t,"[]"),i=_r.reduce((u,[l,m])=>{if(u.includes(l)){const g=Math.floor(n/m);return n-=g*m,u.replace(new RegExp(`${l}+`,"g"),h=>{const x=h.length;return g.toString().padStart(x,"0")})}return u},s);let c=0;return i.replace(t,()=>{const u=a[c];return c+=1,u})}function Er(r,e,n){const{format:t=""}=e,a=new Date(r).getTime(),s=Date.now(),i=Math.max(n?a-s:s-a,0);return Tr(i,t)}var Cr=function(r,e){var n={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(n[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(r);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(r,t[a])&&(n[t[a]]=r[t[a]]);return n};function Ir(r){return new Date(r).getTime()}const yt=r=>{const{value:e,format:n="HH:mm:ss",onChange:t,onFinish:a,type:s}=r,i=Cr(r,["value","format","onChange","onFinish","type"]),c=s==="countdown",[u,l]=A.useState(null),m=Et(()=>{const x=Date.now(),y=Ir(e);l({});const d=c?y-x:x-y;return t==null||t(d),c&&y<x?(a==null||a(),!1):!0});A.useEffect(()=>{let x;const y=()=>Le.cancel(x),d=()=>{x=Le(()=>{m()&&d()})};return d(),y},[e,c]),A.useEffect(()=>{l({})},[]);const g=(x,y)=>u?Er(x,Object.assign(Object.assign({},y),{format:n}),c):"-",h=x=>Ct(x,{title:void 0});return A.createElement(Q,Object.assign({},i,{value:e,valueRender:h,formatter:g}))},$r=r=>A.createElement(yt,Object.assign({},r,{type:"countdown"})),Rr=A.memo($r);Q.Timer=yt;Q.Countdown=Rr;var Nr=["points","className","baseLinePoints","connectNulls"];function re(){return re=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},re.apply(this,arguments)}function Dr(r,e){if(r==null)return{};var n=Lr(r,e),t,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)t=s[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function Lr(r,e){if(r==null)return{};var n={};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;n[t]=r[t]}return n}function We(r){return Vr(r)||Mr(r)||Br(r)||Fr()}function Fr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Br(r,e){if(r){if(typeof r=="string")return Te(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(r,e)}}function Mr(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Vr(r){if(Array.isArray(r))return Te(r)}function Te(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var Ye=function(e){return e&&e.x===+e.x&&e.y===+e.y},Kr=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(t){Ye(t)?n[n.length-1].push(t):n[n.length-1].length>0&&n.push([])}),Ye(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},fe=function(e,n){var t=Kr(e);n&&(t=[t.reduce(function(s,i){return[].concat(We(s),We(i))},[])]);var a=t.map(function(s){return s.reduce(function(i,c,u){return"".concat(i).concat(u===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return t.length===1?"".concat(a,"Z"):a},zr=function(e,n,t){var a=fe(e,t);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(fe(n.reverse(),t).slice(1))},Hr=function(e){var n=e.points,t=e.className,a=e.baseLinePoints,s=e.connectNulls,i=Dr(e,Nr);if(!n||!n.length)return null;var c=G("recharts-polygon",t);if(a&&a.length){var u=i.stroke&&i.stroke!=="none",l=zr(n,a,s);return b.createElement("g",{className:c},b.createElement("path",re({},E(i,!0),{fill:l.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:l})),u?b.createElement("path",re({},E(i,!0),{fill:"none",d:fe(n,s)})):null,u?b.createElement("path",re({},E(i,!0),{fill:"none",d:fe(a,s)})):null)}var m=fe(n,s);return b.createElement("path",re({},E(i,!0),{fill:m.slice(-1)==="Z"?i.fill:"none",className:c,d:m}))},Pe,Ge;function Wr(){if(Ge)return Pe;Ge=1;var r=lt(),e=Bt(),n=ut();function t(a,s){return a&&a.length?r(a,n(s,2),e):void 0}return Pe=t,Pe}var Yr=Wr();const Gr=ct(Yr);var we,qe;function qr(){if(qe)return we;qe=1;var r=lt(),e=ut(),n=Mt();function t(a,s){return a&&a.length?r(a,e(s,2),n):void 0}return we=t,we}var Ur=qr();const Zr=ct(Ur);var Jr=["cx","cy","angle","ticks","axisLine"],Xr=["ticks","tick","angle","tickFormatter","stroke"];function ie(r){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(r)}function de(){return de=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},de.apply(this,arguments)}function Ue(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function U(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ue(Object(n),!0).forEach(function(t){xe(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function Ze(r,e){if(r==null)return{};var n=Qr(r,e),t,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)t=s[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function Qr(r,e){if(r==null)return{};var n={};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;n[t]=r[t]}return n}function en(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Je(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,bt(t.key),t)}}function tn(r,e,n){return e&&Je(r.prototype,e),n&&Je(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function rn(r,e,n){return e=ye(e),nn(r,vt()?Reflect.construct(e,n||[],ye(r).constructor):e.apply(r,n))}function nn(r,e){if(e&&(ie(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return an(r)}function an(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function vt(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vt=function(){return!!r})()}function ye(r){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ye(r)}function on(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Ee(r,e)}function Ee(r,e){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},Ee(r,e)}function xe(r,e,n){return e=bt(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function bt(r){var e=sn(r,"string");return ie(e)=="symbol"?e:e+""}function sn(r,e){if(ie(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(ie(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Ae=function(r){function e(){return en(this,e),rn(this,e,arguments)}return on(e,r),tn(e,[{key:"getTickValueCoord",value:function(t){var a=t.coordinate,s=this.props,i=s.angle,c=s.cx,u=s.cy;return H(c,u,a,i)}},{key:"getTickTextAnchor",value:function(){var t=this.props.orientation,a;switch(t){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var t=this.props,a=t.cx,s=t.cy,i=t.angle,c=t.ticks,u=Gr(c,function(m){return m.coordinate||0}),l=Zr(c,function(m){return m.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:l.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var t=this.props,a=t.cx,s=t.cy,i=t.angle,c=t.ticks,u=t.axisLine,l=Ze(t,Jr),m=c.reduce(function(y,d){return[Math.min(y[0],d.coordinate),Math.max(y[1],d.coordinate)]},[1/0,-1/0]),g=H(a,s,m[0],i),h=H(a,s,m[1],i),x=U(U(U({},E(l,!1)),{},{fill:"none"},E(u,!1)),{},{x1:g.x,y1:g.y,x2:h.x,y2:h.y});return b.createElement("line",de({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var t=this,a=this.props,s=a.ticks,i=a.tick,c=a.angle,u=a.tickFormatter,l=a.stroke,m=Ze(a,Xr),g=this.getTickTextAnchor(),h=E(m,!1),x=E(i,!1),y=s.map(function(d,O){var w=t.getTickValueCoord(d),j=U(U(U(U({textAnchor:g,transform:"rotate(".concat(90-c,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:l},x),{},{index:O},w),{},{payload:d});return b.createElement(L,de({className:G("recharts-polar-radius-axis-tick",ft(i)),key:"tick-".concat(d.coordinate)},Ne(t.props,d,O)),e.renderTickItem(i,j,u?u(d.value,O):d.value))});return b.createElement(L,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var t=this.props,a=t.ticks,s=t.axisLine,i=t.tick;return!a||!a.length?null:b.createElement(L,{className:G("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),dt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(t,a,s){var i;return b.isValidElement(t)?i=b.cloneElement(t,a):J(t)?i=t(a):i=b.createElement(Re,de({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(A.PureComponent);xe(Ae,"displayName","PolarRadiusAxis");xe(Ae,"axisType","radiusAxis");xe(Ae,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function oe(r){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(r)}function X(){return X=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},X.apply(this,arguments)}function Xe(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function Z(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xe(Object(n),!0).forEach(function(t){Se(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function cn(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Qe(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,At(t.key),t)}}function ln(r,e,n){return e&&Qe(r.prototype,e),n&&Qe(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function un(r,e,n){return e=ve(e),fn(r,xt()?Reflect.construct(e,n||[],ve(r).constructor):e.apply(r,n))}function fn(r,e){if(e&&(oe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dn(r)}function dn(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function xt(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xt=function(){return!!r})()}function ve(r){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ve(r)}function pn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Ce(r,e)}function Ce(r,e){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},Ce(r,e)}function Se(r,e,n){return e=At(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function At(r){var e=mn(r,"string");return oe(e)=="symbol"?e:e+""}function mn(r,e){if(oe(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(oe(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var hn=Math.PI/180,gn=1e-5,Oe=function(r){function e(){return cn(this,e),un(this,e,arguments)}return pn(e,r),ln(e,[{key:"getTickLineCoord",value:function(t){var a=this.props,s=a.cx,i=a.cy,c=a.radius,u=a.orientation,l=a.tickSize,m=l||8,g=H(s,i,c,t.coordinate),h=H(s,i,c+(u==="inner"?-1:1)*m,t.coordinate);return{x1:g.x,y1:g.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(t){var a=this.props.orientation,s=Math.cos(-t.coordinate*hn),i;return s>gn?i=a==="outer"?"start":"end":s<-1e-5?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var t=this.props,a=t.cx,s=t.cy,i=t.radius,c=t.axisLine,u=t.axisLineType,l=Z(Z({},E(this.props,!1)),{},{fill:"none"},E(c,!1));if(u==="circle")return b.createElement(Vt,X({className:"recharts-polar-angle-axis-line"},l,{cx:a,cy:s,r:i}));var m=this.props.ticks,g=m.map(function(h){return H(a,s,i,h.coordinate)});return b.createElement(Hr,X({className:"recharts-polar-angle-axis-line"},l,{points:g}))}},{key:"renderTicks",value:function(){var t=this,a=this.props,s=a.ticks,i=a.tick,c=a.tickLine,u=a.tickFormatter,l=a.stroke,m=E(this.props,!1),g=E(i,!1),h=Z(Z({},m),{},{fill:"none"},E(c,!1)),x=s.map(function(y,d){var O=t.getTickLineCoord(y),w=t.getTickTextAnchor(y),j=Z(Z(Z({textAnchor:w},m),{},{stroke:"none",fill:l},g),{},{index:d,payload:y,x:O.x2,y:O.y2});return b.createElement(L,X({className:G("recharts-polar-angle-axis-tick",ft(i)),key:"tick-".concat(y.coordinate)},Ne(t.props,y,d)),c&&b.createElement("line",X({className:"recharts-polar-angle-axis-tick-line"},h,O)),i&&e.renderTickItem(i,j,u?u(y.value,d):y.value))});return b.createElement(L,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var t=this.props,a=t.ticks,s=t.radius,i=t.axisLine;return s<=0||!a||!a.length?null:b.createElement(L,{className:G("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(t,a,s){var i;return b.isValidElement(t)?i=b.cloneElement(t,a):J(t)?i=t(a):i=b.createElement(Re,X({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(A.PureComponent);Se(Oe,"displayName","PolarAngleAxis");Se(Oe,"axisType","angleAxis");Se(Oe,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ge;function se(r){"@babel/helpers - typeof";return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(r)}function ne(){return ne=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},ne.apply(this,arguments)}function et(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function P(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?et(Object(n),!0).forEach(function(t){N(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function yn(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,Ot(t.key),t)}}function vn(r,e,n){return e&&tt(r.prototype,e),n&&tt(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function bn(r,e,n){return e=be(e),xn(r,St()?Reflect.construct(e,n||[],be(r).constructor):e.apply(r,n))}function xn(r,e){if(e&&(se(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return An(r)}function An(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function St(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(St=function(){return!!r})()}function be(r){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},be(r)}function Sn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Ie(r,e)}function Ie(r,e){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},Ie(r,e)}function N(r,e,n){return e=Ot(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Ot(r){var e=On(r,"string");return se(e)=="symbol"?e:e+""}function On(r,e){if(se(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(se(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var W=function(r){function e(n){var t;return yn(this,e),t=bn(this,e,[n]),N(t,"pieRef",null),N(t,"sectorRefs",[]),N(t,"id",qt("recharts-pie-")),N(t,"handleAnimationEnd",function(){var a=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),J(a)&&a()}),N(t,"handleAnimationStart",function(){var a=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),J(a)&&a()}),t.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},t}return Sn(e,r),vn(e,[{key:"isActiveIndex",value:function(t){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(t)!==-1:t===a}},{key:"hasActiveIndex",value:function(){var t=this.props.activeIndex;return Array.isArray(t)?t.length!==0:t||t===0}},{key:"renderLabels",value:function(t){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,c=s.labelLine,u=s.dataKey,l=s.valueKey,m=E(this.props,!1),g=E(i,!1),h=E(c,!1),x=i&&i.offsetRadius||20,y=t.map(function(d,O){var w=(d.startAngle+d.endAngle)/2,j=H(d.cx,d.cy,d.outerRadius+x,w),_=P(P(P(P({},m),d),{},{stroke:"none"},g),{},{index:O,textAnchor:e.getTextAnchor(j.x,d.cx)},j),R=P(P(P(P({},m),d),{},{fill:"none",stroke:d.fill},h),{},{index:O,points:[H(d.cx,d.cy,d.outerRadius,w),j]}),k=u;return ae(u)&&ae(l)?k="value":ae(u)&&(k=l),b.createElement(L,{key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(O)},c&&e.renderLabelLineItem(c,R,"line"),e.renderLabelItem(i,_,ee(d,k)))});return b.createElement(L,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(t){var a=this,s=this.props,i=s.activeShape,c=s.blendStroke,u=s.inactiveShape;return t.map(function(l,m){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&t.length!==1)return null;var g=a.isActiveIndex(m),h=u&&a.hasActiveIndex()?u:null,x=g?i:h,y=P(P({},l),{},{stroke:c?l.fill:l.stroke,tabIndex:-1});return b.createElement(L,ne({ref:function(O){O&&!a.sectorRefs.includes(O)&&a.sectorRefs.push(O)},tabIndex:-1,className:"recharts-pie-sector"},Ne(a.props,l,m),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(m)}),b.createElement(zt,ne({option:x,isActive:g,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var t=this,a=this.props,s=a.sectors,i=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,l=a.animationEasing,m=a.animationId,g=this.state,h=g.prevSectors,x=g.prevIsAnimationActive;return b.createElement(Ht,{begin:c,duration:u,isActive:i,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var d=y.t,O=[],w=s&&s[0],j=w.startAngle;return s.forEach(function(_,R){var k=h&&h[R],D=R>0?Wt(_,"paddingAngle",0):0;if(k){var V=Me(k.endAngle-k.startAngle,_.endAngle-_.startAngle),S=P(P({},_),{},{startAngle:j+D,endAngle:j+V(d)+D});O.push(S),j=S.endAngle}else{var F=_.endAngle,C=_.startAngle,K=Me(0,F-C),B=K(d),I=P(P({},_),{},{startAngle:j+D,endAngle:j+B+D});O.push(I),j=I.endAngle}}),b.createElement(L,null,t.renderSectorsStatically(O))})}},{key:"attachKeyboardHandlers",value:function(t){var a=this;t.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var t=this.props,a=t.sectors,s=t.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!Yt(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var t=this,a=this.props,s=a.hide,i=a.sectors,c=a.className,u=a.label,l=a.cx,m=a.cy,g=a.innerRadius,h=a.outerRadius,x=a.isAnimationActive,y=this.state.isAnimationFinished;if(s||!i||!i.length||!te(l)||!te(m)||!te(g)||!te(h))return null;var d=G("recharts-pie",c);return b.createElement(L,{tabIndex:this.props.rootTabIndex,className:d,ref:function(w){t.pieRef=w}},this.renderSectors(),u&&this.renderLabels(i),dt.renderCallByParent(this.props,null,!1),(!x||y)&&Gt.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(t,a){return a.prevIsAnimationActive!==t.isAnimationActive?{prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:[],isAnimationFinished:!0}:t.isAnimationActive&&t.animationId!==a.prevAnimationId?{prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:t.sectors!==a.curSectors?{curSectors:t.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(t,a){return t>a?"start":t<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(t,a,s){if(b.isValidElement(t))return b.cloneElement(t,a);if(J(t))return t(a);var i=G("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return b.createElement(Kt,ne({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(t,a,s){if(b.isValidElement(t))return b.cloneElement(t,a);var i=s;if(J(t)&&(i=t(a),b.isValidElement(i)))return i;var c=G("recharts-pie-label-text",typeof t!="boolean"&&!J(t)?t.className:"");return b.createElement(Re,ne({},a,{alignmentBaseline:"middle",className:c}),i)}}])}(A.PureComponent);ge=W;N(W,"displayName","Pie");N(W,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ut.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});N(W,"parseDeltaAngle",function(r,e){var n=he(e-r),t=Math.min(Math.abs(e-r),360);return n*t});N(W,"getRealPieData",function(r){var e=r.data,n=r.children,t=E(r,!1),a=Zt(n,pt);return e&&e.length?e.map(function(s,i){return P(P(P({payload:s},t),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return P(P({},t),s.props)}):[]});N(W,"parseCoordinateOfPie",function(r,e){var n=e.top,t=e.left,a=e.width,s=e.height,i=Jt(a,s),c=t+pe(r.cx,a,a/2),u=n+pe(r.cy,s,s/2),l=pe(r.innerRadius,i,0),m=pe(r.outerRadius,i,i*.8),g=r.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:u,innerRadius:l,outerRadius:m,maxRadius:g}});N(W,"getComposedData",function(r){var e=r.item,n=r.offset,t=e.type.defaultProps!==void 0?P(P({},e.type.defaultProps),e.props):e.props,a=ge.getRealPieData(t);if(!a||!a.length)return null;var s=t.cornerRadius,i=t.startAngle,c=t.endAngle,u=t.paddingAngle,l=t.dataKey,m=t.nameKey,g=t.valueKey,h=t.tooltipType,x=Math.abs(t.minAngle),y=ge.parseCoordinateOfPie(t,n),d=ge.parseDeltaAngle(i,c),O=Math.abs(d),w=l;ae(l)&&ae(g)?(Ve(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):ae(l)&&(Ve(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=g);var j=a.filter(function(S){return ee(S,w,0)!==0}).length,_=(O>=360?j:j-1)*u,R=O-j*x-_,k=a.reduce(function(S,F){var C=ee(F,w,0);return S+(te(C)?C:0)},0),D;if(k>0){var V;D=a.map(function(S,F){var C=ee(S,w,0),K=ee(S,m,F),B=(te(C)?C:0)/k,I;F?I=V.endAngle+he(d)*u*(C!==0?1:0):I=i;var Y=I+he(d)*((C!==0?x:0)+B*R),o=(I+Y)/2,f=(y.innerRadius+y.outerRadius)/2,v=[{name:K,value:C,payload:S,dataKey:w,type:h}],T=H(y.cx,y.cy,f,o);return V=P(P(P({percent:B,cornerRadius:s,name:K,tooltipPayload:v,midAngle:o,middleRadius:f,tooltipPosition:T},S),y),{},{value:ee(S,w),startAngle:I,endAngle:Y,payload:S,paddingAngle:he(d)*u}),V})}return P(P({},y),{},{sectors:D,data:a})});var Pn=Xt({chartName:"PieChart",GraphicalChild:W,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Oe},{axisType:"radiusAxis",AxisComp:Ae}],formatAxisMap:Qt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const{Title:je,Paragraph:ke}=Nt,{Search:wn}=nr,{Option:rt}=_e,nt=["#52c41a","#faad14"],me=["#6ab84d","#38a1f4","#7c55c1","#f18e56"],Xn=()=>{const[r,e]=A.useState([]),[n,t]=A.useState(!0),[a,s]=A.useState(null),[i,c]=A.useState(""),[u,l]=A.useState(null),[m,g]=A.useState(null),[h,x]=A.useState(1),y=10,d=(o,f)=>{const v=(f||[]).reduce((z,q)=>z+(q.amount||0),0),T=o-v,M=.01;return o===0||o===void 0||o===null?"Not Applicable":T<=M?"Paid":v>M?"Partially Paid":"Pending"},O=async()=>{t(!0);try{const v=(await Rt.get("/api/invoices")).data.map(T=>{const M=T.totalAmount?parseFloat(T.totalAmount):0,z=d(M,T.paymentHistory);return{...T,totalAmount:M,paymentStatus:z}});e(v),console.log("--- Derived Invoice Payment Statuses (for Dashboard) ---"),v.forEach(T=>{var z,q,ce;const M=((q=(z=T.paymentHistory)==null?void 0:z.reduce((Pt,wt)=>Pt+wt.amount,0))==null?void 0:q.toFixed(2))||"0.00";console.log(`ID: ${T._id}, Type: ${T.invoiceType}, Total: ${(ce=T.totalAmount)==null?void 0:ce.toFixed(2)}, Payments Sum: ${M}, Derived Status: '${T.paymentStatus}'`)}),console.log("-------------------------------------------------------")}catch(o){console.error("Failed to fetch invoices:",o),s("Failed to fetch invoices. Please check your network or backend API."),ir.error("Failed to fetch invoices")}finally{t(!1)}};A.useEffect(()=>{O()},[]);const j=(()=>{let o=r;if(u&&m?o=o.filter(f=>{const v=$(f.date);return v.month()===u-1&&v.year()===m}):u?o=o.filter(f=>$(f.date).month()===u-1):m&&(o=o.filter(f=>$(f.date).year()===m)),i){const f=i.toLowerCase();o=o.filter(v=>{var T,M,z,q,ce;return((T=v==null?void 0:v.businessName)==null?void 0:T.toLowerCase().includes(f))||((M=v==null?void 0:v.contactName)==null?void 0:M.toLowerCase().includes(f))||((z=v==null?void 0:v.invoiceNumber)==null?void 0:z.toLowerCase().includes(f))||((q=v==null?void 0:v.proformaNumber)==null?void 0:q.toLowerCase().includes(f))||((ce=v==null?void 0:v.paymentStatus)==null?void 0:ce.toLowerCase().includes(f))})}return o})();A.useEffect(()=>{x(1)},[i,u,m]);const _=$.months(),R=$().year(),k=Array.from({length:10},(o,f)=>R-5+f),D=[{title:"S.No",key:"sno",render:(o,f,v)=>(h-1)*y+v+1,width:60,align:"center"},{title:"Number",dataIndex:"invoiceNumber",key:"number",render:(o,f)=>f.invoiceNumber||f.proformaNumber||"N/A",sorter:(o,f)=>(o.invoiceNumber||o.proformaNumber||"").localeCompare(f.invoiceNumber||f.proformaNumber||""),width:120,align:"left"},{title:"Type",dataIndex:"invoiceType",key:"type",width:100,render:o=>p.jsx(Ke,{color:o==="Invoice"?"blue":"purple",children:o}),align:"center"},{title:"Business",dataIndex:"businessName",key:"business",sorter:(o,f)=>(o.businessName||"").localeCompare(f.businessName||""),ellipsis:!0,width:180,align:"left"},{title:"Amount (₹)",dataIndex:"totalAmount",key:"amount",render:o=>`₹${Number(o).toFixed(2)}`,sorter:(o,f)=>(o.totalAmount||0)-(f.totalAmount||0),width:120,align:"right"},{title:"Date",dataIndex:"date",key:"date",render:o=>$(o).format("DD/MM/YYYY"),sorter:(o,f)=>$(o.date).unix()-$(f.date).unix(),width:120,align:"center"},{title:"Due Date",dataIndex:"dueDate",key:"dueDate",render:o=>o?$(o).format("DD/MM/YYYY"):"N/A",sorter:(o,f)=>($(o.dueDate).isValid()?$(o.dueDate).unix():-1/0)-($(f.dueDate).isValid()?$(f.dueDate).unix():-1/0),width:120,align:"center"},{title:"Payment Status",dataIndex:"paymentStatus",key:"paymentStatus",render:o=>{let f="default";return o==="Paid"?f="green":o==="Pending"?f="volcano":o==="Partially Paid"&&(f="orange"),p.jsx(Ke,{color:f,children:o})},sorter:(o,f)=>(o.paymentStatus||"").localeCompare(f.paymentStatus||""),width:140,align:"center"}],V=o=>o.paymentStatus==="Paid"?"invoice-row-paid":o.paymentStatus==="Pending"?"invoice-row-pending":o.paymentStatus==="Partially Paid"?"invoice-row-partial":"",S=r.filter(o=>o.invoiceType==="Invoice"),F=S.length,C=S.reduce((o,f)=>o+(f.totalAmount||0),0),K=S.filter(o=>o.paymentStatus==="Paid").length,B=S.filter(o=>o.paymentStatus==="Pending"||o.paymentStatus==="Partially Paid").length,I=[{name:"Paid",value:K,amount:S.filter(o=>o.paymentStatus==="Paid").reduce((o,f)=>o+f.totalAmount,0)},{name:"Pending / Partially Paid",value:B,amount:S.filter(o=>o.paymentStatus==="Pending"||o.paymentStatus==="Partially Paid").reduce((o,f)=>o+f.totalAmount,0)}].filter(o=>o.value>0),Y=S.reduce((o,f)=>{const v=f.createdAt?$(f.createdAt).format("YYYY-MM-DD"):"Unknown Date";return o[v]||(o[v]={totalAmount:0}),o[v].totalAmount+=f.totalAmount||0,o},{});return Object.keys(Y).map(o=>({date:o,amount:Y[o].totalAmount})).sort((o,f)=>new Date(o.date)-new Date(f.date)),n&&!r.length?p.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:p.jsx(It,{size:"large",tip:"Loading invoice data..."})}):a?p.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"red",fontSize:"1.2em"},children:[p.jsx(ke,{type:"danger",children:a}),p.jsx(Fe,{onClick:O,type:"primary",style:{backgroundColor:"#0E2B43",borderColor:"#orange",color:"white"},children:"Retry Loading Invoices"})]}):p.jsxs("div",{style:{padding:"24px",maxWidth:"1600px",margin:"0 auto"},children:[p.jsx(ze,{justify:"start",align:"center",style:{marginBottom:"24px",flexWrap:"wrap"},children:p.jsx(je,{level:2,style:{margin:0},children:"Invoice Dashboard"})}),p.jsx(ke,{style:{marginBottom:"30px"},children:"Welcome to your Invoice Dashboard. All statistics and charts below reflect documents categorized as 'Invoice'."}),p.jsx(je,{level:3,style:{marginBottom:"20px"},children:"Invoice Overview"}),p.jsxs(Be,{gutter:[24,24],style:{marginBottom:"30px"},children:[p.jsx(le,{xs:24,sm:12,md:6,children:p.jsx(ue,{bordered:!1,hoverable:!0,className:"dashboard-card statistic-card-orange",children:p.jsx(Q,{title:p.jsx("span",{style:{color:"white"},children:"Total Invoices"}),value:F,valueStyle:{color:"white"},prefix:p.jsx(He,{style:{color:"white"}})})})}),p.jsx(le,{xs:24,sm:12,md:6,children:p.jsx(ue,{bordered:!1,hoverable:!0,className:"dashboard-card statistic-card-blue",children:p.jsx(Q,{title:p.jsx("span",{style:{color:"white"},children:"Total Amount"}),value:C.toFixed(2),prefix:p.jsx("span",{style:{color:"white"},children:"₹"}),valueStyle:{color:"white"}})})}),p.jsx(le,{xs:24,sm:12,md:6,children:p.jsx(ue,{bordered:!1,hoverable:!0,className:"dashboard-card statistic-card-green",children:p.jsx(Q,{title:p.jsx("span",{style:{color:"white"},children:"Paid Invoices"}),value:K,valueStyle:{color:"white"},prefix:p.jsx(He,{style:{color:"white"}})})})}),p.jsx(le,{xs:24,sm:12,md:6,children:p.jsx(ue,{bordered:!1,hoverable:!0,className:"dashboard-card statistic-card-purple",children:p.jsx(Q,{title:p.jsx("span",{style:{color:"white"},children:"Pending/Partial Invoices"}),value:B,valueStyle:{color:"white"},prefix:p.jsx(Ft,{style:{color:"white"}})})})})]}),p.jsx(Be,{gutter:[24,24],style:{marginBottom:"30px"},children:p.jsx(le,{xs:24,children:p.jsx(ue,{title:"Invoice Payment Status",bordered:!1,hoverable:!0,className:"dashboard-card chart-card",children:p.jsx("div",{style:{height:300},children:I.length>0?p.jsx(er,{width:"100%",height:"100%",children:p.jsxs(Pn,{children:[p.jsx(W,{data:I,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,dataKey:"value",nameKey:"name",label:({name:o,percent:f,amount:v})=>`${o}: ${v.toFixed(2)} (${(f*100).toFixed(0)}%)`,animationBegin:800,animationDuration:800,children:I.map((o,f)=>p.jsx(pt,{fill:nt[f%nt.length]},`cell-${f}`))}),p.jsx(tr,{formatter:(o,f,v)=>[`₹ ${v.payload.amount.toFixed(2)}`,v.payload.name],contentStyle:{backgroundColor:"rgba(255,255,255,0.9)",border:"1px solid #ddd",borderRadius:"4px"},labelStyle:{color:"#333",fontWeight:"bold"}}),p.jsx(rr,{})]})}):p.jsx(ke,{style:{textAlign:"center",marginTop:"50px",color:"#888"},children:"No invoice data to display for payment status."})})})})}),p.jsx(je,{level:3,style:{marginBottom:"20px"},children:"All Invoices"}),p.jsxs("div",{style:{padding:"24px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.09)"},children:[p.jsx(ze,{justify:"space-between",align:"center",style:{marginBottom:20,gap:"10px",flexWrap:"wrap"},children:p.jsxs($t,{wrap:!0,size:[16,16],children:[p.jsx(wn,{placeholder:"Search by name, number, status...",allowClear:!0,onSearch:o=>c(o),onChange:o=>c(o.target.value),style:{width:300},enterButton:!0}),p.jsx(_e,{placeholder:"Filter by Month",allowClear:!0,style:{width:160},onChange:o=>l(o),value:u,children:_.map((o,f)=>p.jsx(rt,{value:f+1,children:o},f+1))}),p.jsx(_e,{placeholder:"Filter by Year",allowClear:!0,style:{width:120},onChange:o=>g(o),value:m,children:k.map(o=>p.jsx(rt,{value:o,children:o},o))}),(u||m||i)&&p.jsx(Fe,{icon:p.jsx(xr,{}),onClick:()=>{c(""),l(null),g(null)},children:"Clear Filters"})]})}),p.jsx(ar,{columns:D,dataSource:j,rowKey:"_id",loading:n,pagination:{current:h,pageSize:y,total:j.length,showSizeChanger:!1,onChange:o=>x(o),position:["bottomCenter"]},rowClassName:V,scroll:{x:"max-content"},bordered:!0,locale:{emptyText:"No invoices found matching your criteria."}}),p.jsx("style",{jsx:!0,children:`
          .dashboard-card {
            border-radius: 12px; /* More rounded corners */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
          }
          .dashboard-card:hover {
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
          }
          .statistic-card-orange {
            background-color: ${me[0]};
          }
          .statistic-card-blue {
            background-color: ${me[1]};
          }
          .statistic-card-green {
            background-color: ${me[2]};
          }
          .statistic-card-purple {
            background-color: ${me[3]};
          }
          /* Ensure text within statistic cards is white */
          .statistic-card-orange .ant-statistic-title,
          .statistic-card-blue .ant-statistic-title,
          .statistic-card-green .ant-statistic-title,
          .statistic-card-purple .ant-statistic-title,
          .statistic-card-orange .ant-statistic-content,
          .statistic-card-blue .ant-statistic-content,
          .statistic-card-green .ant-statistic-content,
          .statistic-card-purple .ant-statistic-content {
            color: white !important; /* Use !important to override Ant Design defaults if necessary */
          }
          .chart-card .ant-card-head {
            border-bottom: none;
            padding-bottom: 0;
          }
          .invoice-row-paid {
            background-color: #f6ffed; /* Ant Design success background */
          }
          .invoice-row-pending {
            background-color: #fff1f0; /* Ant Design error background */
          }
          .invoice-row-partial {
            background-color: #fffbe6; /* Ant Design warning background */
          }
        `})]})]})};export{Xn as default};
